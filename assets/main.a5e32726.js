import{i as instance,o as openBlock,c as createElementBlock,a as createBaseVNode,w as withDirectives,v as vModelText,F as Fragment,p as pushScopeId,b as popScopeId,d as vModelRadio,e as defineAsyncComponent,r as resolveComponent,f as createBlock,g as resolveDynamicComponent,h as withModifiers,t as toDisplayString,j as createCommentVNode,n as normalizeClass,k as ref,l as normalizeStyle,m as createTextVNode,q as hooks,s as renderList,u as reactive,x as createVNode,y as createApp}from"./vendor.0d55ffb7.js";const p=function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))t(i);new MutationObserver(i=>{for(const n of i)if(n.type==="childList")for(const a of n.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&t(a)}).observe(document,{childList:!0,subtree:!0});function e(i){const n={};return i.integrity&&(n.integrity=i.integrity),i.referrerpolicy&&(n.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?n.credentials="include":i.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function t(i){if(i.ep)return;i.ep=!0;const n=e(i);fetch(i.href,n)}};p();const codes={ok:0,error:1,sqlNativeError:2,sessionError:3,limitedAccess:4,clientError:5,rewardOpError:6,buyOpError:7,useOpError:8,attackOpError:9},petType={none:0,cat:1,rabbit:2,dog:3},eventType={attack:1,startWorking:2,endWorking:3,enhance:4},levels=[{level:1,exp:10},{level:2,exp:20},{level:3,exp:40},{level:4,exp:60},{level:5,exp:80},{level:6,exp:100},{level:7,exp:120},{level:8,exp:140},{level:9,exp:160},{level:10,exp:180},{level:11,exp:220},{level:12,exp:260},{level:13,exp:300},{level:14,exp:340},{level:15,exp:380},{level:16,exp:420},{level:17,exp:460},{level:18,exp:500},{level:19,exp:540},{level:20,exp:600}];function getNextLevelExp(o=0){const r=getLevel(o)+1;let e=0;for(let t=0,i;i=levels[t];t++)if(r===i.level){e=i.exp;break}return e}function getLevel(o=0){let r=0;for(let e=0,t;(t=levels[e])&&o>=t.exp;e++)r=t.level;return r}function getPetStage(o=0){let r=1;return o>=1&&(r=2),o>=5&&(r=3),o>=10&&(r=4),o>=15&&(r=5),r}const shopProps=[{type:1,name:"\u6B66\u529B\u725B\u5976",price:100,desc:"\u589E\u52A0 1 \u70B9\u6B66\u529B\u503C"},{type:2,name:"\u9632\u5FA1\u5496\u5561",price:100,desc:"\u589E\u52A0 1 \u70B9\u9632\u5FA1\u503C"},{type:3,name:"\u654F\u6377\u7EFF\u8336",price:100,desc:"\u589E\u52A0 1 \u70B9\u654F\u6377\u503C"},{type:4,name:"\u968F\u7F18\u9762\u5305",price:150,desc:"\u968F\u673A\u589E\u52A0 2 \u70B9\u5C5E\u6027"},{type:5,name:"\u9605\u5386\u9762\u5305",price:200,desc:"\u589E\u52A0 15 \u70B9\u7ECF\u9A8C"}];function getInitMorkData(){const o=Date.now();return{time:o,code:0,pets:[{id:1,user_id:1,type:3,force:59,defence:56,agility:52,total_exp:337,name:"VJ",coin:7637,isMine:!0},{id:4,user_id:4,type:1,force:61,defence:64,agility:62,total_exp:221,name:"\u96E8\u4E09",coin:299},{id:5,user_id:5,type:3,force:63,defence:63,agility:63,total_exp:220,name:"\u91CE\u539F\u65B0\u4E4B\u52A9",coin:651},{id:3,user_id:3,type:2,force:16,defence:16,agility:16,total_exp:94,name:"\u5FC6\u7136\u7279\u96F7\u897F",coin:14},{id:2,user_id:2,type:1,force:10,defence:10,agility:10,total_exp:20,name:"\u6708\u591C\u732B Jiner",coin:0},{id:6,user_id:6,type:2,force:17,defence:17,agility:17,total_exp:20,name:"\u4E0A\u5584\u82E5\u6C34",coin:100},{id:9,user_id:8,type:1,force:10,defence:10,agility:10,total_exp:0,name:"\u5948\u5948\u751F",coin:0}],attacks:[{user_id:1,times:3},{user_id:5,times:2},{user_id:4,times:1}],events:[{id:11,type:2,user_id:1,target_id:null,c_time:1655306833396,c_date:"2022-06-15",success:1,award_name:"\u91D1\u5E01",award_num:11},{id:7,type:1,user_id:4,target_id:5,c_time:1655302421440,c_date:"2022-06-15",success:1,award_name:"\u91D1\u5E01",award_num:4},{id:5,type:1,user_id:5,target_id:4,c_time:1655302306633,c_date:"2022-06-15",success:1,award_name:"\u91D1\u5E01",award_num:2},{id:4,type:1,user_id:5,target_id:4,c_time:1655302301403,c_date:"2022-06-15",success:1,award_name:"\u91D1\u5E01",award_num:3},{id:3,type:1,user_id:1,target_id:3,c_time:1655301910559,c_date:"2022-06-15",success:1,award_name:"\u91D1\u5E01",award_num:3},{id:2,type:1,user_id:1,target_id:3,c_time:1655301887165,c_date:"2022-06-15",success:1,award_name:"\u91D1\u5E01",award_num:4},{id:1,type:1,user_id:1,target_id:3,c_time:1655301815175,c_date:"2022-06-15",success:1,award_name:"\u91D1\u5E01",award_num:4}],myInfo:{id:1,name:"VJ",coin:7637,last_visit_time:o},myEvents:[{id:11,type:2,user_id:1,target_id:null,c_time:1655306833396,c_date:"2022-06-15",success:1,award_name:"\u91D1\u5E01",award_num:11},{id:3,type:1,user_id:1,target_id:3,c_time:1655301910559,c_date:"2022-06-15",success:1,award_name:"\u91D1\u5E01",award_num:3},{id:2,type:1,user_id:1,target_id:3,c_time:1655301887165,c_date:"2022-06-15",success:1,award_name:"\u91D1\u5E01",award_num:4},{id:1,type:1,user_id:1,target_id:3,c_time:1655301815175,c_date:"2022-06-15",success:1,award_name:"\u91D1\u5E01",award_num:4}],myProps:[{type:2,nums:2},{type:3,nums:1},{type:4,nums:1}]}}const url="http://34.212.39.186:2022",request=function(){const o={},r={},e=(t,i,n)=>{if(n||(o[t]=i,instance.emit("request/loading",i)),i){const a=(r[t]||0)+1;return r[t]=a,a}};return(t,i={},n,a)=>{if(o[t])return;const h=e(t,!0,a);fetch(`${url}/${t}`,{credentials:"include",mode:"cors",method:"post",body:JSON.stringify(i),headers:{"content-Type":"application/json"}}).then(l=>{if(l.ok)return l.json();throw new Error("\u8BF7\u6C42\u5931\u8D25")}).then(l=>{r[t]===h&&(e(t,!1,a),typeof l.err=="object"&&(l.err=JSON.stringify(l.err)),n(l))}).catch(l=>{e(t,!1,a),n({err:l,code:codes.clientError})})}}(),getInitData=(o,r)=>{if(location.hostname==="vajoy.github.io")return instance.emit("request/loading",!1),o(getInitMorkData());request("get-init-data",{},o,r)},login=(o,r)=>{request("login",o,r)},modifyPassword=(o,r)=>{request("modify-password",o,r)},pickPet=(o,r)=>{request("init-egg",o,r)},markEvent=(o,r)=>{request("mark-event",o,r)},endWorking=o=>{request("end-working",{},o)},buyProp=(o,r)=>{request("buy-prop",o,r)},useProp=(o,r)=>{request("use-prop",o,r)},attack=(o,r)=>{request("attack",o,r)};function reload(){instance.emit("request/reload")}var Login_vue_vue_type_style_index_0_scoped_true_lang="",_export_sfc=(o,r)=>{const e=o.__vccOpts||o;for(const[t,i]of r)e[t]=i;return e};const _sfc_main$b={props:[],methods:{goLogin(){const o=String(this.id).trim(),r=this.password.trim(),e=this.newPassword.trim();if(!o)return instance.emit("dialog/alert","ID \u672A\u586B\u5199\u3002");const t={id:o,password:r,newPassword:e},i=n=>{n.code===codes.ok?reload():instance.emit("dialog/alert",`[${n.code}] ${n.err||"\u767B\u5F55\u5931\u8D25\uFF0C\u8BF7\u622A\u56FE\u8054\u7CFB vj \u5904\u7406\u3002"}`)};e?modifyPassword(t,i):login(t,i)}},data(){return{id:"",password:"",newPassword:""}}},_withScopeId$1=o=>(pushScopeId("data-v-a1a07e1c"),o=o(),popScopeId(),o),_hoisted_1$a=_withScopeId$1(()=>createBaseVNode("div",{class:"mask-bg"},null,-1)),_hoisted_2$a={class:"login-wrap dialog-base"},_hoisted_3$7=_withScopeId$1(()=>createBaseVNode("h1",null,"\u8BF7\u5148\u767B\u5F55",-1)),_hoisted_4$7=_withScopeId$1(()=>createBaseVNode("label",null,"ID",-1)),_hoisted_5$7=_withScopeId$1(()=>createBaseVNode("label",null,"\u5BC6\u7801",-1)),_hoisted_6$7=_withScopeId$1(()=>createBaseVNode("label",null,"\u65B0\u5BC6\u7801",-1)),_hoisted_7$6=_withScopeId$1(()=>createBaseVNode("span",{class:"tip"},"\u82E5\u9700\u8981\u4FEE\u6539\u5BC6\u7801\uFF0C\u624D\u586B\u5199\u300C\u65B0\u5BC6\u7801\u300D\u9879",-1));function _sfc_render$b(o,r,e,t,i,n){return openBlock(),createElementBlock(Fragment,null,[_hoisted_1$a,createBaseVNode("div",_hoisted_2$a,[_hoisted_3$7,createBaseVNode("p",null,[_hoisted_4$7,withDirectives(createBaseVNode("input",{"onUpdate:modelValue":r[0]||(r[0]=a=>i.id=a),type:"number",placeholder:"\u7EAF\u6570\u5B57"},null,512),[[vModelText,i.id]])]),createBaseVNode("p",null,[_hoisted_5$7,withDirectives(createBaseVNode("input",{"onUpdate:modelValue":r[1]||(r[1]=a=>i.password=a),type:"password",maxlength:"30"},null,512),[[vModelText,i.password]])]),createBaseVNode("p",null,[_hoisted_6$7,withDirectives(createBaseVNode("input",{"onUpdate:modelValue":r[2]||(r[2]=a=>i.newPassword=a),class:"new-password",type:"password",maxlength:"30",placeholder:"\u9009\u586B"},null,512),[[vModelText,i.newPassword]])]),_hoisted_7$6,createBaseVNode("p",{class:"button",onClick:r[3]||(r[3]=(...a)=>n.goLogin&&n.goLogin(...a))},"\u786E\u5B9A\u767B\u5F55")])],64)}var Login=_export_sfc(_sfc_main$b,[["render",_sfc_render$b],["__scopeId","data-v-a1a07e1c"]]);/*!
* CreateJS
* Visit http://createjs.com/ for documentation, updates and examples.
*
* Copyright (c) 2010 gskinner.com, inc.
*
* Permission is hereby granted, free of charge, to any person
* obtaining a copy of this software and associated documentation
* files (the "Software"), to deal in the Software without
* restriction, including without limitation the rights to use,
* copy, modify, merge, publish, distribute, sublicense, and/or sell
* copies of the Software, and to permit persons to whom the
* Software is furnished to do so, subject to the following
* conditions:
*
* The above copyright notice and this permission notice shall be
* included in all copies or substantial portions of the Software.
*
* THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
* EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
* OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
* NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
* HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
* WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
* FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
* OTHER DEALINGS IN THE SOFTWARE.
*/const createjs={};createjs.extend=function(o,r){function e(){this.constructor=o}return e.prototype=r.prototype,o.prototype=new e};createjs.promote=function(o,r){var e=o.prototype,t=Object.getPrototypeOf&&Object.getPrototypeOf(e)||e.__proto__;if(t){e[(r+="_")+"constructor"]=t.constructor;for(var i in t)e.hasOwnProperty(i)&&typeof t[i]=="function"&&(e[r+i]=t[i])}return o};createjs.indexOf=function(o,r){for(var e=0,t=o.length;e<t;e++)if(r===o[e])return e;return-1};(function(){function o(){throw"UID cannot be instantiated"}o._nextID=0,o.get=function(){return o._nextID++},createjs.UID=o})();createjs.deprecate=function(o,r){return function(){var e="Deprecated property or method '"+r+"'. See docs for info.";return console&&(console.warn?console.warn(e):console.log(e)),o&&o.apply(this,arguments)}};(function(){function o(e,t,i){this.type=e,this.target=null,this.currentTarget=null,this.eventPhase=0,this.bubbles=!!t,this.cancelable=!!i,this.timeStamp=new Date().getTime(),this.defaultPrevented=!1,this.propagationStopped=!1,this.immediatePropagationStopped=!1,this.removed=!1}var r=o.prototype;r.preventDefault=function(){this.defaultPrevented=this.cancelable&&!0},r.stopPropagation=function(){this.propagationStopped=!0},r.stopImmediatePropagation=function(){this.immediatePropagationStopped=this.propagationStopped=!0},r.remove=function(){this.removed=!0},r.clone=function(){return new o(this.type,this.bubbles,this.cancelable)},r.set=function(e){for(var t in e)this[t]=e[t];return this},r.toString=function(){return"[Event (type="+this.type+")]"},createjs.Event=o})();(function(){function o(){this._listeners=null,this._captureListeners=null}var r=o.prototype;o.initialize=function(e){e.addEventListener=r.addEventListener,e.on=r.on,e.removeEventListener=e.off=r.removeEventListener,e.removeAllEventListeners=r.removeAllEventListeners,e.hasEventListener=r.hasEventListener,e.dispatchEvent=r.dispatchEvent,e._dispatchEvent=r._dispatchEvent,e.willTrigger=r.willTrigger},r.addEventListener=function(e,t,i){var n;i?n=this._captureListeners=this._captureListeners||{}:n=this._listeners=this._listeners||{};var a=n[e];return a&&this.removeEventListener(e,t,i),a=n[e],a?a.push(t):n[e]=[t],t},r.on=function(e,t,i,n,a,h){return t.handleEvent&&(i=i||t,t=t.handleEvent),i=i||this,this.addEventListener(e,function(l){t.call(i,l,a),n&&l.remove()},h)},r.removeEventListener=function(e,t,i){var n=i?this._captureListeners:this._listeners;if(!!n){var a=n[e];if(!!a){for(var h=0,l=a.length;h<l;h++)if(a[h]==t){l==1?delete n[e]:a.splice(h,1);break}}}},r.off=r.removeEventListener,r.removeAllEventListeners=function(e){e?(this._listeners&&delete this._listeners[e],this._captureListeners&&delete this._captureListeners[e]):this._listeners=this._captureListeners=null},r.dispatchEvent=function(e,t,i){if(typeof e=="string"){var n=this._listeners;if(!t&&(!n||!n[e]))return!0;e=new createjs.Event(e,t,i)}else e.target&&e.clone&&(e=e.clone());try{e.target=this}catch{}if(!e.bubbles||!this.parent)this._dispatchEvent(e,2);else{for(var a=this,h=[a];a.parent;)h.push(a=a.parent);var l,c=h.length;for(l=c-1;l>=0&&!e.propagationStopped;l--)h[l]._dispatchEvent(e,1+(l==0));for(l=1;l<c&&!e.propagationStopped;l++)h[l]._dispatchEvent(e,3)}return!e.defaultPrevented},r.hasEventListener=function(e){var t=this._listeners,i=this._captureListeners;return!!(t&&t[e]||i&&i[e])},r.willTrigger=function(e){for(var t=this;t;){if(t.hasEventListener(e))return!0;t=t.parent}return!1},r.toString=function(){return"[EventDispatcher]"},r._dispatchEvent=function(e,t){var i,n,a=t<=2?this._captureListeners:this._listeners;if(e&&a&&(n=a[e.type])&&(i=n.length)){try{e.currentTarget=this}catch{}try{e.eventPhase=t|0}catch{}e.removed=!1,n=n.slice();for(var h=0;h<i&&!e.immediatePropagationStopped;h++){var l=n[h];l.handleEvent?l.handleEvent(e):l(e),e.removed&&(this.off(e.type,l,t==1),e.removed=!1)}}t===2&&this._dispatchEvent(e,2.1)},createjs.EventDispatcher=o})();(function(){function o(){throw"Ticker cannot be instantiated."}o.RAF_SYNCHED="synched",o.RAF="raf",o.TIMEOUT="timeout",o.timingMode=null,o.maxDelta=0,o.paused=!1,o.removeEventListener=null,o.removeAllEventListeners=null,o.dispatchEvent=null,o.hasEventListener=null,o._listeners=null,createjs.EventDispatcher.initialize(o),o._addEventListener=o.addEventListener,o.addEventListener=function(){return!o._inited&&o.init(),o._addEventListener.apply(o,arguments)},o._inited=!1,o._startTime=0,o._pausedTime=0,o._ticks=0,o._pausedTicks=0,o._interval=50,o._lastTime=0,o._times=null,o._tickTimes=null,o._timerId=null,o._raf=!0,o._setInterval=function(t){o._interval=t,o._inited&&o._setupTick()},o.setInterval=createjs.deprecate(o._setInterval,"Ticker.setInterval"),o._getInterval=function(){return o._interval},o.getInterval=createjs.deprecate(o._getInterval,"Ticker.getInterval"),o._setFPS=function(t){o._setInterval(1e3/t)},o.setFPS=createjs.deprecate(o._setFPS,"Ticker.setFPS"),o._getFPS=function(){return 1e3/o._interval},o.getFPS=createjs.deprecate(o._getFPS,"Ticker.getFPS");try{Object.defineProperties(o,{interval:{get:o._getInterval,set:o._setInterval},framerate:{get:o._getFPS,set:o._setFPS}})}catch(t){console.log(t)}o.init=function(){o._inited||(o._inited=!0,o._times=[],o._tickTimes=[],o._startTime=o._getTime(),o._times.push(o._lastTime=0),o.interval=o._interval)},o.reset=function(){if(o._raf){var t=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame;t&&t(o._timerId)}else clearTimeout(o._timerId);o.removeAllEventListeners("tick"),o._timerId=o._times=o._tickTimes=null,o._startTime=o._lastTime=o._ticks=o._pausedTime=0,o._inited=!1},o.getMeasuredTickTime=function(t){var i=0,n=o._tickTimes;if(!n||n.length<1)return-1;t=Math.min(n.length,t||o._getFPS()|0);for(var a=0;a<t;a++)i+=n[a];return i/t},o.getMeasuredFPS=function(t){var i=o._times;return!i||i.length<2?-1:(t=Math.min(i.length-1,t||o._getFPS()|0),1e3/((i[0]-i[t])/t))},o.getTime=function(t){return o._startTime?o._getTime()-(t?o._pausedTime:0):-1},o.getEventTime=function(t){return o._startTime?(o._lastTime||o._startTime)-(t?o._pausedTime:0):-1},o.getTicks=function(t){return o._ticks-(t?o._pausedTicks:0)},o._handleSynch=function(){o._timerId=null,o._setupTick(),o._getTime()-o._lastTime>=(o._interval-1)*.97&&o._tick()},o._handleRAF=function(){o._timerId=null,o._setupTick(),o._tick()},o._handleTimeout=function(){o._timerId=null,o._setupTick(),o._tick()},o._setupTick=function(){if(o._timerId==null){var t=o.timingMode;if(t==o.RAF_SYNCHED||t==o.RAF){var i=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame;if(i){o._timerId=i(t==o.RAF?o._handleRAF:o._handleSynch),o._raf=!0;return}}o._raf=!1,o._timerId=setTimeout(o._handleTimeout,o._interval)}},o._tick=function(){var t=o.paused,i=o._getTime(),n=i-o._lastTime;if(o._lastTime=i,o._ticks++,t&&(o._pausedTicks++,o._pausedTime+=n),o.hasEventListener("tick")){var a=new createjs.Event("tick"),h=o.maxDelta;a.delta=h&&n>h?h:n,a.paused=t,a.time=i,a.runTime=i-o._pausedTime,o.dispatchEvent(a)}for(o._tickTimes.unshift(o._getTime()-i);o._tickTimes.length>100;)o._tickTimes.pop();for(o._times.unshift(i);o._times.length>100;)o._times.pop()};var r=window,e=r.performance.now||r.performance.mozNow||r.performance.msNow||r.performance.oNow||r.performance.webkitNow;o._getTime=function(){return(e&&e.call(r.performance)||new Date().getTime())-o._startTime},createjs.Ticker=o})();(function(){function o(e){this.readyState=e.readyState,this._video=e,this._canvas=null,this._lastTime=-1,this.readyState<2&&e.addEventListener("canplaythrough",this._videoReady.bind(this))}var r=o.prototype;r.getImage=function(){if(!(this.readyState<2)){var e=this._canvas,t=this._video;if(e||(e=this._canvas=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas"),e.width=t.videoWidth,e.height=t.videoHeight),t.readyState>=2&&t.currentTime!==this._lastTime){var i=e.getContext("2d");i.clearRect(0,0,e.width,e.height),i.drawImage(t,0,0,e.width,e.height),this._lastTime=t.currentTime}return e}},r._videoReady=function(){this.readyState=2},createjs.VideoBuffer=o})();(function(){function o(e,t,i,n,a,h,l,c,u,d,f){this.Event_constructor(e,t,i),this.stageX=n,this.stageY=a,this.rawX=u==null?n:u,this.rawY=d==null?a:d,this.nativeEvent=h,this.pointerID=l,this.primary=!!c,this.relatedTarget=f}var r=createjs.extend(o,createjs.Event);r._get_localX=function(){return this.currentTarget.globalToLocal(this.rawX,this.rawY).x},r._get_localY=function(){return this.currentTarget.globalToLocal(this.rawX,this.rawY).y},r._get_isTouch=function(){return this.pointerID!==-1};try{Object.defineProperties(r,{localX:{get:r._get_localX},localY:{get:r._get_localY},isTouch:{get:r._get_isTouch}})}catch{}r.clone=function(){return new o(this.type,this.bubbles,this.cancelable,this.stageX,this.stageY,this.nativeEvent,this.pointerID,this.primary,this.rawX,this.rawY)},r.toString=function(){return"[MouseEvent (type="+this.type+" stageX="+this.stageX+" stageY="+this.stageY+")]"},createjs.MouseEvent=createjs.promote(o,"Event")})();(function(){function o(e,t,i,n,a,h){this.setValues(e,t,i,n,a,h)}var r=o.prototype;o.DEG_TO_RAD=Math.PI/180,o.identity=null,r.setValues=function(e,t,i,n,a,h){return this.a=e==null?1:e,this.b=t||0,this.c=i||0,this.d=n==null?1:n,this.tx=a||0,this.ty=h||0,this},r.append=function(e,t,i,n,a,h){var l=this.a,c=this.b,u=this.c,d=this.d;return(e!=1||t!=0||i!=0||n!=1)&&(this.a=l*e+u*t,this.b=c*e+d*t,this.c=l*i+u*n,this.d=c*i+d*n),this.tx=l*a+u*h+this.tx,this.ty=c*a+d*h+this.ty,this},r.prepend=function(e,t,i,n,a,h){var l=this.a,c=this.c,u=this.tx;return this.a=e*l+i*this.b,this.b=t*l+n*this.b,this.c=e*c+i*this.d,this.d=t*c+n*this.d,this.tx=e*u+i*this.ty+a,this.ty=t*u+n*this.ty+h,this},r.appendMatrix=function(e){return this.append(e.a,e.b,e.c,e.d,e.tx,e.ty)},r.prependMatrix=function(e){return this.prepend(e.a,e.b,e.c,e.d,e.tx,e.ty)},r.appendTransform=function(e,t,i,n,a,h,l,c,u){if(a%360)var d=a*o.DEG_TO_RAD,f=Math.cos(d),_=Math.sin(d);else f=1,_=0;return h||l?(h*=o.DEG_TO_RAD,l*=o.DEG_TO_RAD,this.append(Math.cos(l),Math.sin(l),-Math.sin(h),Math.cos(h),e,t),this.append(f*i,_*i,-_*n,f*n,0,0)):this.append(f*i,_*i,-_*n,f*n,e,t),(c||u)&&(this.tx-=c*this.a+u*this.c,this.ty-=c*this.b+u*this.d),this},r.prependTransform=function(e,t,i,n,a,h,l,c,u){if(a%360)var d=a*o.DEG_TO_RAD,f=Math.cos(d),_=Math.sin(d);else f=1,_=0;return(c||u)&&(this.tx-=c,this.ty-=u),h||l?(h*=o.DEG_TO_RAD,l*=o.DEG_TO_RAD,this.prepend(f*i,_*i,-_*n,f*n,0,0),this.prepend(Math.cos(l),Math.sin(l),-Math.sin(h),Math.cos(h),e,t)):this.prepend(f*i,_*i,-_*n,f*n,e,t),this},r.rotate=function(e){e=e*o.DEG_TO_RAD;var t=Math.cos(e),i=Math.sin(e),n=this.a,a=this.b;return this.a=n*t+this.c*i,this.b=a*t+this.d*i,this.c=-n*i+this.c*t,this.d=-a*i+this.d*t,this},r.skew=function(e,t){return e=e*o.DEG_TO_RAD,t=t*o.DEG_TO_RAD,this.append(Math.cos(t),Math.sin(t),-Math.sin(e),Math.cos(e),0,0),this},r.scale=function(e,t){return this.a*=e,this.b*=e,this.c*=t,this.d*=t,this},r.translate=function(e,t){return this.tx+=this.a*e+this.c*t,this.ty+=this.b*e+this.d*t,this},r.identity=function(){return this.a=this.d=1,this.b=this.c=this.tx=this.ty=0,this},r.invert=function(){var e=this.a,t=this.b,i=this.c,n=this.d,a=this.tx,h=e*n-t*i;return this.a=n/h,this.b=-t/h,this.c=-i/h,this.d=e/h,this.tx=(i*this.ty-n*a)/h,this.ty=-(e*this.ty-t*a)/h,this},r.isIdentity=function(){return this.tx===0&&this.ty===0&&this.a===1&&this.b===0&&this.c===0&&this.d===1},r.equals=function(e){return this.tx===e.tx&&this.ty===e.ty&&this.a===e.a&&this.b===e.b&&this.c===e.c&&this.d===e.d},r.transformPoint=function(e,t,i){return i=i||{},i.x=e*this.a+t*this.c+this.tx,i.y=e*this.b+t*this.d+this.ty,i},r.decompose=function(e){e==null&&(e={}),e.x=this.tx,e.y=this.ty,e.scaleX=Math.sqrt(this.a*this.a+this.b*this.b),e.scaleY=Math.sqrt(this.c*this.c+this.d*this.d);var t=Math.atan2(-this.c,this.d),i=Math.atan2(this.b,this.a),n=Math.abs(1-t/i);return n<1e-5?(e.rotation=i/o.DEG_TO_RAD,this.a<0&&this.d>=0&&(e.rotation+=e.rotation<=0?180:-180),e.skewX=e.skewY=0):(e.skewX=t/o.DEG_TO_RAD,e.skewY=i/o.DEG_TO_RAD),e},r.copy=function(e){return this.setValues(e.a,e.b,e.c,e.d,e.tx,e.ty)},r.clone=function(){return new o(this.a,this.b,this.c,this.d,this.tx,this.ty)},r.toString=function(){return"[Matrix2D (a="+this.a+" b="+this.b+" c="+this.c+" d="+this.d+" tx="+this.tx+" ty="+this.ty+")]"},o.identity=new o,createjs.Matrix2D=o})();(function(){function o(e,t,i,n,a){this.setValues(e,t,i,n,a)}var r=o.prototype;r.setValues=function(e,t,i,n,a){return this.visible=e==null?!0:!!e,this.alpha=t==null?1:t,this.shadow=i,this.compositeOperation=n,this.matrix=a||this.matrix&&this.matrix.identity()||new createjs.Matrix2D,this},r.append=function(e,t,i,n,a){return this.alpha*=t,this.shadow=i||this.shadow,this.compositeOperation=n||this.compositeOperation,this.visible=this.visible&&e,a&&this.matrix.appendMatrix(a),this},r.prepend=function(e,t,i,n,a){return this.alpha*=t,this.shadow=this.shadow||i,this.compositeOperation=this.compositeOperation||n,this.visible=this.visible&&e,a&&this.matrix.prependMatrix(a),this},r.identity=function(){return this.visible=!0,this.alpha=1,this.shadow=this.compositeOperation=null,this.matrix.identity(),this},r.clone=function(){return new o(this.alpha,this.shadow,this.compositeOperation,this.visible,this.matrix.clone())},createjs.DisplayProps=o})();(function(){function o(e,t){this.setValues(e,t)}var r=o.prototype;r.setValues=function(e,t){return this.x=e||0,this.y=t||0,this},r.copy=function(e){return this.x=e.x,this.y=e.y,this},r.clone=function(){return new o(this.x,this.y)},r.toString=function(){return"[Point (x="+this.x+" y="+this.y+")]"},createjs.Point=o})();(function(){function o(e,t,i,n){this.setValues(e,t,i,n)}var r=o.prototype;r.setValues=function(e,t,i,n){return this.x=e||0,this.y=t||0,this.width=i||0,this.height=n||0,this},r.extend=function(e,t,i,n){return i=i||0,n=n||0,e+i>this.x+this.width&&(this.width=e+i-this.x),t+n>this.y+this.height&&(this.height=t+n-this.y),e<this.x&&(this.width+=this.x-e,this.x=e),t<this.y&&(this.height+=this.y-t,this.y=t),this},r.pad=function(e,t,i,n){return this.x-=t,this.y-=e,this.width+=t+n,this.height+=e+i,this},r.copy=function(e){return this.setValues(e.x,e.y,e.width,e.height)},r.contains=function(e,t,i,n){return i=i||0,n=n||0,e>=this.x&&e+i<=this.x+this.width&&t>=this.y&&t+n<=this.y+this.height},r.union=function(e){return this.clone().extend(e.x,e.y,e.width,e.height)},r.intersection=function(e){var t=e.x,i=e.y,n=t+e.width,a=i+e.height;return this.x>t&&(t=this.x),this.y>i&&(i=this.y),this.x+this.width<n&&(n=this.x+this.width),this.y+this.height<a&&(a=this.y+this.height),n<=t||a<=i?null:new o(t,i,n-t,a-i)},r.intersects=function(e){return e.x<=this.x+this.width&&this.x<=e.x+e.width&&e.y<=this.y+this.height&&this.y<=e.y+e.height},r.isEmpty=function(){return this.width<=0||this.height<=0},r.clone=function(){return new o(this.x,this.y,this.width,this.height)},r.toString=function(){return"[Rectangle (x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+")]"},createjs.Rectangle=o})();(function(){function o(e,t,i,n,a,h,l){!e.addEventListener||(this.target=e,this.overLabel=i==null?"over":i,this.outLabel=t==null?"out":t,this.downLabel=n==null?"down":n,this.play=a,this._isPressed=!1,this._isOver=!1,this._enabled=!1,e.mouseChildren=!1,this.enabled=!0,this.handleEvent({}),h&&(l&&(h.actionsEnabled=!1,h.gotoAndStop&&h.gotoAndStop(l)),e.hitArea=h))}var r=o.prototype;r._setEnabled=function(e){if(e!=this._enabled){var t=this.target;this._enabled=e,e?(t.cursor="pointer",t.addEventListener("rollover",this),t.addEventListener("rollout",this),t.addEventListener("mousedown",this),t.addEventListener("pressup",this),t._reset&&(t.__reset=t._reset,t._reset=this._reset)):(t.cursor=null,t.removeEventListener("rollover",this),t.removeEventListener("rollout",this),t.removeEventListener("mousedown",this),t.removeEventListener("pressup",this),t.__reset&&(t._reset=t.__reset,delete t.__reset))}},r.setEnabled=createjs.deprecate(r._setEnabled,"ButtonHelper.setEnabled"),r._getEnabled=function(){return this._enabled},r.getEnabled=createjs.deprecate(r._getEnabled,"ButtonHelper.getEnabled");try{Object.defineProperties(r,{enabled:{get:r._getEnabled,set:r._setEnabled}})}catch{}r.toString=function(){return"[ButtonHelper]"},r.handleEvent=function(e){var t,i=this.target,n=e.type;n=="mousedown"?(this._isPressed=!0,t=this.downLabel):n=="pressup"?(this._isPressed=!1,t=this._isOver?this.overLabel:this.outLabel):n=="rollover"?(this._isOver=!0,t=this._isPressed?this.downLabel:this.overLabel):(this._isOver=!1,t=this._isPressed?this.overLabel:this.outLabel),this.play?i.gotoAndPlay&&i.gotoAndPlay(t):i.gotoAndStop&&i.gotoAndStop(t)},r._reset=function(){var e=this.paused;this.__reset(),this.paused=e},createjs.ButtonHelper=o})();(function(){function o(e,t,i,n){this.color=e||"black",this.offsetX=t||0,this.offsetY=i||0,this.blur=n||0}var r=o.prototype;o.identity=new o("transparent",0,0,0),r.toString=function(){return"[Shadow]"},r.clone=function(){return new o(this.color,this.offsetX,this.offsetY,this.blur)},createjs.Shadow=o})();(function(){function o(e){this.EventDispatcher_constructor(),this.complete=!0,this.framerate=0,this._animations=null,this._frames=null,this._images=null,this._data=null,this._loadCount=0,this._frameHeight=0,this._frameWidth=0,this._numFrames=0,this._regX=0,this._regY=0,this._spacing=0,this._margin=0,this._parseData(e)}var r=createjs.extend(o,createjs.EventDispatcher);r._getAnimations=function(){return this._animations.slice()},r.getAnimations=createjs.deprecate(r._getAnimations,"SpriteSheet.getAnimations");try{Object.defineProperties(r,{animations:{get:r._getAnimations}})}catch{}r.getNumFrames=function(e){if(e==null)return this._frames?this._frames.length:this._numFrames||0;var t=this._data[e];return t==null?0:t.frames.length},r.getAnimation=function(e){return this._data[e]},r.getFrame=function(e){var t;return this._frames&&(t=this._frames[e])?t:null},r.getFrameBounds=function(e,t){var i=this.getFrame(e);return i?(t||new createjs.Rectangle).setValues(-i.regX,-i.regY,i.rect.width,i.rect.height):null},r.toString=function(){return"[SpriteSheet]"},r.clone=function(){throw"SpriteSheet cannot be cloned."},r._parseData=function(e){var t,i,n,a;if(e!=null){if(this.framerate=e.framerate||0,e.images&&(i=e.images.length)>0)for(a=this._images=[],t=0;t<i;t++){var h=e.images[t];if(typeof h=="string"){var l=h;h=document.createElement("img"),h.src=l}a.push(h),!h.getContext&&!h.naturalWidth&&(this._loadCount++,this.complete=!1,function(g,v){h.onload=function(){g._handleImageLoad(v)}}(this,l),function(g,v){h.onerror=function(){g._handleImageError(v)}}(this,l))}if(e.frames!=null)if(Array.isArray(e.frames))for(this._frames=[],a=e.frames,t=0,i=a.length;t<i;t++){var c=a[t];this._frames.push({image:this._images[c[4]?c[4]:0],rect:new createjs.Rectangle(c[0],c[1],c[2],c[3]),regX:c[5]||0,regY:c[6]||0})}else n=e.frames,this._frameWidth=n.width,this._frameHeight=n.height,this._regX=n.regX||0,this._regY=n.regY||0,this._spacing=n.spacing||0,this._margin=n.margin||0,this._numFrames=n.count,this._loadCount==0&&this._calculateFrames();if(this._animations=[],(n=e.animations)!=null){this._data={};var u;for(u in n){var d={name:u},f=n[u];if(typeof f=="number")a=d.frames=[f];else if(Array.isArray(f))if(f.length==1)d.frames=[f[0]];else for(d.speed=f[3],d.next=f[2],a=d.frames=[],t=f[0];t<=f[1];t++)a.push(t);else{d.speed=f.speed,d.next=f.next;var _=f.frames;a=d.frames=typeof _=="number"?[_]:_.slice(0)}(d.next===!0||d.next===void 0)&&(d.next=u),(d.next===!1||a.length<2&&d.next==u)&&(d.next=null),d.speed||(d.speed=1),this._animations.push(u),this._data[u]=d}}}},r._handleImageLoad=function(e){--this._loadCount==0&&(this._calculateFrames(),this.complete=!0,this.dispatchEvent("complete"))},r._handleImageError=function(e){var t=new createjs.Event("error");t.src=e,this.dispatchEvent(t),--this._loadCount==0&&this.dispatchEvent("complete")},r._calculateFrames=function(){if(this._frames||this._frameWidth==0)return;this._frames=[];var e=this._numFrames||1e5,t=0,i=this._frameWidth,n=this._frameHeight,a=this._spacing,h=this._margin;e:for(var l=0,c=this._images;l<c.length;l++)for(var u=c[l],d=u.width||u.naturalWidth,f=u.height||u.naturalHeight,_=h;_<=f-h-n;){for(var g=h;g<=d-h-i;){if(t>=e)break e;t++,this._frames.push({image:u,rect:new createjs.Rectangle(g,_,i,n),regX:this._regX,regY:this._regY}),g+=i+a}_+=n+a}this._numFrames=t},createjs.SpriteSheet=createjs.promote(o,"EventDispatcher")})();(function(){function o(){this.command=null,this._stroke=null,this._strokeStyle=null,this._oldStrokeStyle=null,this._strokeDash=null,this._oldStrokeDash=null,this._strokeIgnoreScale=!1,this._fill=null,this._instructions=[],this._commitIndex=0,this._activeInstructions=[],this._dirty=!1,this._storeIndex=0,this.clear()}var r=o.prototype,e=o;o.getRGB=function(i,n,a,h){return i!=null&&a==null&&(h=n,a=i&255,n=i>>8&255,i=i>>16&255),h==null?"rgb("+i+","+n+","+a+")":"rgba("+i+","+n+","+a+","+h+")"},o.getHSL=function(i,n,a,h){return h==null?"hsl("+i%360+","+n+"%,"+a+"%)":"hsla("+i%360+","+n+"%,"+a+"%,"+h+")"},o.BASE_64={A:0,B:1,C:2,D:3,E:4,F:5,G:6,H:7,I:8,J:9,K:10,L:11,M:12,N:13,O:14,P:15,Q:16,R:17,S:18,T:19,U:20,V:21,W:22,X:23,Y:24,Z:25,a:26,b:27,c:28,d:29,e:30,f:31,g:32,h:33,i:34,j:35,k:36,l:37,m:38,n:39,o:40,p:41,q:42,r:43,s:44,t:45,u:46,v:47,w:48,x:49,y:50,z:51,0:52,1:53,2:54,3:55,4:56,5:57,6:58,7:59,8:60,9:61,"+":62,"/":63},o.STROKE_CAPS_MAP=["butt","round","square"],o.STROKE_JOINTS_MAP=["miter","round","bevel"];var t=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");t.getContext&&(o._ctx=t.getContext("2d"),t.width=t.height=1),r._getInstructions=function(){return this._updateInstructions(),this._instructions},r.getInstructions=createjs.deprecate(r._getInstructions,"Graphics.getInstructions");try{Object.defineProperties(r,{instructions:{get:r._getInstructions}})}catch{}r.isEmpty=function(){return!(this._instructions.length||this._activeInstructions.length)},r.draw=function(i,n){this._updateInstructions();for(var a=this._instructions,h=this._storeIndex,l=a.length;h<l;h++)a[h].exec(i,n)},r.drawAsPath=function(i){this._updateInstructions();for(var n,a=this._instructions,h=this._storeIndex,l=a.length;h<l;h++)(n=a[h]).path!==!1&&n.exec(i)},r.moveTo=function(i,n){return this.append(new e.MoveTo(i,n),!0)},r.lineTo=function(i,n){return this.append(new e.LineTo(i,n))},r.arcTo=function(i,n,a,h,l){return this.append(new e.ArcTo(i,n,a,h,l))},r.arc=function(i,n,a,h,l,c){return this.append(new e.Arc(i,n,a,h,l,c))},r.quadraticCurveTo=function(i,n,a,h){return this.append(new e.QuadraticCurveTo(i,n,a,h))},r.bezierCurveTo=function(i,n,a,h,l,c){return this.append(new e.BezierCurveTo(i,n,a,h,l,c))},r.rect=function(i,n,a,h){return this.append(new e.Rect(i,n,a,h))},r.closePath=function(){return this._activeInstructions.length?this.append(new e.ClosePath):this},r.clear=function(){return this._instructions.length=this._activeInstructions.length=this._commitIndex=0,this._strokeStyle=this._oldStrokeStyle=this._stroke=this._fill=this._strokeDash=this._oldStrokeDash=null,this._dirty=this._strokeIgnoreScale=!1,this},r.beginFill=function(i){return this._setFill(i?new e.Fill(i):null)},r.beginLinearGradientFill=function(i,n,a,h,l,c){return this._setFill(new e.Fill().linearGradient(i,n,a,h,l,c))},r.beginRadialGradientFill=function(i,n,a,h,l,c,u,d){return this._setFill(new e.Fill().radialGradient(i,n,a,h,l,c,u,d))},r.beginBitmapFill=function(i,n,a){return this._setFill(new e.Fill(null,a).bitmap(i,n))},r.endFill=function(){return this.beginFill()},r.setStrokeStyle=function(i,n,a,h,l){return this._updateInstructions(!0),this._strokeStyle=this.command=new e.StrokeStyle(i,n,a,h,l),this._stroke&&(this._stroke.ignoreScale=l),this._strokeIgnoreScale=l,this},r.setStrokeDash=function(i,n){return this._updateInstructions(!0),this._strokeDash=this.command=new e.StrokeDash(i,n),this},r.beginStroke=function(i){return this._setStroke(i?new e.Stroke(i):null)},r.beginLinearGradientStroke=function(i,n,a,h,l,c){return this._setStroke(new e.Stroke().linearGradient(i,n,a,h,l,c))},r.beginRadialGradientStroke=function(i,n,a,h,l,c,u,d){return this._setStroke(new e.Stroke().radialGradient(i,n,a,h,l,c,u,d))},r.beginBitmapStroke=function(i,n){return this._setStroke(new e.Stroke().bitmap(i,n))},r.endStroke=function(){return this.beginStroke()},r.curveTo=r.quadraticCurveTo,r.drawRect=r.rect,r.drawRoundRect=function(i,n,a,h,l){return this.drawRoundRectComplex(i,n,a,h,l,l,l,l)},r.drawRoundRectComplex=function(i,n,a,h,l,c,u,d){return this.append(new e.RoundRect(i,n,a,h,l,c,u,d))},r.drawCircle=function(i,n,a){return this.append(new e.Circle(i,n,a))},r.drawEllipse=function(i,n,a,h){return this.append(new e.Ellipse(i,n,a,h))},r.drawPolyStar=function(i,n,a,h,l,c){return this.append(new e.PolyStar(i,n,a,h,l,c))},r.append=function(i,n){return this._activeInstructions.push(i),this.command=i,n||(this._dirty=!0),this},r.decodePath=function(i){for(var n=[this.moveTo,this.lineTo,this.quadraticCurveTo,this.bezierCurveTo,this.closePath],a=[2,2,4,6,0],h=0,l=i.length,c=[],u=0,d=0,f=o.BASE_64;h<l;){var _=i.charAt(h),g=f[_],v=g>>3,m=n[v];if(!m||g&3)throw"bad path data (@"+h+"): "+_;var E=a[v];v||(u=d=0),c.length=0,h++;for(var y=(g>>2&1)+2,x=0;x<E;x++){var P=f[i.charAt(h)],b=P>>5?-1:1;P=(P&31)<<6|f[i.charAt(h+1)],y==3&&(P=P<<6|f[i.charAt(h+2)]),P=b*P/10,x%2?u=P+=u:d=P+=d,c[x]=P,h+=y}m.apply(this,c)}return this},r.store=function(){return this._updateInstructions(!0),this._storeIndex=this._instructions.length,this},r.unstore=function(){return this._storeIndex=0,this},r.clone=function(){var i=new o;return i.command=this.command,i._stroke=this._stroke,i._strokeStyle=this._strokeStyle,i._strokeDash=this._strokeDash,i._strokeIgnoreScale=this._strokeIgnoreScale,i._fill=this._fill,i._instructions=this._instructions.slice(),i._commitIndex=this._commitIndex,i._activeInstructions=this._activeInstructions.slice(),i._dirty=this._dirty,i._storeIndex=this._storeIndex,i},r.toString=function(){return"[Graphics]"},r.mt=r.moveTo,r.lt=r.lineTo,r.at=r.arcTo,r.bt=r.bezierCurveTo,r.qt=r.quadraticCurveTo,r.a=r.arc,r.r=r.rect,r.cp=r.closePath,r.c=r.clear,r.f=r.beginFill,r.lf=r.beginLinearGradientFill,r.rf=r.beginRadialGradientFill,r.bf=r.beginBitmapFill,r.ef=r.endFill,r.ss=r.setStrokeStyle,r.sd=r.setStrokeDash,r.s=r.beginStroke,r.ls=r.beginLinearGradientStroke,r.rs=r.beginRadialGradientStroke,r.bs=r.beginBitmapStroke,r.es=r.endStroke,r.dr=r.drawRect,r.rr=r.drawRoundRect,r.rc=r.drawRoundRectComplex,r.dc=r.drawCircle,r.de=r.drawEllipse,r.dp=r.drawPolyStar,r.p=r.decodePath,r._updateInstructions=function(i){var n=this._instructions,a=this._activeInstructions,h=this._commitIndex;if(this._dirty&&a.length){n.length=h,n.push(o.beginCmd);var l=a.length,c=n.length;n.length=c+l;for(var u=0;u<l;u++)n[u+c]=a[u];this._fill&&n.push(this._fill),this._stroke&&(this._strokeDash!==this._oldStrokeDash&&n.push(this._strokeDash),this._strokeStyle!==this._oldStrokeStyle&&n.push(this._strokeStyle),i&&(this._oldStrokeStyle=this._strokeStyle,this._oldStrokeDash=this._strokeDash),n.push(this._stroke)),this._dirty=!1}i&&(a.length=0,this._commitIndex=n.length)},r._setFill=function(i){return this._updateInstructions(!0),this.command=this._fill=i,this},r._setStroke=function(i){return this._updateInstructions(!0),(this.command=this._stroke=i)&&(i.ignoreScale=this._strokeIgnoreScale),this},(e.LineTo=function(i,n){this.x=i,this.y=n}).prototype.exec=function(i){i.lineTo(this.x,this.y)},(e.MoveTo=function(i,n){this.x=i,this.y=n}).prototype.exec=function(i){i.moveTo(this.x,this.y)},(e.ArcTo=function(i,n,a,h,l){this.x1=i,this.y1=n,this.x2=a,this.y2=h,this.radius=l}).prototype.exec=function(i){i.arcTo(this.x1,this.y1,this.x2,this.y2,this.radius)},(e.Arc=function(i,n,a,h,l,c){this.x=i,this.y=n,this.radius=a,this.startAngle=h,this.endAngle=l,this.anticlockwise=!!c}).prototype.exec=function(i){i.arc(this.x,this.y,this.radius,this.startAngle,this.endAngle,this.anticlockwise)},(e.QuadraticCurveTo=function(i,n,a,h){this.cpx=i,this.cpy=n,this.x=a,this.y=h}).prototype.exec=function(i){i.quadraticCurveTo(this.cpx,this.cpy,this.x,this.y)},(e.BezierCurveTo=function(i,n,a,h,l,c){this.cp1x=i,this.cp1y=n,this.cp2x=a,this.cp2y=h,this.x=l,this.y=c}).prototype.exec=function(i){i.bezierCurveTo(this.cp1x,this.cp1y,this.cp2x,this.cp2y,this.x,this.y)},(e.Rect=function(i,n,a,h){this.x=i,this.y=n,this.w=a,this.h=h}).prototype.exec=function(i){i.rect(this.x,this.y,this.w,this.h)},(e.ClosePath=function(){}).prototype.exec=function(i){i.closePath()},(e.BeginPath=function(){}).prototype.exec=function(i){i.beginPath()},r=(e.Fill=function(i,n){this.style=i,this.matrix=n}).prototype,r.exec=function(i){if(!!this.style){i.fillStyle=this.style;var n=this.matrix;n&&(i.save(),i.transform(n.a,n.b,n.c,n.d,n.tx,n.ty)),i.fill(),n&&i.restore()}},r.linearGradient=function(i,n,a,h,l,c){for(var u=this.style=o._ctx.createLinearGradient(a,h,l,c),d=0,f=i.length;d<f;d++)u.addColorStop(n[d],i[d]);return u.props={colors:i,ratios:n,x0:a,y0:h,x1:l,y1:c,type:"linear"},this},r.radialGradient=function(i,n,a,h,l,c,u,d){for(var f=this.style=o._ctx.createRadialGradient(a,h,l,c,u,d),_=0,g=i.length;_<g;_++)f.addColorStop(n[_],i[_]);return f.props={colors:i,ratios:n,x0:a,y0:h,r0:l,x1:c,y1:u,r1:d,type:"radial"},this},r.bitmap=function(i,n){if(i.naturalWidth||i.getContext||i.readyState>=2){var a=this.style=o._ctx.createPattern(i,n||"");a.props={image:i,repetition:n,type:"bitmap"}}return this},r.path=!1,r=(e.Stroke=function(i,n){this.style=i,this.ignoreScale=n}).prototype,r.exec=function(i){!this.style||(i.strokeStyle=this.style,this.ignoreScale&&(i.save(),i.setTransform(1,0,0,1,0,0)),i.stroke(),this.ignoreScale&&i.restore())},r.linearGradient=e.Fill.prototype.linearGradient,r.radialGradient=e.Fill.prototype.radialGradient,r.bitmap=e.Fill.prototype.bitmap,r.path=!1,r=(e.StrokeStyle=function(i,n,a,h,l){this.width=i,this.caps=n,this.joints=a,this.miterLimit=h,this.ignoreScale=l}).prototype,r.exec=function(i){i.lineWidth=this.width==null?"1":this.width,i.lineCap=this.caps==null?"butt":isNaN(this.caps)?this.caps:o.STROKE_CAPS_MAP[this.caps],i.lineJoin=this.joints==null?"miter":isNaN(this.joints)?this.joints:o.STROKE_JOINTS_MAP[this.joints],i.miterLimit=this.miterLimit==null?"10":this.miterLimit,i.ignoreScale=this.ignoreScale==null?!1:this.ignoreScale},r.path=!1,(e.StrokeDash=function(i,n){this.segments=i,this.offset=n||0}).prototype.exec=function(i){i.setLineDash&&(i.setLineDash(this.segments||e.StrokeDash.EMPTY_SEGMENTS),i.lineDashOffset=this.offset||0)},e.StrokeDash.EMPTY_SEGMENTS=[],(e.RoundRect=function(i,n,a,h,l,c,u,d){this.x=i,this.y=n,this.w=a,this.h=h,this.radiusTL=l,this.radiusTR=c,this.radiusBR=u,this.radiusBL=d}).prototype.exec=function(i){var n=(f<_?f:_)/2,a=0,h=0,l=0,c=0,u=this.x,d=this.y,f=this.w,_=this.h,g=this.radiusTL,v=this.radiusTR,m=this.radiusBR,E=this.radiusBL;g<0&&(g*=a=-1),g>n&&(g=n),v<0&&(v*=h=-1),v>n&&(v=n),m<0&&(m*=l=-1),m>n&&(m=n),E<0&&(E*=c=-1),E>n&&(E=n),i.moveTo(u+f-v,d),i.arcTo(u+f+v*h,d-v*h,u+f,d+v,v),i.lineTo(u+f,d+_-m),i.arcTo(u+f+m*l,d+_+m*l,u+f-m,d+_,m),i.lineTo(u+E,d+_),i.arcTo(u-E*c,d+_+E*c,u,d+_-E,E),i.lineTo(u,d+g),i.arcTo(u-g*a,d-g*a,u+g,d,g),i.closePath()},(e.Circle=function(i,n,a){this.x=i,this.y=n,this.radius=a}).prototype.exec=function(i){i.arc(this.x,this.y,this.radius,0,Math.PI*2)},(e.Ellipse=function(i,n,a,h){this.x=i,this.y=n,this.w=a,this.h=h}).prototype.exec=function(i){var n=this.x,a=this.y,h=this.w,l=this.h,c=.5522848,u=h/2*c,d=l/2*c,f=n+h,_=a+l,g=n+h/2,v=a+l/2;i.moveTo(n,v),i.bezierCurveTo(n,v-d,g-u,a,g,a),i.bezierCurveTo(g+u,a,f,v-d,f,v),i.bezierCurveTo(f,v+d,g+u,_,g,_),i.bezierCurveTo(g-u,_,n,v+d,n,v)},(e.PolyStar=function(i,n,a,h,l,c){this.x=i,this.y=n,this.radius=a,this.sides=h,this.pointSize=l,this.angle=c}).prototype.exec=function(i){var n=this.x,a=this.y,h=this.radius,l=(this.angle||0)/180*Math.PI,c=this.sides,u=1-(this.pointSize||0),d=Math.PI/c;i.moveTo(n+Math.cos(l)*h,a+Math.sin(l)*h);for(var f=0;f<c;f++)l+=d,u!=1&&i.lineTo(n+Math.cos(l)*h*u,a+Math.sin(l)*h*u),l+=d,i.lineTo(n+Math.cos(l)*h,a+Math.sin(l)*h);i.closePath()},o.beginCmd=new e.BeginPath,createjs.Graphics=o})();(function(){function o(){this.EventDispatcher_constructor(),this.alpha=1,this.cacheCanvas=null,this.bitmapCache=null,this.id=createjs.UID.get(),this.mouseEnabled=!0,this.tickEnabled=!0,this.name=null,this.parent=null,this.regX=0,this.regY=0,this.rotation=0,this.scaleX=1,this.scaleY=1,this.skewX=0,this.skewY=0,this.shadow=null,this.visible=!0,this.x=0,this.y=0,this.transformMatrix=null,this.compositeOperation=null,this.snapToPixel=!0,this.filters=null,this.mask=null,this.hitArea=null,this.cursor=null,this._props=new createjs.DisplayProps,this._rectangle=new createjs.Rectangle,this._bounds=null,this._webGLRenderStyle=o._StageGL_NONE}var r=createjs.extend(o,createjs.EventDispatcher);o._MOUSE_EVENTS=["click","dblclick","mousedown","mouseout","mouseover","pressmove","pressup","rollout","rollover"],o.suppressCrossDomainErrors=!1,o._snapToPixelEnabled=!1,o._StageGL_NONE=0,o._StageGL_SPRITE=1,o._StageGL_BITMAP=2;var e=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");e.getContext&&(o._hitTestCanvas=e,o._hitTestContext=e.getContext("2d"),e.width=e.height=1),r._getStage=function(){for(var t=this,i=createjs.Stage;t.parent;)t=t.parent;return t instanceof i?t:null},r.getStage=createjs.deprecate(r._getStage,"DisplayObject.getStage");try{Object.defineProperties(r,{stage:{get:r._getStage},cacheID:{get:function(){return this.bitmapCache&&this.bitmapCache.cacheID},set:function(t){this.bitmapCache&&(this.bitmapCache.cacheID=t)}},scale:{get:function(){return this.scaleX},set:function(t){this.scaleX=this.scaleY=t}}})}catch{}r.isVisible=function(){return!!(this.visible&&this.alpha>0&&this.scaleX!=0&&this.scaleY!=0)},r.draw=function(t,i){var n=this.bitmapCache;return n&&!i?n.draw(t):!1},r.updateContext=function(t){var i=this,n=i.mask,a=i._props.matrix;n&&n.graphics&&!n.graphics.isEmpty()&&(n.getMatrix(a),t.transform(a.a,a.b,a.c,a.d,a.tx,a.ty),n.graphics.drawAsPath(t),t.clip(),a.invert(),t.transform(a.a,a.b,a.c,a.d,a.tx,a.ty)),this.getMatrix(a);var h=a.tx,l=a.ty;o._snapToPixelEnabled&&i.snapToPixel&&(h=h+(h<0?-.5:.5)|0,l=l+(l<0?-.5:.5)|0),t.transform(a.a,a.b,a.c,a.d,h,l),t.globalAlpha*=i.alpha,i.compositeOperation&&(t.globalCompositeOperation=i.compositeOperation),i.shadow&&this._applyShadow(t,i.shadow)},r.cache=function(t,i,n,a,h,l){this.bitmapCache||(this.bitmapCache=new createjs.BitmapCache),this.bitmapCache.define(this,t,i,n,a,h,l)},r.updateCache=function(t){if(!this.bitmapCache)throw"cache() must be called before updateCache()";this.bitmapCache.update(t)},r.uncache=function(){this.bitmapCache&&(this.bitmapCache.release(),this.bitmapCache=void 0)},r.getCacheDataURL=function(){return this.bitmapCache?this.bitmapCache.getDataURL():null},r.localToGlobal=function(t,i,n){return this.getConcatenatedMatrix(this._props.matrix).transformPoint(t,i,n||new createjs.Point)},r.globalToLocal=function(t,i,n){return this.getConcatenatedMatrix(this._props.matrix).invert().transformPoint(t,i,n||new createjs.Point)},r.localToLocal=function(t,i,n,a){return a=this.localToGlobal(t,i,a),n.globalToLocal(a.x,a.y,a)},r.setTransform=function(t,i,n,a,h,l,c,u,d){return this.x=t||0,this.y=i||0,this.scaleX=n==null?1:n,this.scaleY=a==null?1:a,this.rotation=h||0,this.skewX=l||0,this.skewY=c||0,this.regX=u||0,this.regY=d||0,this},r.getMatrix=function(t){var i=this,n=t&&t.identity()||new createjs.Matrix2D;return i.transformMatrix?n.copy(i.transformMatrix):n.appendTransform(i.x,i.y,i.scaleX,i.scaleY,i.rotation,i.skewX,i.skewY,i.regX,i.regY)},r.getConcatenatedMatrix=function(t){for(var i=this,n=this.getMatrix(t);i=i.parent;)n.prependMatrix(i.getMatrix(i._props.matrix));return n},r.getConcatenatedDisplayProps=function(t){t=t?t.identity():new createjs.DisplayProps;var i=this,n=i.getMatrix(t.matrix);do t.prepend(i.visible,i.alpha,i.shadow,i.compositeOperation),i!=this&&n.prependMatrix(i.getMatrix(i._props.matrix));while(i=i.parent);return t},r.hitTest=function(t,i){var n=o._hitTestContext;n.setTransform(1,0,0,1,-t,-i),this.draw(n);var a=this._testHit(n);return n.setTransform(1,0,0,1,0,0),n.clearRect(0,0,2,2),a},r.set=function(t){for(var i in t)this[i]=t[i];return this},r.getBounds=function(){if(this._bounds)return this._rectangle.copy(this._bounds);var t=this.cacheCanvas;if(t){var i=this._cacheScale;return this._rectangle.setValues(this._cacheOffsetX,this._cacheOffsetY,t.width/i,t.height/i)}return null},r.getTransformedBounds=function(){return this._getBounds()},r.setBounds=function(t,i,n,a){if(t==null){this._bounds=t;return}this._bounds=(this._bounds||new createjs.Rectangle).setValues(t,i,n,a)},r.clone=function(){return this._cloneProps(new o)},r.toString=function(){return"[DisplayObject (name="+this.name+")]"},r._updateState=null,r._cloneProps=function(t){return t.alpha=this.alpha,t.mouseEnabled=this.mouseEnabled,t.tickEnabled=this.tickEnabled,t.name=this.name,t.regX=this.regX,t.regY=this.regY,t.rotation=this.rotation,t.scaleX=this.scaleX,t.scaleY=this.scaleY,t.shadow=this.shadow,t.skewX=this.skewX,t.skewY=this.skewY,t.visible=this.visible,t.x=this.x,t.y=this.y,t.compositeOperation=this.compositeOperation,t.snapToPixel=this.snapToPixel,t.filters=this.filters==null?null:this.filters.slice(0),t.mask=this.mask,t.hitArea=this.hitArea,t.cursor=this.cursor,t._bounds=this._bounds,t},r._applyShadow=function(t,i){i=i||Shadow.identity,t.shadowColor=i.color,t.shadowOffsetX=i.offsetX,t.shadowOffsetY=i.offsetY,t.shadowBlur=i.blur},r._tick=function(t){var i=this._listeners;i&&i.tick&&(t.target=null,t.propagationStopped=t.immediatePropagationStopped=!1,this.dispatchEvent(t))},r._testHit=function(t){try{var i=t.getImageData(0,0,1,1).data[3]>1}catch{if(!o.suppressCrossDomainErrors)throw"An error has occurred. This is most likely due to security restrictions on reading canvas pixel data with local or cross-domain images."}return i},r._getBounds=function(t,i){return this._transformBounds(this.getBounds(),t,i)},r._transformBounds=function(t,i,n){if(!t)return t;var a=t.x,h=t.y,l=t.width,c=t.height,u=this._props.matrix;u=n?u.identity():this.getMatrix(u),(a||h)&&u.appendTransform(0,0,1,1,0,0,0,-a,-h),i&&u.prependMatrix(i);var d=l*u.a,f=l*u.b,_=c*u.c,g=c*u.d,v=u.tx,m=u.ty,E=v,y=v,x=m,P=m;return(a=d+v)<E?E=a:a>y&&(y=a),(a=d+_+v)<E?E=a:a>y&&(y=a),(a=_+v)<E?E=a:a>y&&(y=a),(h=f+m)<x?x=h:h>P&&(P=h),(h=f+g+m)<x?x=h:h>P&&(P=h),(h=g+m)<x?x=h:h>P&&(P=h),t.setValues(E,x,y-E,P-x)},r._hasMouseEventListener=function(){for(var t=o._MOUSE_EVENTS,i=0,n=t.length;i<n;i++)if(this.hasEventListener(t[i]))return!0;return!!this.cursor},createjs.DisplayObject=createjs.promote(o,"EventDispatcher")})();(function(){function o(){this.DisplayObject_constructor(),this.children=[],this.mouseChildren=!0,this.tickChildren=!0}var r=createjs.extend(o,createjs.DisplayObject);r._getNumChildren=function(){return this.children.length},r.getNumChildren=createjs.deprecate(r._getNumChildren,"Container.getNumChildren");try{Object.defineProperties(r,{numChildren:{get:r._getNumChildren}})}catch{}r.initialize=o,r.isVisible=function(){var e=this.cacheCanvas||this.children.length;return!!(this.visible&&this.alpha>0&&this.scaleX!=0&&this.scaleY!=0&&e)},r.draw=function(e,t){if(this.DisplayObject_draw(e,t))return!0;for(var i=this.children.slice(),n=0,a=i.length;n<a;n++){var h=i[n];!h.isVisible()||(e.save(),h.updateContext(e),h.draw(e),e.restore())}return!0},r.addChild=function(e){if(e==null)return e;var t=arguments.length;if(t>1){for(var i=0;i<t;i++)this.addChild(arguments[i]);return arguments[t-1]}var n=e.parent,a=n===this;return n&&n._removeChildAt(createjs.indexOf(n.children,e),a),e.parent=this,this.children.push(e),a||e.dispatchEvent("added"),e},r.addChildAt=function(e,t){var i=arguments.length,n=arguments[i-1];if(n<0||n>this.children.length)return arguments[i-2];if(i>2){for(var a=0;a<i-1;a++)this.addChildAt(arguments[a],n+a);return arguments[i-2]}var h=e.parent,l=h===this;return h&&h._removeChildAt(createjs.indexOf(h.children,e),l),e.parent=this,this.children.splice(t,0,e),l||e.dispatchEvent("added"),e},r.removeChild=function(e){var t=arguments.length;if(t>1){for(var i=!0,n=0;n<t;n++)i=i&&this.removeChild(arguments[n]);return i}return this._removeChildAt(createjs.indexOf(this.children,e))},r.removeChildAt=function(e){var t=arguments.length;if(t>1){for(var i=[],n=0;n<t;n++)i[n]=arguments[n];i.sort(function(h,l){return l-h});for(var a=!0,n=0;n<t;n++)a=a&&this._removeChildAt(i[n]);return a}return this._removeChildAt(e)},r.removeAllChildren=function(){for(var e=this.children;e.length;)this._removeChildAt(0)},r.getChildAt=function(e){return this.children[e]},r.getChildByName=function(e){for(var t=this.children,i=0,n=t.length;i<n;i++)if(t[i].name==e)return t[i];return null},r.sortChildren=function(e){this.children.sort(e)},r.getChildIndex=function(e){return createjs.indexOf(this.children,e)},r.swapChildrenAt=function(e,t){var i=this.children,n=i[e],a=i[t];!n||!a||(i[e]=a,i[t]=n)},r.swapChildren=function(e,t){for(var i=this.children,n,a,h=0,l=i.length;h<l&&(i[h]==e&&(n=h),i[h]==t&&(a=h),!(n!=null&&a!=null));h++);h!=l&&(i[n]=t,i[a]=e)},r.setChildIndex=function(e,t){var i=this.children,n=i.length;if(!(e.parent!=this||t<0||t>=n)){for(var a=0;a<n&&i[a]!=e;a++);a==n||a==t||(i.splice(a,1),i.splice(t,0,e))}},r.contains=function(e){for(;e;){if(e==this)return!0;e=e.parent}return!1},r.hitTest=function(e,t){return this.getObjectUnderPoint(e,t)!=null},r.getObjectsUnderPoint=function(e,t,i){var n=[],a=this.localToGlobal(e,t);return this._getObjectsUnderPoint(a.x,a.y,n,i>0,i==1),n},r.getObjectUnderPoint=function(e,t,i){var n=this.localToGlobal(e,t);return this._getObjectsUnderPoint(n.x,n.y,null,i>0,i==1)},r.getBounds=function(){return this._getBounds(null,!0)},r.getTransformedBounds=function(){return this._getBounds()},r.clone=function(e){var t=this._cloneProps(new o);return e&&this._cloneChildren(t),t},r.toString=function(){return"[Container (name="+this.name+")]"},r._tick=function(e){if(this.tickChildren)for(var t=this.children.length-1;t>=0;t--){var i=this.children[t];i.tickEnabled&&i._tick&&i._tick(e)}this.DisplayObject__tick(e)},r._cloneChildren=function(e){e.children.length&&e.removeAllChildren();for(var t=e.children,i=0,n=this.children.length;i<n;i++){var a=this.children[i].clone(!0);a.parent=e,t.push(a)}},r._removeChildAt=function(e,t){if(e<0||e>this.children.length-1)return!1;var i=this.children[e];return i&&(i.parent=null),this.children.splice(e,1),t||i.dispatchEvent("removed"),!0},r._getObjectsUnderPoint=function(e,t,i,n,a,h){if(h=h||0,!h&&!this._testMask(this,e,t))return null;var l,c=createjs.DisplayObject._hitTestContext;a=a||n&&this._hasMouseEventListener();for(var u=this.children,d=u.length,f=d-1;f>=0;f--){var _=u[f],g=_.hitArea;if(!(!_.visible||!g&&!_.isVisible()||n&&!_.mouseEnabled)&&!(!g&&!this._testMask(_,e,t)))if(!g&&_ instanceof o){var v=_._getObjectsUnderPoint(e,t,i,n,a,h+1);if(!i&&v)return n&&!this.mouseChildren?this:v}else{if(n&&!a&&!_._hasMouseEventListener())continue;var m=_.getConcatenatedDisplayProps(_._props);if(l=m.matrix,g&&(l.appendMatrix(g.getMatrix(g._props.matrix)),m.alpha=g.alpha),c.globalAlpha=m.alpha,c.setTransform(l.a,l.b,l.c,l.d,l.tx-e,l.ty-t),(g||_).draw(c),!this._testHit(c))continue;if(c.setTransform(1,0,0,1,0,0),c.clearRect(0,0,2,2),i)i.push(_);else return n&&!this.mouseChildren?this:_}}return null},r._testMask=function(e,t,i){var n=e.mask;if(!n||!n.graphics||n.graphics.isEmpty())return!0;var a=this._props.matrix,h=e.parent;a=h?h.getConcatenatedMatrix(a):a.identity(),a=n.getMatrix(n._props.matrix).prependMatrix(a);var l=createjs.DisplayObject._hitTestContext;return l.setTransform(a.a,a.b,a.c,a.d,a.tx-t,a.ty-i),n.graphics.drawAsPath(l),l.fillStyle="#000",l.fill(),this._testHit(l)?(l.setTransform(1,0,0,1,0,0),l.clearRect(0,0,2,2),!0):!1},r._getBounds=function(e,t){var i=this.DisplayObject_getBounds();if(i)return this._transformBounds(i,e,t);var n=this._props.matrix;n=t?n.identity():this.getMatrix(n),e&&n.prependMatrix(e);for(var a=this.children.length,h=null,l=0;l<a;l++){var c=this.children[l];!c.visible||!(i=c._getBounds(n))||(h?h.extend(i.x,i.y,i.width,i.height):h=i.clone())}return h},createjs.Container=createjs.promote(o,"DisplayObject")})();(function(){function o(e){this.Container_constructor(),this.autoClear=!0,this.canvas=typeof e=="string"?document.getElementById(e):e,this.mouseX=0,this.mouseY=0,this.drawRect=null,this.snapToPixelEnabled=!1,this.mouseInBounds=!1,this.tickOnUpdate=!0,this.mouseMoveOutside=!1,this.preventSelection=!0,this._pointerData={},this._pointerCount=0,this._primaryPointerID=null,this._mouseOverIntervalID=null,this._nextStage=null,this._prevStage=null,this.enableDOMEvents(!0)}var r=createjs.extend(o,createjs.Container);r._get_nextStage=function(){return this._nextStage},r._set_nextStage=function(e){this._nextStage&&(this._nextStage._prevStage=null),e&&(e._prevStage=this),this._nextStage=e};try{Object.defineProperties(r,{nextStage:{get:r._get_nextStage,set:r._set_nextStage}})}catch{}r.update=function(e){if(!!this.canvas&&(this.tickOnUpdate&&this.tick(e),this.dispatchEvent("drawstart",!1,!0)!==!1)){createjs.DisplayObject._snapToPixelEnabled=this.snapToPixelEnabled;var t=this.drawRect,i=this.canvas.getContext("2d");i.setTransform(1,0,0,1,0,0),this.autoClear&&(t?i.clearRect(t.x,t.y,t.width,t.height):i.clearRect(0,0,this.canvas.width+1,this.canvas.height+1)),i.save(),this.drawRect&&(i.beginPath(),i.rect(t.x,t.y,t.width,t.height),i.clip()),this.updateContext(i),this.draw(i,!1),i.restore(),this.dispatchEvent("drawend")}},r.tick=function(e){if(!(!this.tickEnabled||this.dispatchEvent("tickstart",!1,!0)===!1)){var t=new createjs.Event("tick");if(e)for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);this._tick(t),this.dispatchEvent("tickend")}},r.handleEvent=function(e){e.type=="tick"&&this.update(e)},r.clear=function(){if(!!this.canvas){var e=this.canvas.getContext("2d");e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,this.canvas.width+1,this.canvas.height+1)}},r.toDataURL=function(e,t){var i,n=this.canvas.getContext("2d"),a=this.canvas.width,h=this.canvas.height;if(e){i=n.getImageData(0,0,a,h);var l=n.globalCompositeOperation;n.globalCompositeOperation="destination-over",n.fillStyle=e,n.fillRect(0,0,a,h)}var c=this.canvas.toDataURL(t||"image/png");return e&&(n.putImageData(i,0,0),n.globalCompositeOperation=l),c},r.enableMouseOver=function(e){if(this._mouseOverIntervalID&&(clearInterval(this._mouseOverIntervalID),this._mouseOverIntervalID=null,e==0&&this._testMouseOver(!0)),e==null)e=20;else if(e<=0)return;var t=this;this._mouseOverIntervalID=setInterval(function(){t._testMouseOver()},1e3/Math.min(50,e))},r.enableDOMEvents=function(e){e==null&&(e=!0);var t,i,n=this._eventListeners;if(!e&&n){for(t in n)i=n[t],i.t.removeEventListener(t,i.f,!1);this._eventListeners=null}else if(e&&!n&&this.canvas){var a=window.addEventListener?window:document,h=this;n=this._eventListeners={},n.mouseup={t:a,f:function(l){h._handleMouseUp(l)}},n.mousemove={t:a,f:function(l){h._handleMouseMove(l)}},n.dblclick={t:this.canvas,f:function(l){h._handleDoubleClick(l)}},n.mousedown={t:this.canvas,f:function(l){h._handleMouseDown(l)}};for(t in n)i=n[t],i.t.addEventListener(t,i.f,!1)}},r.clone=function(){throw"Stage cannot be cloned."},r.toString=function(){return"[Stage (name="+this.name+")]"},r._getElementRect=function(e){var t;try{t=e.getBoundingClientRect()}catch{t={top:e.offsetTop,left:e.offsetLeft,width:e.offsetWidth,height:e.offsetHeight}}var i=(window.pageXOffset||document.scrollLeft||0)-(document.clientLeft||document.body.clientLeft||0),n=(window.pageYOffset||document.scrollTop||0)-(document.clientTop||document.body.clientTop||0),a=window.getComputedStyle?getComputedStyle(e,null):e.currentStyle,h=parseInt(a.paddingLeft)+parseInt(a.borderLeftWidth),l=parseInt(a.paddingTop)+parseInt(a.borderTopWidth),c=parseInt(a.paddingRight)+parseInt(a.borderRightWidth),u=parseInt(a.paddingBottom)+parseInt(a.borderBottomWidth);return{left:t.left+i+h,right:t.right+i-c,top:t.top+n+l,bottom:t.bottom+n-u}},r._getPointerData=function(e){var t=this._pointerData[e];return t||(t=this._pointerData[e]={x:0,y:0}),t},r._handleMouseMove=function(e){e||(e=window.event),this._handlePointerMove(-1,e,e.pageX,e.pageY)},r._handlePointerMove=function(e,t,i,n,a){if(!(this._prevStage&&a===void 0)&&!!this.canvas){var h=this._nextStage,l=this._getPointerData(e),c=l.inBounds;this._updatePointerPosition(e,t,i,n),(c||l.inBounds||this.mouseMoveOutside)&&(e===-1&&l.inBounds==!c&&this._dispatchMouseEvent(this,c?"mouseleave":"mouseenter",!1,e,l,t),this._dispatchMouseEvent(this,"stagemousemove",!1,e,l,t),this._dispatchMouseEvent(l.target,"pressmove",!0,e,l,t)),h&&h._handlePointerMove(e,t,i,n,null)}},r._updatePointerPosition=function(e,t,i,n){var a=this._getElementRect(this.canvas);i-=a.left,n-=a.top;var h=this.canvas.width,l=this.canvas.height;i/=(a.right-a.left)/h,n/=(a.bottom-a.top)/l;var c=this._getPointerData(e);(c.inBounds=i>=0&&n>=0&&i<=h-1&&n<=l-1)?(c.x=i,c.y=n):this.mouseMoveOutside&&(c.x=i<0?0:i>h-1?h-1:i,c.y=n<0?0:n>l-1?l-1:n),c.posEvtObj=t,c.rawX=i,c.rawY=n,(e===this._primaryPointerID||e===-1)&&(this.mouseX=c.x,this.mouseY=c.y,this.mouseInBounds=c.inBounds)},r._handleMouseUp=function(e){this._handlePointerUp(-1,e,!1)},r._handlePointerUp=function(e,t,i,n){var a=this._nextStage,h=this._getPointerData(e);if(!(this._prevStage&&n===void 0)){var l=null,c=h.target;!n&&(c||a)&&(l=this._getObjectsUnderPoint(h.x,h.y,null,!0)),h.down&&(this._dispatchMouseEvent(this,"stagemouseup",!1,e,h,t,l),h.down=!1),l==c&&this._dispatchMouseEvent(c,"click",!0,e,h,t),this._dispatchMouseEvent(c,"pressup",!0,e,h,t),i?(e==this._primaryPointerID&&(this._primaryPointerID=null),delete this._pointerData[e]):h.target=null,a&&a._handlePointerUp(e,t,i,n||l&&this)}},r._handleMouseDown=function(e){this._handlePointerDown(-1,e,e.pageX,e.pageY)},r._handlePointerDown=function(e,t,i,n,a){this.preventSelection&&t.preventDefault(),(this._primaryPointerID==null||e===-1)&&(this._primaryPointerID=e),n!=null&&this._updatePointerPosition(e,t,i,n);var h=null,l=this._nextStage,c=this._getPointerData(e);a||(h=c.target=this._getObjectsUnderPoint(c.x,c.y,null,!0)),c.inBounds&&(this._dispatchMouseEvent(this,"stagemousedown",!1,e,c,t,h),c.down=!0),this._dispatchMouseEvent(h,"mousedown",!0,e,c,t),l&&l._handlePointerDown(e,t,i,n,a||h&&this)},r._testMouseOver=function(e,t,i){if(!(this._prevStage&&t===void 0)){var n=this._nextStage;if(!this._mouseOverIntervalID){n&&n._testMouseOver(e,t,i);return}var a=this._getPointerData(-1);if(!(!a||!e&&this.mouseX==this._mouseOverX&&this.mouseY==this._mouseOverY&&this.mouseInBounds)){var h=a.posEvtObj,l=i||h&&h.target==this.canvas,c=null,u=-1,d="",f,_,g;!t&&(e||this.mouseInBounds&&l)&&(c=this._getObjectsUnderPoint(this.mouseX,this.mouseY,null,!0),this._mouseOverX=this.mouseX,this._mouseOverY=this.mouseY);var v=this._mouseOverTarget||[],m=v[v.length-1],E=this._mouseOverTarget=[];for(f=c;f;)E.unshift(f),d||(d=f.cursor),f=f.parent;for(this.canvas.style.cursor=d,!t&&i&&(i.canvas.style.cursor=d),_=0,g=E.length;_<g&&E[_]==v[_];_++)u=_;for(m!=c&&this._dispatchMouseEvent(m,"mouseout",!0,-1,a,h,c),_=v.length-1;_>u;_--)this._dispatchMouseEvent(v[_],"rollout",!1,-1,a,h,c);for(_=E.length-1;_>u;_--)this._dispatchMouseEvent(E[_],"rollover",!1,-1,a,h,m);m!=c&&this._dispatchMouseEvent(c,"mouseover",!0,-1,a,h,m),n&&n._testMouseOver(e,t||c&&this,i||l&&this)}}},r._handleDoubleClick=function(e,t){var i=null,n=this._nextStage,a=this._getPointerData(-1);t||(i=this._getObjectsUnderPoint(a.x,a.y,null,!0),this._dispatchMouseEvent(i,"dblclick",!0,-1,a,e)),n&&n._handleDoubleClick(e,t||i&&this)},r._dispatchMouseEvent=function(e,t,i,n,a,h,l){if(!(!e||!i&&!e.hasEventListener(t))){var c=new createjs.MouseEvent(t,i,!1,a.x,a.y,h,n,n===this._primaryPointerID||n===-1,a.rawX,a.rawY,l);e.dispatchEvent(c)}},createjs.Stage=createjs.promote(o,"Container")})();(function(){function o(e,t){if(this.Stage_constructor(e),t!==void 0){if(typeof t!="object")throw"Invalid options object";var i=t.premultiply,n=t.transparent,a=t.antialias,h=t.preserveBuffer,l=t.autoPurge}this.vocalDebug=!1,this._preserveBuffer=h||!1,this._antialias=a||!1,this._transparent=n||!1,this._premultiply=i||!1,this._autoPurge=void 0,this.autoPurge=l,this._viewportWidth=0,this._viewportHeight=0,this._projectionMatrix=null,this._webGLContext=null,this._clearColor={r:.5,g:.5,b:.5,a:0},this._maxCardsPerBatch=o.DEFAULT_MAX_BATCH_SIZE,this._activeShader=null,this._vertices=null,this._vertexPositionBuffer=null,this._uvs=null,this._uvPositionBuffer=null,this._indices=null,this._textureIndexBuffer=null,this._alphas=null,this._alphaBuffer=null,this._textureDictionary=[],this._textureIDs={},this._batchTextures=[],this._baseTextures=[],this._batchTextureCount=8,this._lastTextureInsert=-1,this._batchID=0,this._drawID=0,this._slotBlacklist=[],this._isDrawing=0,this._lastTrackedCanvas=0,this.isCacheControlled=!1,this._cacheContainer=new createjs.Container,this._initializeWebGL()}var r=createjs.extend(o,createjs.Stage);o.buildUVRects=function(e,t,i){if(!e||!e._frames)return null;t===void 0&&(t=-1),i===void 0&&(i=!1);for(var n=t!=-1&&i?t:0,a=t!=-1&&i?t+1:e._frames.length,h=n;h<a;h++){var l=e._frames[h];if(!(l.uvRect||l.image.width<=0||l.image.height<=0)){var c=l.rect;l.uvRect={t:c.y/l.image.height,l:c.x/l.image.width,b:(c.y+c.height)/l.image.height,r:(c.x+c.width)/l.image.width}}}return e._frames[t!=-1?t:0].uvRect||{t:0,l:0,b:1,r:1}},o.isWebGLActive=function(e){return e&&e instanceof WebGLRenderingContext&&typeof WebGLRenderingContext!="undefined"},o.VERTEX_PROPERTY_COUNT=6,o.INDICIES_PER_CARD=6,o.DEFAULT_MAX_BATCH_SIZE=1e4,o.WEBGL_MAX_INDEX_NUM=Math.pow(2,16),o.UV_RECT={t:0,l:0,b:1,r:1};try{o.COVER_VERT=new Float32Array([-1,1,1,1,-1,-1,1,1,1,-1,-1,-1]),o.COVER_UV=new Float32Array([0,0,1,0,0,1,1,0,1,1,0,1]),o.COVER_UV_FLIP=new Float32Array([0,1,1,1,0,0,1,1,1,0,0,0])}catch{}o.REGULAR_VARYING_HEADER="precision mediump float;varying vec2 vTextureCoord;varying lowp float indexPicker;varying lowp float alphaValue;",o.REGULAR_VERTEX_HEADER=o.REGULAR_VARYING_HEADER+"attribute vec2 vertexPosition;attribute vec2 uvPosition;attribute lowp float textureIndex;attribute lowp float objectAlpha;uniform mat4 pMatrix;",o.REGULAR_FRAGMENT_HEADER=o.REGULAR_VARYING_HEADER+"uniform sampler2D uSampler[{{count}}];",o.REGULAR_VERTEX_BODY="void main(void) {gl_Position = vec4((vertexPosition.x * pMatrix[0][0]) + pMatrix[3][0],(vertexPosition.y * pMatrix[1][1]) + pMatrix[3][1],pMatrix[3][2],1.0);alphaValue = objectAlpha;indexPicker = textureIndex;vTextureCoord = uvPosition;}",o.REGULAR_FRAGMENT_BODY="void main(void) {vec4 color = vec4(1.0, 0.0, 0.0, 1.0);if (indexPicker <= 0.5) {color = texture2D(uSampler[0], vTextureCoord);{{alternates}}}{{fragColor}}}",o.REGULAR_FRAG_COLOR_NORMAL="gl_FragColor = vec4(color.rgb, color.a * alphaValue);",o.REGULAR_FRAG_COLOR_PREMULTIPLY="if(color.a > 0.0035) {gl_FragColor = vec4(color.rgb/color.a, color.a * alphaValue);} else {gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);}",o.PARTICLE_VERTEX_BODY=o.REGULAR_VERTEX_BODY,o.PARTICLE_FRAGMENT_BODY=o.REGULAR_FRAGMENT_BODY,o.COVER_VARYING_HEADER="precision mediump float;varying highp vec2 vRenderCoord;varying highp vec2 vTextureCoord;",o.COVER_VERTEX_HEADER=o.COVER_VARYING_HEADER+"attribute vec2 vertexPosition;attribute vec2 uvPosition;uniform float uUpright;",o.COVER_FRAGMENT_HEADER=o.COVER_VARYING_HEADER+"uniform sampler2D uSampler;",o.COVER_VERTEX_BODY="void main(void) {gl_Position = vec4(vertexPosition.x, vertexPosition.y, 0.0, 1.0);vRenderCoord = uvPosition;vTextureCoord = vec2(uvPosition.x, abs(uUpright - uvPosition.y));}",o.COVER_FRAGMENT_BODY="void main(void) {vec4 color = texture2D(uSampler, vRenderCoord);gl_FragColor = color;}",r._get_isWebGL=function(){return!!this._webGLContext},r._set_autoPurge=function(e){e=isNaN(e)?1200:e,e!=-1&&(e=e<10?10:e),this._autoPurge=e},r._get_autoPurge=function(){return Number(this._autoPurge)};try{Object.defineProperties(r,{isWebGL:{get:r._get_isWebGL},autoPurge:{get:r._get_autoPurge,set:r._set_autoPurge}})}catch{}r._initializeWebGL=function(){if(this.canvas){if(!this._webGLContext||this._webGLContext.canvas!==this.canvas){var e={depth:!1,alpha:this._transparent,stencil:!0,antialias:this._antialias,premultipliedAlpha:this._premultiply,preserveDrawingBuffer:this._preserveBuffer},t=this._webGLContext=this._fetchWebGLContext(this.canvas,e);if(!t)return null;this.updateSimultaneousTextureCount(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS)),this._maxTextureSlots=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS),this._createBuffers(t),this._initTextures(t),t.disable(t.DEPTH_TEST),t.enable(t.BLEND),t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this._premultiply),this._webGLContext.clearColor(this._clearColor.r,this._clearColor.g,this._clearColor.b,this._clearColor.a),this.updateViewport(this._viewportWidth||this.canvas.width,this._viewportHeight||this.canvas.height)}}else this._webGLContext=null;return this._webGLContext},r.update=function(e){if(!!this.canvas){if(this.tickOnUpdate&&this.tick(e),this.dispatchEvent("drawstart"),this.autoClear&&this.clear(),this._webGLContext)this._batchDraw(this,this._webGLContext),this._autoPurge!=-1&&!(this._drawID%(this._autoPurge/2|0))&&this.purgeTextures(this._autoPurge);else{var t=this.canvas.getContext("2d");t.save(),this.updateContext(t),this.draw(t,!1),t.restore()}this.dispatchEvent("drawend")}},r.clear=function(){if(!!this.canvas)if(o.isWebGLActive(this._webGLContext)){var e=this._webGLContext,t=this._clearColor,i=this._transparent?t.a:1;this._webGLContext.clearColor(t.r*i,t.g*i,t.b*i,i),e.clear(e.COLOR_BUFFER_BIT),this._webGLContext.clearColor(t.r,t.g,t.b,t.a)}else this.Stage_clear()},r.draw=function(e,t){if(e===this._webGLContext&&o.isWebGLActive(this._webGLContext)){var i=this._webGLContext;return this._batchDraw(this,i,t),!0}else return this.Stage_draw(e,t)},r.cacheDraw=function(e,t,i){if(o.isWebGLActive(this._webGLContext)){var n=this._webGLContext;return this._cacheDraw(n,e,t,i),!0}else return!1},r.protectTextureSlot=function(e,t){if(e>this._maxTextureSlots||e<0)throw"Slot outside of acceptable range";this._slotBlacklist[e]=!!t},r.getTargetRenderTexture=function(e,t,i){var n,a=!1,h=this._webGLContext;if(e.__lastRT!==void 0&&e.__lastRT===e.__rtA&&(a=!0),a?(e.__rtB===void 0?e.__rtB=this.getRenderBufferTexture(t,i):((t!=e.__rtB._width||i!=e.__rtB._height)&&this.resizeTexture(e.__rtB,t,i),this.setTextureParams(h)),n=e.__rtB):(e.__rtA===void 0?e.__rtA=this.getRenderBufferTexture(t,i):((t!=e.__rtA._width||i!=e.__rtA._height)&&this.resizeTexture(e.__rtA,t,i),this.setTextureParams(h)),n=e.__rtA),!n)throw"Problems creating render textures, known causes include using too much VRAM by not releasing WebGL texture instances";return e.__lastRT=n,n},r.releaseTexture=function(e){var t,i;if(!!e){if(e.children)for(t=0,i=e.children.length;t<i;t++)this.releaseTexture(e.children[t]);e.cacheCanvas&&e.uncache();var n=void 0;if(e._storeID!==void 0){if(e===this._textureDictionary[e._storeID]){this._killTextureObject(e),e._storeID=void 0;return}n=e}else if(e._webGLRenderStyle===2)n=e.image;else if(e._webGLRenderStyle===1){for(t=0,i=e.spriteSheet._images.length;t<i;t++)this.releaseTexture(e.spriteSheet._images[t]);return}if(n===void 0){this.vocalDebug&&console.log("No associated texture found on release");return}this._killTextureObject(this._textureDictionary[n._storeID]),n._storeID=void 0}},r.purgeTextures=function(e){e==null&&(e=100);for(var t=this._textureDictionary,i=t.length,n=0;n<i;n++){var a=t[n];!a||a._drawID+e<=this._drawID&&this._killTextureObject(a)}},r.updateSimultaneousTextureCount=function(e){var t=this._webGLContext,i=!1;for((e<1||isNaN(e))&&(e=1),this._batchTextureCount=e;!i;)try{this._activeShader=this._fetchShaderProgram(t),i=!0}catch(n){if(this._batchTextureCount==1)throw"Cannot compile shader "+n;this._batchTextureCount-=4,this._batchTextureCount<1&&(this._batchTextureCount=1),this.vocalDebug&&console.log("Reducing desired texture count due to errors: "+this._batchTextureCount)}},r.updateViewport=function(e,t){this._viewportWidth=e|0,this._viewportHeight=t|0;var i=this._webGLContext;i&&(i.viewport(0,0,this._viewportWidth,this._viewportHeight),this._projectionMatrix=new Float32Array([2/this._viewportWidth,0,0,0,0,-2/this._viewportHeight,1,0,0,0,1,0,-1,1,.1,0]),this._projectionMatrixFlip=new Float32Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),this._projectionMatrixFlip.set(this._projectionMatrix),this._projectionMatrixFlip[5]*=-1,this._projectionMatrixFlip[13]*=-1)},r.getFilterShader=function(e){e||(e=this);var t=this._webGLContext,i=this._activeShader;if(e._builtShader)i=e._builtShader,e.shaderParamSetup&&(t.useProgram(i),e.shaderParamSetup(t,this,i));else try{i=this._fetchShaderProgram(t,"filter",e.VTX_SHADER_BODY,e.FRAG_SHADER_BODY,e.shaderParamSetup&&e.shaderParamSetup.bind(e)),e._builtShader=i,i._name=e.toString()}catch(n){console&&console.log("SHADER SWITCH FAILURE",n)}return i},r.getBaseTexture=function(e,t){var i=Math.ceil(e>0?e:1)||1,n=Math.ceil(t>0?t:1)||1,a=this._webGLContext,h=a.createTexture();return this.resizeTexture(h,i,n),this.setTextureParams(a,!1),h},r.resizeTexture=function(e,t,i){var n=this._webGLContext;n.bindTexture(n.TEXTURE_2D,e),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,t,i,0,n.RGBA,n.UNSIGNED_BYTE,null),e.width=t,e.height=i},r.getRenderBufferTexture=function(e,t){var i=this._webGLContext,n=this.getBaseTexture(e,t);if(!n)return null;var a=i.createFramebuffer();return a?(n.width=e,n.height=t,i.bindFramebuffer(i.FRAMEBUFFER,a),i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,n,0),a._renderTexture=n,n._frameBuffer=a,n._storeID=this._textureDictionary.length,this._textureDictionary[n._storeID]=n,i.bindFramebuffer(i.FRAMEBUFFER,null),n):null},r.setTextureParams=function(e,t){t&&this._antialias?(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR)):(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST)),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE)},r.setClearColor=function(e){var t,i,n,a,h;typeof e=="string"?e.indexOf("#")==0?(e.length==4&&(e="#"+e.charAt(1)+e.charAt(1)+e.charAt(2)+e.charAt(2)+e.charAt(3)+e.charAt(3)),t=Number("0x"+e.slice(1,3))/255,i=Number("0x"+e.slice(3,5))/255,n=Number("0x"+e.slice(5,7))/255,a=Number("0x"+e.slice(7,9))/255):e.indexOf("rgba(")==0&&(h=e.slice(5,-1).split(","),t=Number(h[0])/255,i=Number(h[1])/255,n=Number(h[2])/255,a=Number(h[3])):(t=((e&4278190080)>>>24)/255,i=((e&16711680)>>>16)/255,n=((e&65280)>>>8)/255,a=(e&255)/255),this._clearColor.r=t||0,this._clearColor.g=i||0,this._clearColor.b=n||0,this._clearColor.a=a||0,this._webGLContext&&this._webGLContext.clearColor(this._clearColor.r,this._clearColor.g,this._clearColor.b,this._clearColor.a)},r.toString=function(){return"[StageGL (name="+this.name+")]"},r._fetchWebGLContext=function(e,t){var i;try{i=e.getContext("webgl",t)||e.getContext("experimental-webgl",t)}catch{}if(i)i.viewportWidth=e.width,i.viewportHeight=e.height;else{var n="Could not initialize WebGL";console.error?console.error(n):console.log(n)}return i},r._fetchShaderProgram=function(e,t,i,n,a){e.useProgram(null);var h,l;switch(t){case"filter":l=o.COVER_VERTEX_HEADER+(i||o.COVER_VERTEX_BODY),h=o.COVER_FRAGMENT_HEADER+(n||o.COVER_FRAGMENT_BODY);break;case"particle":l=o.REGULAR_VERTEX_HEADER+o.PARTICLE_VERTEX_BODY,h=o.REGULAR_FRAGMENT_HEADER+o.PARTICLE_FRAGMENT_BODY;break;case"override":l=o.REGULAR_VERTEX_HEADER+(i||o.REGULAR_VERTEX_BODY),h=o.REGULAR_FRAGMENT_HEADER+(n||o.REGULAR_FRAGMENT_BODY);break;case"regular":default:l=o.REGULAR_VERTEX_HEADER+o.REGULAR_VERTEX_BODY,h=o.REGULAR_FRAGMENT_HEADER+o.REGULAR_FRAGMENT_BODY;break}var c=this._createShader(e,e.VERTEX_SHADER,l),u=this._createShader(e,e.FRAGMENT_SHADER,h),d=e.createProgram();if(e.attachShader(d,c),e.attachShader(d,u),e.linkProgram(d),d._type=t,!e.getProgramParameter(d,e.LINK_STATUS))throw e.useProgram(this._activeShader),e.getProgramInfoLog(d);switch(e.useProgram(d),t){case"filter":d.vertexPositionAttribute=e.getAttribLocation(d,"vertexPosition"),e.enableVertexAttribArray(d.vertexPositionAttribute),d.uvPositionAttribute=e.getAttribLocation(d,"uvPosition"),e.enableVertexAttribArray(d.uvPositionAttribute),d.samplerUniform=e.getUniformLocation(d,"uSampler"),e.uniform1i(d.samplerUniform,0),d.uprightUniform=e.getUniformLocation(d,"uUpright"),e.uniform1f(d.uprightUniform,0),a&&a(e,this,d);break;case"override":case"particle":case"regular":default:d.vertexPositionAttribute=e.getAttribLocation(d,"vertexPosition"),e.enableVertexAttribArray(d.vertexPositionAttribute),d.uvPositionAttribute=e.getAttribLocation(d,"uvPosition"),e.enableVertexAttribArray(d.uvPositionAttribute),d.textureIndexAttribute=e.getAttribLocation(d,"textureIndex"),e.enableVertexAttribArray(d.textureIndexAttribute),d.alphaAttribute=e.getAttribLocation(d,"objectAlpha"),e.enableVertexAttribArray(d.alphaAttribute);for(var f=[],_=0;_<this._batchTextureCount;_++)f[_]=_;d.samplerData=f,d.samplerUniform=e.getUniformLocation(d,"uSampler"),e.uniform1iv(d.samplerUniform,f),d.pMatrixUniform=e.getUniformLocation(d,"pMatrix");break}return e.useProgram(this._activeShader),d},r._createShader=function(e,t,i){i=i.replace(/{{count}}/g,this._batchTextureCount);for(var n="",a=1;a<this._batchTextureCount;a++)n+="} else if (indexPicker <= "+a+".5) { color = texture2D(uSampler["+a+"], vTextureCoord);";i=i.replace(/{{alternates}}/g,n),i=i.replace(/{{fragColor}}/g,this._premultiply?o.REGULAR_FRAG_COLOR_PREMULTIPLY:o.REGULAR_FRAG_COLOR_NORMAL);var h=e.createShader(t);if(e.shaderSource(h,i),e.compileShader(h),!e.getShaderParameter(h,e.COMPILE_STATUS))throw e.getShaderInfoLog(h);return h},r._createBuffers=function(e){var t=this._maxCardsPerBatch*o.INDICIES_PER_CARD,i,n,a,h=this._vertexPositionBuffer=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,h),i=2;var l=this._vertices=new Float32Array(t*i);for(n=0,a=l.length;n<a;n+=i)l[n]=l[n+1]=0;e.bufferData(e.ARRAY_BUFFER,l,e.DYNAMIC_DRAW),h.itemSize=i,h.numItems=t;var c=this._uvPositionBuffer=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,c),i=2;var u=this._uvs=new Float32Array(t*i);for(n=0,a=u.length;n<a;n+=i)u[n]=u[n+1]=0;e.bufferData(e.ARRAY_BUFFER,u,e.DYNAMIC_DRAW),c.itemSize=i,c.numItems=t;var d=this._textureIndexBuffer=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,d),i=1;var f=this._indices=new Float32Array(t*i);for(n=0,a=f.length;n<a;n++)f[n]=0;e.bufferData(e.ARRAY_BUFFER,f,e.DYNAMIC_DRAW),d.itemSize=i,d.numItems=t;var _=this._alphaBuffer=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,_),i=1;var g=this._alphas=new Float32Array(t*i);for(n=0,a=g.length;n<a;n++)g[n]=1;e.bufferData(e.ARRAY_BUFFER,g,e.DYNAMIC_DRAW),_.itemSize=i,_.numItems=t},r._initTextures=function(){this._lastTextureInsert=-1,this._textureDictionary=[],this._textureIDs={},this._baseTextures=[],this._batchTextures=[];for(var e=0;e<this._batchTextureCount;e++){var t=this.getBaseTexture();if(this._baseTextures[e]=this._batchTextures[e]=t,!t)throw"Problems creating basic textures, known causes include using too much VRAM by not releasing WebGL texture instances"}},r._loadTextureImage=function(e,t){var i=t.src;i||(t._isCanvas=!0,i=t.src="canvas_"+this._lastTrackedCanvas++);var n=this._textureIDs[i];n===void 0&&(n=this._textureIDs[i]=this._textureDictionary.length),this._textureDictionary[n]===void 0&&(this._textureDictionary[n]=this.getBaseTexture());var a=this._textureDictionary[n];if(a)a._batchID=this._batchID,a._storeID=n,a._imageData=t,this._insertTextureInBatch(e,a),t._storeID=n,t.complete||t.naturalWidth||t._isCanvas?this._updateTextureImageData(e,t):t.addEventListener("load",this._updateTextureImageData.bind(this,e,t));else{var h="Problem creating desired texture, known causes include using too much VRAM by not releasing WebGL texture instances";console.error&&console.error(h)||console.log(h),a=this._baseTextures[0],a._batchID=this._batchID,a._storeID=-1,a._imageData=a,this._insertTextureInBatch(e,a)}return a},r._updateTextureImageData=function(e,t){var i=t.width&t.width-1||t.height&t.height-1,n=this._textureDictionary[t._storeID];e.activeTexture(e.TEXTURE0+n._activeIndex),e.bindTexture(e.TEXTURE_2D,n),n.isPOT=!i,this.setTextureParams(e,n.isPOT);try{e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,t)}catch(h){var a=`
An error has occurred. This is most likely due to security restrictions on WebGL images with local or cross-domain origins`;console.error?(console.error(a),console.error(h)):console&&(console.log(a),console.log(h))}t._invalid=!1,n._w=t.width,n._h=t.height,this.vocalDebug&&(i&&console.warn("NPOT(Non Power of Two) Texture: "+t.src),(t.width>e.MAX_TEXTURE_SIZE||t.height>e.MAX_TEXTURE_SIZE)&&console&&console.error("Oversized Texture: "+t.width+"x"+t.height+" vs "+e.MAX_TEXTURE_SIZE+"max"))},r._insertTextureInBatch=function(e,t){if(this._batchTextures[t._activeIndex]!==t){var i=-1,n=(this._lastTextureInsert+1)%this._batchTextureCount,a=n;do{if(this._batchTextures[a]._batchID!=this._batchID&&!this._slotBlacklist[a]){i=a;break}a=(a+1)%this._batchTextureCount}while(a!==n);i===-1&&(this.batchReason="textureOverflow",this._drawBuffers(e),this.batchCardCount=0,i=n),this._batchTextures[i]=t,t._activeIndex=i;var h=t._imageData;h&&h._invalid&&t._drawID!==void 0?this._updateTextureImageData(e,h):(e.activeTexture(e.TEXTURE0+i),e.bindTexture(e.TEXTURE_2D,t),this.setTextureParams(e)),this._lastTextureInsert=i}else{var h=t._imageData;t._storeID!=null&&h&&h._invalid&&this._updateTextureImageData(e,h)}t._drawID=this._drawID,t._batchID=this._batchID},r._killTextureObject=function(e){if(!!e){var t=this._webGLContext;if(e._storeID!==void 0&&e._storeID>=0){this._textureDictionary[e._storeID]=void 0;for(var i in this._textureIDs)this._textureIDs[i]==e._storeID&&delete this._textureIDs[i];e._imageData&&(e._imageData._storeID=void 0),e._imageData=e._storeID=void 0}e._activeIndex!==void 0&&this._batchTextures[e._activeIndex]===e&&(this._batchTextures[e._activeIndex]=this._baseTextures[e._activeIndex]);try{e._frameBuffer&&t.deleteFramebuffer(e._frameBuffer),e._frameBuffer=void 0}catch(n){this.vocalDebug&&console.log(n)}try{t.deleteTexture(e)}catch(n){this.vocalDebug&&console.log(n)}}},r._backupBatchTextures=function(e,t){var i=this._webGLContext;this._backupTextures||(this._backupTextures=[]),t===void 0&&(t=this._backupTextures);for(var n=0;n<this._batchTextureCount;n++)i.activeTexture(i.TEXTURE0+n),e?this._batchTextures[n]=t[n]:(t[n]=this._batchTextures[n],this._batchTextures[n]=this._baseTextures[n]),i.bindTexture(i.TEXTURE_2D,this._batchTextures[n]),this.setTextureParams(i,this._batchTextures[n].isPOT);e&&t===this._backupTextures&&(this._backupTextures=[])},r._batchDraw=function(e,t,i){this._isDrawing>0&&this._drawBuffers(t),this._isDrawing++,this._drawID++,this.batchCardCount=0,this.depth=0,this._appendToBatchGroup(e,t,new createjs.Matrix2D,this.alpha,i),this.batchReason="drawFinish",this._drawBuffers(t),this._isDrawing--},r._cacheDraw=function(e,t,i,n){var a,h=this._activeShader,l=this._slotBlacklist,c=this._maxTextureSlots-1,u=this._viewportWidth,d=this._viewportHeight;this.protectTextureSlot(c,!0);var f=t.getMatrix();f=f.clone(),f.scale(1/n.scale,1/n.scale),f=f.invert(),f.translate(-n.offX/n.scale*t.scaleX,-n.offY/n.scale*t.scaleY);var _=this._cacheContainer;_.children=[t],_.transformMatrix=f,this._backupBatchTextures(!1),i&&i.length?this._drawFilters(t,i,n):this.isCacheControlled?(e.clear(e.COLOR_BUFFER_BIT),this._batchDraw(_,e,!0)):(e.activeTexture(e.TEXTURE0+c),t.cacheCanvas=this.getTargetRenderTexture(t,n._drawWidth,n._drawHeight),a=t.cacheCanvas,e.bindFramebuffer(e.FRAMEBUFFER,a._frameBuffer),this.updateViewport(n._drawWidth,n._drawHeight),this._projectionMatrix=this._projectionMatrixFlip,e.clear(e.COLOR_BUFFER_BIT),this._batchDraw(_,e,!0),e.bindFramebuffer(e.FRAMEBUFFER,null),this.updateViewport(u,d)),this._backupBatchTextures(!0),this.protectTextureSlot(c,!1),this._activeShader=h,this._slotBlacklist=l},r._drawFilters=function(e,t,i){var n=this._webGLContext,a,h=this._maxTextureSlots-1,l=this._viewportWidth,c=this._viewportHeight,u=this._cacheContainer,d=t.length;n.activeTexture(n.TEXTURE0+h),a=this.getTargetRenderTexture(e,i._drawWidth,i._drawHeight),n.bindFramebuffer(n.FRAMEBUFFER,a._frameBuffer),this.updateViewport(i._drawWidth,i._drawHeight),n.clear(n.COLOR_BUFFER_BIT),this._batchDraw(u,n,!0),n.activeTexture(n.TEXTURE0),n.bindTexture(n.TEXTURE_2D,a),this.setTextureParams(n);var f=!1,_=0,g=t[_];do this._activeShader=this.getFilterShader(g),this._activeShader&&(n.activeTexture(n.TEXTURE0+h),a=this.getTargetRenderTexture(e,i._drawWidth,i._drawHeight),n.bindFramebuffer(n.FRAMEBUFFER,a._frameBuffer),n.viewport(0,0,i._drawWidth,i._drawHeight),n.clear(n.COLOR_BUFFER_BIT),this._drawCover(n,f),n.activeTexture(n.TEXTURE0),n.bindTexture(n.TEXTURE_2D,a),this.setTextureParams(n),(d>1||t[0]._multiPass)&&(f=!f),g=g._multiPass!==null?g._multiPass:t[++_]);while(g);this.isCacheControlled?(n.bindFramebuffer(n.FRAMEBUFFER,null),this.updateViewport(l,c),this._activeShader=this.getFilterShader(this),n.clear(n.COLOR_BUFFER_BIT),this._drawCover(n,f)):(f&&(n.activeTexture(n.TEXTURE0+h),a=this.getTargetRenderTexture(e,i._drawWidth,i._drawHeight),n.bindFramebuffer(n.FRAMEBUFFER,a._frameBuffer),this._activeShader=this.getFilterShader(this),n.viewport(0,0,i._drawWidth,i._drawHeight),n.clear(n.COLOR_BUFFER_BIT),this._drawCover(n,!f)),n.bindFramebuffer(n.FRAMEBUFFER,null),this.updateViewport(l,c),e.cacheCanvas=a)},r._appendToBatchGroup=function(e,t,i,n,a){e._glMtx||(e._glMtx=new createjs.Matrix2D);var h=e._glMtx;h.copy(i),e.transformMatrix?h.appendMatrix(e.transformMatrix):h.appendTransform(e.x,e.y,e.scaleX,e.scaleY,e.rotation,e.skewX,e.skewY,e.regX,e.regY);for(var l,c,u,d,f=e.children.length,_=0;_<f;_++){var g=e.children[_];if(!!(g.visible&&n)){if((!g.cacheCanvas||a)&&(g._updateState&&g._updateState(),g.children)){this._appendToBatchGroup(g,t,h,g.alpha*n);continue}this.batchCardCount+1>this._maxCardsPerBatch&&(this.batchReason="vertexOverflow",this._drawBuffers(t),this.batchCardCount=0),g._glMtx||(g._glMtx=new createjs.Matrix2D);var v=g._glMtx;v.copy(h),g.transformMatrix?v.appendMatrix(g.transformMatrix):v.appendTransform(g.x,g.y,g.scaleX,g.scaleY,g.rotation,g.skewX,g.skewY,g.regX,g.regY);var m,E,y,x,P,b,k=g.cacheCanvas&&!a;if(g._webGLRenderStyle===2||k)y=(a?!1:g.cacheCanvas)||g.image;else if(g._webGLRenderStyle===1){if(x=g.spriteSheet.getFrame(g.currentFrame),x===null)continue;y=x.image}else continue;var M=this._uvs,D=this._vertices,F=this._indices,G=this._alphas;if(!!y){if(y._storeID===void 0)P=this._loadTextureImage(t,y),this._insertTextureInBatch(t,P);else{if(P=this._textureDictionary[y._storeID],!P){this.vocalDebug&&console.log("Texture should not be looked up while not being stored.");continue}P._batchID!==this._batchID&&this._insertTextureInBatch(t,P)}if(E=P._activeIndex,g._webGLRenderStyle===2||k)!k&&g.sourceRect?(g._uvRect||(g._uvRect={}),b=g.sourceRect,m=g._uvRect,m.t=b.y/y.height,m.l=b.x/y.width,m.b=(b.y+b.height)/y.height,m.r=(b.x+b.width)/y.width,l=0,c=0,u=b.width+l,d=b.height+c):(m=o.UV_RECT,k?(b=g.bitmapCache,l=b.x+b._filterOffX/b.scale,c=b.y+b._filterOffY/b.scale,u=b._drawWidth/b.scale+l,d=b._drawHeight/b.scale+c):(l=0,c=0,u=y.width+l,d=y.height+c));else if(g._webGLRenderStyle===1){var $=x.rect;m=x.uvRect,m||(m=o.buildUVRects(g.spriteSheet,g.currentFrame,!1)),l=-x.regX,c=-x.regY,u=$.width-x.regX,d=$.height-x.regY}var H=this.batchCardCount*o.INDICIES_PER_CARD,j=H*2;D[j]=l*v.a+c*v.c+v.tx,D[j+1]=l*v.b+c*v.d+v.ty,D[j+2]=l*v.a+d*v.c+v.tx,D[j+3]=l*v.b+d*v.d+v.ty,D[j+4]=u*v.a+c*v.c+v.tx,D[j+5]=u*v.b+c*v.d+v.ty,D[j+6]=D[j+2],D[j+7]=D[j+3],D[j+8]=D[j+4],D[j+9]=D[j+5],D[j+10]=u*v.a+d*v.c+v.tx,D[j+11]=u*v.b+d*v.d+v.ty,M[j]=m.l,M[j+1]=m.t,M[j+2]=m.l,M[j+3]=m.b,M[j+4]=m.r,M[j+5]=m.t,M[j+6]=m.l,M[j+7]=m.b,M[j+8]=m.r,M[j+9]=m.t,M[j+10]=m.r,M[j+11]=m.b,F[H]=F[H+1]=F[H+2]=F[H+3]=F[H+4]=F[H+5]=E,G[H]=G[H+1]=G[H+2]=G[H+3]=G[H+4]=G[H+5]=g.alpha*n,this.batchCardCount++}}}},r._drawBuffers=function(e){if(!(this.batchCardCount<=0)){this.vocalDebug&&console.log("Draw["+this._drawID+":"+this._batchID+"] : "+this.batchReason);var t=this._activeShader,i=this._vertexPositionBuffer,n=this._textureIndexBuffer,a=this._uvPositionBuffer,h=this._alphaBuffer;e.useProgram(t),e.bindBuffer(e.ARRAY_BUFFER,i),e.vertexAttribPointer(t.vertexPositionAttribute,i.itemSize,e.FLOAT,!1,0,0),e.bufferSubData(e.ARRAY_BUFFER,0,this._vertices),e.bindBuffer(e.ARRAY_BUFFER,n),e.vertexAttribPointer(t.textureIndexAttribute,n.itemSize,e.FLOAT,!1,0,0),e.bufferSubData(e.ARRAY_BUFFER,0,this._indices),e.bindBuffer(e.ARRAY_BUFFER,a),e.vertexAttribPointer(t.uvPositionAttribute,a.itemSize,e.FLOAT,!1,0,0),e.bufferSubData(e.ARRAY_BUFFER,0,this._uvs),e.bindBuffer(e.ARRAY_BUFFER,h),e.vertexAttribPointer(t.alphaAttribute,h.itemSize,e.FLOAT,!1,0,0),e.bufferSubData(e.ARRAY_BUFFER,0,this._alphas),e.uniformMatrix4fv(t.pMatrixUniform,e.FALSE,this._projectionMatrix);for(var l=0;l<this._batchTextureCount;l++){var c=this._batchTextures[l];e.activeTexture(e.TEXTURE0+l),e.bindTexture(e.TEXTURE_2D,c),this.setTextureParams(e,c.isPOT)}e.drawArrays(e.TRIANGLES,0,this.batchCardCount*o.INDICIES_PER_CARD),this._batchID++}},r._drawCover=function(e,t){this._isDrawing>0&&this._drawBuffers(e),this.vocalDebug&&console.log("Draw["+this._drawID+":"+this._batchID+"] : Cover");var i=this._activeShader,n=this._vertexPositionBuffer,a=this._uvPositionBuffer;e.clear(e.COLOR_BUFFER_BIT),e.useProgram(i),e.bindBuffer(e.ARRAY_BUFFER,n),e.vertexAttribPointer(i.vertexPositionAttribute,n.itemSize,e.FLOAT,!1,0,0),e.bufferSubData(e.ARRAY_BUFFER,0,o.COVER_VERT),e.bindBuffer(e.ARRAY_BUFFER,a),e.vertexAttribPointer(i.uvPositionAttribute,a.itemSize,e.FLOAT,!1,0,0),e.bufferSubData(e.ARRAY_BUFFER,0,t?o.COVER_UV_FLIP:o.COVER_UV),e.uniform1i(i.samplerUniform,0),e.uniform1f(i.uprightUniform,t?0:1),e.drawArrays(e.TRIANGLES,0,o.INDICIES_PER_CARD)},createjs.StageGL=createjs.promote(o,"Stage")})();(function(){function o(e){this.DisplayObject_constructor(),typeof e=="string"?(this.image=document.createElement("img"),this.image.src=e):this.image=e,this.sourceRect=null,this._webGLRenderStyle=createjs.DisplayObject._StageGL_BITMAP}var r=createjs.extend(o,createjs.DisplayObject);r.initialize=o,r.isVisible=function(){var e=this.image,t=this.cacheCanvas||e&&(e.naturalWidth||e.getContext||e.readyState>=2);return!!(this.visible&&this.alpha>0&&this.scaleX!=0&&this.scaleY!=0&&t)},r.draw=function(e,t){if(this.DisplayObject_draw(e,t))return!0;var i=this.image,n=this.sourceRect;if(i.getImage&&(i=i.getImage()),!i)return!0;if(n){var a=n.x,h=n.y,l=a+n.width,c=h+n.height,u=0,d=0,f=i.width,_=i.height;a<0&&(u-=a,a=0),l>f&&(l=f),h<0&&(d-=h,h=0),c>_&&(c=_),e.drawImage(i,a,h,l-a,c-h,u,d,l-a,c-h)}else e.drawImage(i,0,0);return!0},r.getBounds=function(){var e=this.DisplayObject_getBounds();if(e)return e;var t=this.image,i=this.sourceRect||t,n=t&&(t.naturalWidth||t.getContext||t.readyState>=2);return n?this._rectangle.setValues(0,0,i.width,i.height):null},r.clone=function(e){var t=this.image;t&&e&&(t=t.cloneNode());var i=new o(t);return this.sourceRect&&(i.sourceRect=this.sourceRect.clone()),this._cloneProps(i),i},r.toString=function(){return"[Bitmap (name="+this.name+")]"},createjs.Bitmap=createjs.promote(o,"DisplayObject")})();(function(){function o(e,t){this.DisplayObject_constructor(),this.currentFrame=0,this.currentAnimation=null,this.paused=!0,this.spriteSheet=e,this.currentAnimationFrame=0,this.framerate=0,this._animation=null,this._currentFrame=null,this._skipAdvance=!1,this._webGLRenderStyle=createjs.DisplayObject._StageGL_SPRITE,t!=null&&this.gotoAndPlay(t)}var r=createjs.extend(o,createjs.DisplayObject);r.initialize=o,r.isVisible=function(){var e=this.cacheCanvas||this.spriteSheet.complete;return!!(this.visible&&this.alpha>0&&this.scaleX!=0&&this.scaleY!=0&&e)},r.draw=function(e,t){if(this.DisplayObject_draw(e,t))return!0;this._normalizeFrame();var i=this.spriteSheet.getFrame(this._currentFrame|0);if(!i)return!1;var n=i.rect;return n.width&&n.height&&e.drawImage(i.image,n.x,n.y,n.width,n.height,-i.regX,-i.regY,n.width,n.height),!0},r.play=function(){this.paused=!1},r.stop=function(){this.paused=!0},r.gotoAndPlay=function(e){this.paused=!1,this._skipAdvance=!0,this._goto(e)},r.gotoAndStop=function(e){this.paused=!0,this._goto(e)},r.advance=function(e){var t=this.framerate||this.spriteSheet.framerate,i=t&&e!=null?e/(1e3/t):1;this._normalizeFrame(i)},r.getBounds=function(){return this.DisplayObject_getBounds()||this.spriteSheet.getFrameBounds(this.currentFrame,this._rectangle)},r.clone=function(){return this._cloneProps(new o(this.spriteSheet))},r.toString=function(){return"[Sprite (name="+this.name+")]"},r._cloneProps=function(e){return this.DisplayObject__cloneProps(e),e.currentFrame=this.currentFrame,e.currentAnimation=this.currentAnimation,e.paused=this.paused,e.currentAnimationFrame=this.currentAnimationFrame,e.framerate=this.framerate,e._animation=this._animation,e._currentFrame=this._currentFrame,e._skipAdvance=this._skipAdvance,e},r._tick=function(e){this.paused||(this._skipAdvance||this.advance(e&&e.delta),this._skipAdvance=!1),this.DisplayObject__tick(e)},r._normalizeFrame=function(e){e=e||0;var t=this._animation,i=this.paused,n=this._currentFrame,a;if(t){var h=t.speed||1,l=this.currentAnimationFrame;if(a=t.frames.length,l+e*h>=a){var c=t.next;if(this._dispatchAnimationEnd(t,n,i,c,a-1))return;if(c)return this._goto(c,e-(a-l)/h);this.paused=!0,l=t.frames.length-1}else l+=e*h;this.currentAnimationFrame=l,this._currentFrame=t.frames[l|0]}else if(n=this._currentFrame+=e,a=this.spriteSheet.getNumFrames(),n>=a&&a>0&&!this._dispatchAnimationEnd(t,n,i,a-1)&&(this._currentFrame-=a)>=a)return this._normalizeFrame();n=this._currentFrame|0,this.currentFrame!=n&&(this.currentFrame=n,this.dispatchEvent("change"))},r._dispatchAnimationEnd=function(e,t,i,n,a){var h=e?e.name:null;if(this.hasEventListener("animationend")){var l=new createjs.Event("animationend");l.name=h,l.next=n,this.dispatchEvent(l)}var c=this._animation!=e||this._currentFrame!=t;return!c&&!i&&this.paused&&(this.currentAnimationFrame=a,c=!0),c},r._goto=function(e,t){if(this.currentAnimationFrame=0,isNaN(e)){var i=this.spriteSheet.getAnimation(e);i&&(this._animation=i,this.currentAnimation=e,this._normalizeFrame(t))}else this.currentAnimation=this._animation=null,this._currentFrame=e,this._normalizeFrame()},createjs.Sprite=createjs.promote(o,"DisplayObject")})();(function(){function o(e){this.DisplayObject_constructor(),this.graphics=e||new createjs.Graphics}var r=createjs.extend(o,createjs.DisplayObject);r.isVisible=function(){var e=this.cacheCanvas||this.graphics&&!this.graphics.isEmpty();return!!(this.visible&&this.alpha>0&&this.scaleX!=0&&this.scaleY!=0&&e)},r.draw=function(e,t){return this.DisplayObject_draw(e,t)||this.graphics.draw(e,this),!0},r.clone=function(e){var t=e&&this.graphics?this.graphics.clone():this.graphics;return this._cloneProps(new o(t))},r.toString=function(){return"[Shape (name="+this.name+")]"},createjs.Shape=createjs.promote(o,"DisplayObject")})();(function(){function o(t,i,n){this.DisplayObject_constructor(),this.text=t,this.font=i,this.color=n,this.textAlign="left",this.textBaseline="top",this.maxWidth=null,this.outline=0,this.lineHeight=0,this.lineWidth=null}var r=createjs.extend(o,createjs.DisplayObject),e=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");e.getContext&&(o._workingContext=e.getContext("2d"),e.width=e.height=1),o.H_OFFSETS={start:0,left:0,center:-.5,end:-1,right:-1},o.V_OFFSETS={top:0,hanging:-.01,middle:-.4,alphabetic:-.8,ideographic:-.85,bottom:-1},r.isVisible=function(){var t=this.cacheCanvas||this.text!=null&&this.text!=="";return!!(this.visible&&this.alpha>0&&this.scaleX!=0&&this.scaleY!=0&&t)},r.draw=function(t,i){if(this.DisplayObject_draw(t,i))return!0;var n=this.color||"#000";return this.outline?(t.strokeStyle=n,t.lineWidth=this.outline*1):t.fillStyle=n,this._drawText(this._prepContext(t)),!0},r.getMeasuredWidth=function(){return this._getMeasuredWidth(this.text)},r.getMeasuredLineHeight=function(){return this._getMeasuredWidth("M")*1.2},r.getMeasuredHeight=function(){return this._drawText(null,{}).height},r.getBounds=function(){var t=this.DisplayObject_getBounds();if(t)return t;if(this.text==null||this.text==="")return null;var i=this._drawText(null,{}),n=this.maxWidth&&this.maxWidth<i.width?this.maxWidth:i.width,a=n*o.H_OFFSETS[this.textAlign||"left"],h=this.lineHeight||this.getMeasuredLineHeight(),l=h*o.V_OFFSETS[this.textBaseline||"top"];return this._rectangle.setValues(a,l,n,i.height)},r.getMetrics=function(){var t={lines:[]};return t.lineHeight=this.lineHeight||this.getMeasuredLineHeight(),t.vOffset=t.lineHeight*o.V_OFFSETS[this.textBaseline||"top"],this._drawText(null,t,t.lines)},r.clone=function(){return this._cloneProps(new o(this.text,this.font,this.color))},r.toString=function(){return"[Text (text="+(this.text.length>20?this.text.substr(0,17)+"...":this.text)+")]"},r._cloneProps=function(t){return this.DisplayObject__cloneProps(t),t.textAlign=this.textAlign,t.textBaseline=this.textBaseline,t.maxWidth=this.maxWidth,t.outline=this.outline,t.lineHeight=this.lineHeight,t.lineWidth=this.lineWidth,t},r._prepContext=function(t){return t.font=this.font||"10px sans-serif",t.textAlign=this.textAlign||"left",t.textBaseline=this.textBaseline||"top",t.lineJoin="miter",t.miterLimit=2.5,t},r._drawText=function(t,i,n){var a=!!t;a||(t=o._workingContext,t.save(),this._prepContext(t));for(var h=this.lineHeight||this.getMeasuredLineHeight(),l=0,c=0,u=String(this.text).split(/(?:\r\n|\r|\n)/),d=0,f=u.length;d<f;d++){var _=u[d],g=null;if(this.lineWidth!=null&&(g=t.measureText(_).width)>this.lineWidth){var v=_.split(/(\s)/);_=v[0],g=t.measureText(_).width;for(var m=1,E=v.length;m<E;m+=2){var y=t.measureText(v[m]+v[m+1]).width;g+y>this.lineWidth?(a&&this._drawTextLine(t,_,c*h),n&&n.push(_),g>l&&(l=g),_=v[m+1],g=t.measureText(_).width,c++):(_+=v[m]+v[m+1],g+=y)}}a&&this._drawTextLine(t,_,c*h),n&&n.push(_),i&&g==null&&(g=t.measureText(_).width),g>l&&(l=g),c++}return i&&(i.width=l,i.height=c*h),a||t.restore(),i},r._drawTextLine=function(t,i,n){this.outline?t.strokeText(i,0,n,this.maxWidth||65535):t.fillText(i,0,n,this.maxWidth||65535)},r._getMeasuredWidth=function(t){var i=o._workingContext;i.save();var n=this._prepContext(i).measureText(t).width;return i.restore(),n},createjs.Text=createjs.promote(o,"DisplayObject")})();(function(){function o(e,t){this.Container_constructor(),this.text=e||"",this.spriteSheet=t,this.lineHeight=0,this.letterSpacing=0,this.spaceWidth=0,this._oldProps={text:0,spriteSheet:0,lineHeight:0,letterSpacing:0,spaceWidth:0},this._oldStage=null,this._drawAction=null}var r=createjs.extend(o,createjs.Container);o.maxPoolSize=100,o._spritePool=[],r.draw=function(e,t){this.DisplayObject_draw(e,t)||(this._updateState(),this.Container_draw(e,t))},r.getBounds=function(){return this._updateText(),this.Container_getBounds()},r.isVisible=function(){var e=this.cacheCanvas||this.spriteSheet&&this.spriteSheet.complete&&this.text;return!!(this.visible&&this.alpha>0&&this.scaleX!==0&&this.scaleY!==0&&e)},r.clone=function(){return this._cloneProps(new o(this.text,this.spriteSheet))},r.addChild=r.addChildAt=r.removeChild=r.removeChildAt=r.removeAllChildren=function(){},r._updateState=function(){this._updateText()},r._cloneProps=function(e){return this.Container__cloneProps(e),e.lineHeight=this.lineHeight,e.letterSpacing=this.letterSpacing,e.spaceWidth=this.spaceWidth,e},r._getFrameIndex=function(e,t){var i,n=t.getAnimation(e);return n||(e!=(i=e.toUpperCase())||e!=(i=e.toLowerCase())||(i=null),i&&(n=t.getAnimation(i))),n&&n.frames[0]},r._getFrame=function(e,t){var i=this._getFrameIndex(e,t);return i==null?i:t.getFrame(i)},r._getLineHeight=function(e){var t=this._getFrame("1",e)||this._getFrame("T",e)||this._getFrame("L",e)||e.getFrame(0);return t?t.rect.height:1},r._getSpaceWidth=function(e){var t=this._getFrame("1",e)||this._getFrame("l",e)||this._getFrame("e",e)||this._getFrame("a",e)||e.getFrame(0);return t?t.rect.width:1},r._updateText=function(){var e=0,t=0,i=this._oldProps,n=!1,a=this.spaceWidth,h=this.lineHeight,l=this.spriteSheet,c=o._spritePool,u=this.children,d=0,f=u.length,_;for(var g in i)i[g]!=this[g]&&(i[g]=this[g],n=!0);if(!!n){var v=!!this._getFrame(" ",l);!v&&!a&&(a=this._getSpaceWidth(l)),h||(h=this._getLineHeight(l));for(var m=0,E=this.text.length;m<E;m++){var y=this.text.charAt(m);if(y==" "&&!v){e+=a;continue}else if(y==`
`||y=="\r"){y=="\r"&&this.text.charAt(m+1)==`
`&&m++,e=0,t+=h;continue}var x=this._getFrameIndex(y,l);x!=null&&(d<f?_=u[d]:(u.push(_=c.length?c.pop():new createjs.Sprite),_.parent=this,f++),_.spriteSheet=l,_.gotoAndStop(x),_.x=e,_.y=t,d++,e+=_.getBounds().width+this.letterSpacing)}for(;f>d;)c.push(_=u.pop()),_.parent=null,f--;c.length>o.maxPoolSize&&(c.length=o.maxPoolSize)}},createjs.BitmapText=createjs.promote(o,"Container")})();(function(){function o(t){this.Container_constructor(),!o.inited&&o.init();var i,n,a,h;t instanceof String||arguments.length>1?(i=t,n=arguments[1],a=arguments[2],h=arguments[3],a==null&&(a=-1),t=null):t&&(i=t.mode,n=t.startPosition,a=t.loop,h=t.labels),t||(t={labels:h}),this.mode=i||o.INDEPENDENT,this.startPosition=n||0,this.loop=a===!0?-1:a||0,this.currentFrame=0,this.paused=t.paused||!1,this.actionsEnabled=!0,this.autoReset=!0,this.frameBounds=this.frameBounds||t.frameBounds,this.framerate=null,t.useTicks=t.paused=!0,this.timeline=new createjs.Timeline(t),this._synchOffset=0,this._rawPosition=-1,this._bound_resolveState=this._resolveState.bind(this),this._t=0,this._managed={}}var r=createjs.extend(o,createjs.Container);o.INDEPENDENT="independent",o.SINGLE_FRAME="single",o.SYNCHED="synched",o.inited=!1,o.init=function(){o.inited||(e.install(),o.inited=!0)},r._getLabels=function(){return this.timeline.getLabels()},r.getLabels=createjs.deprecate(r._getLabels,"MovieClip.getLabels"),r._getCurrentLabel=function(){return this.timeline.currentLabel},r.getCurrentLabel=createjs.deprecate(r._getCurrentLabel,"MovieClip.getCurrentLabel"),r._getDuration=function(){return this.timeline.duration},r.getDuration=createjs.deprecate(r._getDuration,"MovieClip.getDuration");try{Object.defineProperties(r,{labels:{get:r._getLabels},currentLabel:{get:r._getCurrentLabel},totalFrames:{get:r._getDuration},duration:{get:r._getDuration}})}catch{}r.initialize=o,r.isVisible=function(){return!!(this.visible&&this.alpha>0&&this.scaleX!=0&&this.scaleY!=0)},r.draw=function(t,i){return this.DisplayObject_draw(t,i)||(this._updateState(),this.Container_draw(t,i)),!0},r.play=function(){this.paused=!1},r.stop=function(){this.paused=!0},r.gotoAndPlay=function(t){this.paused=!1,this._goto(t)},r.gotoAndStop=function(t){this.paused=!0,this._goto(t)},r.advance=function(t){var i=o.INDEPENDENT;if(this.mode===i){for(var n=this,a=n.framerate;(n=n.parent)&&a===null;)n.mode===i&&(a=n._framerate);if(this._framerate=a,!this.paused){var h=a!==null&&a!==-1&&t!==null?t/(1e3/a)+this._t:1,l=h|0;for(this._t=h-l;l--;)this._updateTimeline(this._rawPosition+1,!1)}}},r.clone=function(){throw"MovieClip cannot be cloned."},r.toString=function(){return"[MovieClip (name="+this.name+")]"},r._updateState=function(){(this._rawPosition===-1||this.mode!==o.INDEPENDENT)&&this._updateTimeline(-1)},r._tick=function(t){this.advance(t&&t.delta),this.Container__tick(t)},r._goto=function(t){var i=this.timeline.resolve(t);i!=null&&(this._t=0,this._updateTimeline(i,!0))},r._reset=function(){this._rawPosition=-1,this._t=this.currentFrame=0,this.paused=!1},r._updateTimeline=function(t,i){var n=this.mode!==o.INDEPENDENT,a=this.timeline;n&&(t=this.startPosition+(this.mode===o.SINGLE_FRAME?0:this._synchOffset)),t<0&&(t=0),!(this._rawPosition===t&&!n)&&(this._rawPosition=t,a.loop=this.loop,a.setPosition(t,n||!this.actionsEnabled,i,this._bound_resolveState))},r._renderFirstFrame=function(){var t=this.timeline,i=t.rawPosition;t.setPosition(0,!0,!0,this._bound_resolveState),t.rawPosition=i},r._resolveState=function(){var t=this.timeline;this.currentFrame=t.position;for(var i in this._managed)this._managed[i]=1;for(var n=t.tweens,a=0,h=n.length;a<h;a++){var l=n[a],c=l.target;if(!(c===this||l.passive)){var u=l._stepPosition;c instanceof createjs.DisplayObject?this._addManagedChild(c,u):this._setState(c.state,u)}}var d=this.children;for(a=d.length-1;a>=0;a--){var f=d[a].id;this._managed[f]===1&&(this.removeChildAt(a),delete this._managed[f])}},r._setState=function(t,i){if(!!t)for(var n=t.length-1;n>=0;n--){var a=t[n],h=a.t,l=a.p;for(var c in l)h[c]=l[c];this._addManagedChild(h,i)}},r._addManagedChild=function(t,i){t._off||(this.addChildAt(t,0),t instanceof o&&(t._synchOffset=i,t.mode===o.INDEPENDENT&&t.autoReset&&!this._managed[t.id]&&t._reset()),this._managed[t.id]=2)},r._getBounds=function(t,i){var n=this.DisplayObject_getBounds();return n||this.frameBounds&&(n=this._rectangle.copy(this.frameBounds[this.currentFrame])),n?this._transformBounds(n,t,i):this.Container__getBounds(t,i)},createjs.MovieClip=createjs.promote(o,"Container");function e(){throw"MovieClipPlugin cannot be instantiated."}e.priority=100,e.ID="MovieClip",e.install=function(){createjs.Tween._installPlugin(e)},e.init=function(t,i,n){i==="startPosition"&&t.target instanceof o&&t._addPlugin(e)},e.step=function(t,i,n){},e.change=function(t,i,n,a,h,l){if(n==="startPosition")return h===1?i.props[n]:i.prev.props[n]}})();(function(){function o(){throw"SpriteSheetUtils cannot be instantiated"}var r=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");r.getContext&&(o._workingCanvas=r,o._workingContext=r.getContext("2d"),r.width=r.height=1),o.extractFrame=function(e,t){isNaN(t)&&(t=e.getAnimation(t).frames[0]);var i=e.getFrame(t);if(!i)return null;var n=i.rect,a=o._workingCanvas;a.width=n.width,a.height=n.height,o._workingContext.drawImage(i.image,n.x,n.y,n.width,n.height,0,0,n.width,n.height);var h=document.createElement("img");return h.src=a.toDataURL("image/png"),h},o.addFlippedFrames=createjs.deprecate(null,"SpriteSheetUtils.addFlippedFrames"),o.mergeAlpha=createjs.deprecate(null,"SpriteSheetUtils.mergeAlpha"),o._flip=function(e,t,i,n){for(var a=e._images,h=o._workingCanvas,l=o._workingContext,c=a.length/t,u=0;u<c;u++){var d=a[u];d.__tmp=u,l.setTransform(1,0,0,1,0,0),l.clearRect(0,0,h.width+1,h.height+1),h.width=d.width,h.height=d.height,l.setTransform(i?-1:1,0,0,n?-1:1,i?d.width:0,n?d.height:0),l.drawImage(d,0,0);var f=document.createElement("img");f.src=h.toDataURL("image/png"),f.width=d.width||d.naturalWidth,f.height=d.height||d.naturalHeight,a.push(f)}var _=e._frames,g=_.length/t;for(u=0;u<g;u++){d=_[u];var v=d.rect.clone();f=a[d.image.__tmp+c*t];var m={image:f,rect:v,regX:d.regX,regY:d.regY};i&&(v.x=(f.width||f.naturalWidth)-v.x-v.width,m.regX=v.width-d.regX),n&&(v.y=(f.height||f.naturalHeight)-v.y-v.height,m.regY=v.height-d.regY),_.push(m)}var E="_"+(i?"h":"")+(n?"v":""),y=e._animations,x=e._data,P=y.length/t;for(u=0;u<P;u++){var b=y[u];d=x[b];var k={name:b+E,speed:d.speed,next:d.next,frames:[]};d.next&&(k.next+=E),_=d.frames;for(var M=0,D=_.length;M<D;M++)k.frames.push(_[M]+g*t);x[k.name]=k,y.push(k.name)}},createjs.SpriteSheetUtils=o})();(function(){function o(e){this.EventDispatcher_constructor(),this.maxWidth=2048,this.maxHeight=2048,this.spriteSheet=null,this.scale=1,this.padding=1,this.timeSlice=.3,this.progress=-1,this.framerate=e||0,this._frames=[],this._animations={},this._data=null,this._nextFrameIndex=0,this._index=0,this._timerID=null,this._scale=1}var r=createjs.extend(o,createjs.EventDispatcher);o.ERR_DIMENSIONS="frame dimensions exceed max spritesheet dimensions",o.ERR_RUNNING="a build is already running",r.addFrame=function(e,t,i,n,a){if(this._data)throw o.ERR_RUNNING;var h=t||e.bounds||e.nominalBounds;return!h&&e.getBounds&&(h=e.getBounds()),h?(i=i||1,this._frames.push({source:e,sourceRect:h,scale:i,funct:n,data:a,index:this._frames.length,height:h.height*i})-1):null},r.addAnimation=function(e,t,i,n){if(this._data)throw o.ERR_RUNNING;this._animations[e]={frames:t,next:i,speed:n}},r.addMovieClip=function(e,t,i,n,a,h){if(this._data)throw o.ERR_RUNNING;var l=e.frameBounds,c=t||e.bounds||e.nominalBounds;if(!c&&e.getBounds&&(c=e.getBounds()),!(!c&&!l)){var u,d,f=this._frames.length,_=e.timeline.duration;for(u=0;u<_;u++){var g=l&&l[u]?l[u]:c;this.addFrame(e,g,i,this._setupMovieClipFrame,{i:u,f:n,d:a})}var v=e.timeline._labels,m=[];for(var E in v)m.push({index:v[E],label:E});if(m.length)for(m.sort(function(M,D){return M.index-D.index}),u=0,d=m.length;u<d;u++){for(var y=m[u].label,x=f+m[u].index,P=f+(u==d-1?_:m[u+1].index),b=[],k=x;k<P;k++)b.push(k);h&&(y=h(y,e,x,P),!y)||this.addAnimation(y,b,!0)}}},r.build=function(){if(this._data)throw o.ERR_RUNNING;for(this._startBuild();this._drawNext(););return this._endBuild(),this.spriteSheet},r.buildAsync=function(e){if(this._data)throw o.ERR_RUNNING;this.timeSlice=e,this._startBuild();var t=this;this._timerID=setTimeout(function(){t._run()},50-Math.max(.01,Math.min(.99,this.timeSlice||.3))*50)},r.stopAsync=function(){clearTimeout(this._timerID),this._data=null},r.clone=function(){throw"SpriteSheetBuilder cannot be cloned."},r.toString=function(){return"[SpriteSheetBuilder]"},r._startBuild=function(){var e=this.padding||0;this.progress=0,this.spriteSheet=null,this._index=0,this._scale=this.scale;var t=[];this._data={images:[],frames:t,framerate:this.framerate,animations:this._animations};var i=this._frames.slice();if(i.sort(function(u,d){return u.height<=d.height?-1:1}),i[i.length-1].height+e*2>this.maxHeight)throw o.ERR_DIMENSIONS;for(var n=0,a=0,h=0;i.length;){var l=this._fillRow(i,n,h,t,e);if(l.w>a&&(a=l.w),n+=l.h,!l.h||!i.length){var c=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");c.width=this._getSize(a,this.maxWidth),c.height=this._getSize(n,this.maxHeight),this._data.images[h]=c,l.h||(a=n=0,h++)}}},r._setupMovieClipFrame=function(e,t){var i=e.actionsEnabled;e.actionsEnabled=!1,e.gotoAndStop(t.i),e.actionsEnabled=i,t.f&&t.f(e,t.d,t.i)},r._getSize=function(e,t){for(var i=4;Math.pow(2,++i)<e;);return Math.min(t,Math.pow(2,i))},r._fillRow=function(e,t,i,n,a){var h=this.maxWidth,l=this.maxHeight;t+=a;for(var c=l-t,u=a,d=0,f=e.length-1;f>=0;f--){var _=e[f],g=this._scale*_.scale,v=_.sourceRect,m=_.source,E=Math.floor(g*v.x-a),y=Math.floor(g*v.y-a),x=Math.ceil(g*v.height+a*2),P=Math.ceil(g*v.width+a*2);if(P>h)throw o.ERR_DIMENSIONS;x>c||u+P>h||(_.img=i,_.rect=new createjs.Rectangle(u,t,P,x),d=d||x,e.splice(f,1),n[_.index]=[u,t,P,x,i,Math.round(-E+g*m.regX-a),Math.round(-y+g*m.regY-a)],u+=P)}return{w:u,h:d}},r._endBuild=function(){this.spriteSheet=new createjs.SpriteSheet(this._data),this._data=null,this.progress=1,this.dispatchEvent("complete")},r._run=function(){for(var e=Math.max(.01,Math.min(.99,this.timeSlice||.3))*50,t=new Date().getTime()+e,i=!1;t>new Date().getTime();)if(!this._drawNext()){i=!0;break}if(i)this._endBuild();else{var n=this;this._timerID=setTimeout(function(){n._run()},50-e)}var a=this.progress=this._index/this._frames.length;if(this.hasEventListener("progress")){var h=new createjs.Event("progress");h.progress=a,this.dispatchEvent(h)}},r._drawNext=function(){var e=this._frames[this._index],t=e.scale*this._scale,i=e.rect,n=e.sourceRect,a=this._data.images[e.img],h=a.getContext("2d");return e.funct&&e.funct(e.source,e.data),h.save(),h.beginPath(),h.rect(i.x,i.y,i.width,i.height),h.clip(),h.translate(Math.ceil(i.x-n.x*t),Math.ceil(i.y-n.y*t)),h.scale(t,t),e.source.draw(h),h.restore(),++this._index<this._frames.length},createjs.SpriteSheetBuilder=createjs.promote(o,"EventDispatcher")})();(function(){function o(e){this.DisplayObject_constructor(),typeof e=="string"&&(e=document.getElementById(e)),this.mouseEnabled=!1;var t=e.style;t.position="absolute",t.transformOrigin=t.WebkitTransformOrigin=t.msTransformOrigin=t.MozTransformOrigin=t.OTransformOrigin="0% 0%",this.htmlElement=e,this._oldProps=null,this._oldStage=null,this._drawAction=null}var r=createjs.extend(o,createjs.DisplayObject);r.isVisible=function(){return this.htmlElement!=null},r.draw=function(e,t){return!0},r.cache=function(){},r.uncache=function(){},r.updateCache=function(){},r.hitTest=function(){},r.localToGlobal=function(){},r.globalToLocal=function(){},r.localToLocal=function(){},r.clone=function(){throw"DOMElement cannot be cloned."},r.toString=function(){return"[DOMElement (name="+this.name+")]"},r._tick=function(e){var t=this.stage;t&&t!==this._oldStage&&(this._drawAction&&t.off("drawend",this._drawAction),this._drawAction=t.on("drawend",this._handleDrawEnd,this),this._oldStage=t),this.DisplayObject__tick(e)},r._handleDrawEnd=function(e){var t=this.htmlElement;if(!!t){var i=t.style,n=this.getConcatenatedDisplayProps(this._props),a=n.matrix,h=n.visible?"visible":"hidden";if(h!=i.visibility&&(i.visibility=h),!!n.visible){var l=this._oldProps,c=l&&l.matrix,u=1e4;if(!c||!c.equals(a)){var d="matrix("+(a.a*u|0)/u+","+(a.b*u|0)/u+","+(a.c*u|0)/u+","+(a.d*u|0)/u+","+(a.tx+.5|0);i.transform=i.WebkitTransform=i.OTransform=i.msTransform=d+","+(a.ty+.5|0)+")",i.MozTransform=d+"px,"+(a.ty+.5|0)+"px)",l||(l=this._oldProps=new createjs.DisplayProps(!0,null)),l.matrix.copy(a)}l.alpha!=n.alpha&&(i.opacity=""+(n.alpha*u|0)/u,l.alpha=n.alpha)}}},createjs.DOMElement=createjs.promote(o,"DisplayObject")})();(function(){function o(){this.usesContext=!1,this._multiPass=null,this.VTX_SHADER_BODY=null,this.FRAG_SHADER_BODY=null}var r=o.prototype;r.getBounds=function(e){return e},r.shaderParamSetup=function(e,t,i){},r.applyFilter=function(e,t,i,n,a,h,l,c){h=h||e,l==null&&(l=t),c==null&&(c=i);try{var u=e.getImageData(t,i,n,a)}catch{return!1}return this._applyFilter(u)?(h.putImageData(u,l,c),!0):!1},r.toString=function(){return"[Filter]"},r.clone=function(){return new o},r._applyFilter=function(e){return!0},createjs.Filter=o})();(function(){function o(){this.width=void 0,this.height=void 0,this.x=void 0,this.y=void 0,this.scale=1,this.offX=0,this.offY=0,this.cacheID=0,this._filterOffX=0,this._filterOffY=0,this._cacheDataURLID=0,this._cacheDataURL=null,this._drawWidth=0,this._drawHeight=0}var r=o.prototype;o.getFilterBounds=function(e,t){t||(t=new createjs.Rectangle);var i=e.filters,n=i&&i.length;if(!!n<=0)return t;for(var a=0;a<n;a++){var h=i[a];if(!(!h||!h.getBounds)){var l=h.getBounds();!l||(a==0?t.setValues(l.x,l.y,l.width,l.height):t.extend(l.x,l.y,l.width,l.height))}}return t},r.toString=function(){return"[BitmapCache]"},r.define=function(e,t,i,n,a,h,l){if(!e)throw"No symbol to cache";this._options=l,this.target=e,this.width=n>=1?n:1,this.height=a>=1?a:1,this.x=t||0,this.y=i||0,this.scale=h||1,this.update()},r.update=function(e){if(!this.target)throw"define() must be called before update()";var t=o.getFilterBounds(this.target),i=this.target.cacheCanvas;this._drawWidth=Math.ceil(this.width*this.scale)+t.width,this._drawHeight=Math.ceil(this.height*this.scale)+t.height,(!i||this._drawWidth!=i.width||this._drawHeight!=i.height)&&this._updateSurface(),this._filterOffX=t.x,this._filterOffY=t.y,this.offX=this.x*this.scale+this._filterOffX,this.offY=this.y*this.scale+this._filterOffY,this._drawToCache(e),this.cacheID=this.cacheID?this.cacheID+1:1},r.release=function(){if(this._webGLCache)this._webGLCache.isCacheControlled||(this.__lastRT&&(this.__lastRT=void 0),this.__rtA&&this._webGLCache._killTextureObject(this.__rtA),this.__rtB&&this._webGLCache._killTextureObject(this.__rtB),this.target&&this.target.cacheCanvas&&this._webGLCache._killTextureObject(this.target.cacheCanvas)),this._webGLCache=!1;else{var e=this.target.stage;e instanceof createjs.StageGL&&e.releaseTexture(this.target.cacheCanvas)}this.target=this.target.cacheCanvas=null,this.cacheID=this._cacheDataURLID=this._cacheDataURL=void 0,this.width=this.height=this.x=this.y=this.offX=this.offY=0,this.scale=1},r.getCacheDataURL=function(){var e=this.target&&this.target.cacheCanvas;return e?(this.cacheID!=this._cacheDataURLID&&(this._cacheDataURLID=this.cacheID,this._cacheDataURL=e.toDataURL?e.toDataURL():null),this._cacheDataURL):null},r.draw=function(e){return this.target?(e.drawImage(this.target.cacheCanvas,this.x+this._filterOffX/this.scale,this.y+this._filterOffY/this.scale,this._drawWidth/this.scale,this._drawHeight/this.scale),!0):!1},r._updateSurface=function(){if(!this._options||!this._options.useGL){var t=this.target.cacheCanvas;t||(t=this.target.cacheCanvas=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas")),t.width=this._drawWidth,t.height=this._drawHeight;return}if(!this._webGLCache)if(this._options.useGL==="stage"){if(!(this.target.stage&&this.target.stage.isWebGL)){var e="Cannot use 'stage' for cache because the object's parent stage is ";throw e+=this.target.stage?"non WebGL.":"not set, please addChild to the correct stage.",e}this.target.cacheCanvas=!0,this._webGLCache=this.target.stage}else if(this._options.useGL==="new")this.target.cacheCanvas=document.createElement("canvas"),this._webGLCache=new createjs.StageGL(this.target.cacheCanvas,{antialias:!0,transparent:!0,autoPurge:-1}),this._webGLCache.isCacheControlled=!0;else if(this._options.useGL instanceof createjs.StageGL)this.target.cacheCanvas=!0,this._webGLCache=this._options.useGL,this._webGLCache.isCacheControlled=!0;else throw"Invalid option provided to useGL, expected ['stage', 'new', StageGL, undefined], got "+this._options.useGL;var t=this.target.cacheCanvas,i=this._webGLCache;i.isCacheControlled&&(t.width=this._drawWidth,t.height=this._drawHeight,i.updateViewport(this._drawWidth,this._drawHeight)),this.target.filters?(i.getTargetRenderTexture(this.target,this._drawWidth,this._drawHeight),i.getTargetRenderTexture(this.target,this._drawWidth,this._drawHeight)):i.isCacheControlled||i.getTargetRenderTexture(this.target,this._drawWidth,this._drawHeight)},r._drawToCache=function(e){var t=this.target.cacheCanvas,i=this.target,n=this._webGLCache;if(n)n.cacheDraw(i,i.filters,this),t=this.target.cacheCanvas,t.width=this._drawWidth,t.height=this._drawHeight;else{var a=t.getContext("2d");e||a.clearRect(0,0,this._drawWidth+1,this._drawHeight+1),a.save(),a.globalCompositeOperation=e,a.setTransform(this.scale,0,0,this.scale,-this._filterOffX,-this._filterOffY),a.translate(-this.x,-this.y),i.draw(a,!0),a.restore(),i.filters&&i.filters.length&&this._applyFilters(a)}t._invalid=!0},r._applyFilters=function(e){var t=this.target.filters,i=this._drawWidth,n=this._drawHeight,a,h=0,l=t[h];do l.usesContext?(a&&(e.putImageData(a,0,0),a=null),l.applyFilter(e,0,0,i,n)):(a||(a=e.getImageData(0,0,i,n)),l._applyFilter(a)),l=l._multiPass!==null?l._multiPass:t[++h];while(l);a&&e.putImageData(a,0,0)},createjs.BitmapCache=o})();(function(){function o(e,t,i){this.Filter_constructor(),this._blurX=e,this._blurXTable=[],this._lastBlurX=null,this._blurY=t,this._blurYTable=[],this._lastBlurY=null,this._quality,this._lastQuality=null,this.FRAG_SHADER_TEMPLATE="uniform float xWeight[{{blurX}}];uniform float yWeight[{{blurY}}];uniform vec2 textureOffset;void main(void) {vec4 color = vec4(0.0);float xAdj = ({{blurX}}.0-1.0)/2.0;float yAdj = ({{blurY}}.0-1.0)/2.0;vec2 sampleOffset;for(int i=0; i<{{blurX}}; i++) {for(int j=0; j<{{blurY}}; j++) {sampleOffset = vRenderCoord + (textureOffset * vec2(float(i)-xAdj, float(j)-yAdj));color += texture2D(uSampler, sampleOffset) * (xWeight[i] * yWeight[j]);}}gl_FragColor = color.rgba;}",(isNaN(i)||i<1)&&(i=1),this.setQuality(i|0)}var r=createjs.extend(o,createjs.Filter);r.getBlurX=function(){return this._blurX},r.getBlurY=function(){return this._blurY},r.setBlurX=function(e){(isNaN(e)||e<0)&&(e=0),this._blurX=e},r.setBlurY=function(e){(isNaN(e)||e<0)&&(e=0),this._blurY=e},r.getQuality=function(){return this._quality},r.setQuality=function(e){(isNaN(e)||e<0)&&(e=0),this._quality=e|0},r._getShader=function(){var e=this._lastBlurX!==this._blurX,t=this._lastBlurY!==this._blurY,i=this._lastQuality!==this._quality;if(e||t||i){(e||i)&&(this._blurXTable=this._getTable(this._blurX*this._quality)),(t||i)&&(this._blurYTable=this._getTable(this._blurY*this._quality)),this._updateShader(),this._lastBlurX=this._blurX,this._lastBlurY=this._blurY,this._lastQuality=this._quality;return}return this._compiledShader},r._setShader=function(){this._compiledShader};try{Object.defineProperties(r,{blurX:{get:r.getBlurX,set:r.setBlurX},blurY:{get:r.getBlurY,set:r.setBlurY},quality:{get:r.getQuality,set:r.setQuality},_builtShader:{get:r._getShader,set:r._setShader}})}catch(e){console.log(e)}r._getTable=function(e){var t=4.2;if(e<=1)return[1];var i=[],n=Math.ceil(e*2);n+=n%2?0:1;for(var a=n/2|0,h=-a;h<=a;h++){var l=h/a*t;i.push(1/Math.sqrt(2*Math.PI)*Math.pow(Math.E,-(Math.pow(l,2)/4)))}var c=i.reduce(function(u,d){return u+d});return i.map(function(u,d,f){return u/c})},r._updateShader=function(){if(!(this._blurX===void 0||this._blurY===void 0)){var e=this.FRAG_SHADER_TEMPLATE;e=e.replace(/\{\{blurX\}\}/g,this._blurXTable.length.toFixed(0)),e=e.replace(/\{\{blurY\}\}/g,this._blurYTable.length.toFixed(0)),this.FRAG_SHADER_BODY=e}},r.shaderParamSetup=function(e,t,i){e.uniform1fv(e.getUniformLocation(i,"xWeight"),this._blurXTable),e.uniform1fv(e.getUniformLocation(i,"yWeight"),this._blurYTable),e.uniform2f(e.getUniformLocation(i,"textureOffset"),2/(t._viewportWidth*this._quality),2/(t._viewportHeight*this._quality))},o.MUL_TABLE=[1,171,205,293,57,373,79,137,241,27,391,357,41,19,283,265,497,469,443,421,25,191,365,349,335,161,155,149,9,278,269,261,505,245,475,231,449,437,213,415,405,395,193,377,369,361,353,345,169,331,325,319,313,307,301,37,145,285,281,69,271,267,263,259,509,501,493,243,479,118,465,459,113,446,55,435,429,423,209,413,51,403,199,393,97,3,379,375,371,367,363,359,355,351,347,43,85,337,333,165,327,323,5,317,157,311,77,305,303,75,297,294,73,289,287,71,141,279,277,275,68,135,67,133,33,262,260,129,511,507,503,499,495,491,61,121,481,477,237,235,467,232,115,457,227,451,7,445,221,439,218,433,215,427,425,211,419,417,207,411,409,203,202,401,399,396,197,49,389,387,385,383,95,189,47,187,93,185,23,183,91,181,45,179,89,177,11,175,87,173,345,343,341,339,337,21,167,83,331,329,327,163,81,323,321,319,159,79,315,313,39,155,309,307,153,305,303,151,75,299,149,37,295,147,73,291,145,289,287,143,285,71,141,281,35,279,139,69,275,137,273,17,271,135,269,267,133,265,33,263,131,261,130,259,129,257,1],o.SHG_TABLE=[0,9,10,11,9,12,10,11,12,9,13,13,10,9,13,13,14,14,14,14,10,13,14,14,14,13,13,13,9,14,14,14,15,14,15,14,15,15,14,15,15,15,14,15,15,15,15,15,14,15,15,15,15,15,15,12,14,15,15,13,15,15,15,15,16,16,16,15,16,14,16,16,14,16,13,16,16,16,15,16,13,16,15,16,14,9,16,16,16,16,16,16,16,16,16,13,14,16,16,15,16,16,10,16,15,16,14,16,16,14,16,16,14,16,16,14,15,16,16,16,14,15,14,15,13,16,16,15,17,17,17,17,17,17,14,15,17,17,16,16,17,16,15,17,16,17,11,17,16,17,16,17,16,17,17,16,17,17,16,17,17,16,16,17,17,17,16,14,17,17,17,17,15,16,14,16,15,16,13,16,15,16,14,16,15,16,12,16,15,16,17,17,17,17,17,13,16,15,17,17,17,16,15,17,17,17,16,15,17,17,14,16,17,17,16,17,17,16,15,17,16,14,17,16,15,17,16,17,17,16,17,15,16,17,14,17,16,15,17,16,17,13,17,16,17,17,16,17,14,17,16,17,16,17,16,17,9],r.getBounds=function(e){var t=this.blurX|0,i=this.blurY|0;if(t<=0&&i<=0)return e;var n=Math.pow(this.quality,.2);return(e||new createjs.Rectangle).pad(i*n+1,t*n+1,i*n+1,t*n+1)},r.clone=function(){return new o(this.blurX,this.blurY,this.quality)},r.toString=function(){return"[BlurFilter]"},r._applyFilter=function(e){var t=this._blurX>>1;if(isNaN(t)||t<0)return!1;var i=this._blurY>>1;if(isNaN(i)||i<0||t==0&&i==0)return!1;var n=this.quality;(isNaN(n)||n<1)&&(n=1),n|=0,n>3&&(n=3),n<1&&(n=1);var a=e.data,h=0,l=0,c=0,u=0,d=0,f=0,_=0,g=0,v=0,m=0,E=0,y=0,x=0,P=0,b=0,k=t+t+1|0,M=i+i+1|0,D=e.width|0,F=e.height|0,G=D-1|0,$=F-1|0,H=t+1|0,j=i+1|0,Y={r:0,b:0,g:0,a:0},X=Y;for(c=1;c<k;c++)X=X.n={r:0,b:0,g:0,a:0};X.n=Y;var te={r:0,b:0,g:0,a:0},Q=te;for(c=1;c<M;c++)Q=Q.n={r:0,b:0,g:0,a:0};Q.n=te;for(var B=null,ae=o.MUL_TABLE[t]|0,ee=o.SHG_TABLE[t]|0,oe=o.MUL_TABLE[i]|0,he=o.SHG_TABLE[i]|0;n-- >0;){_=f=0;var V=ae,J=ee;for(l=F;--l>-1;){for(g=H*(y=a[f|0]),v=H*(x=a[f+1|0]),m=H*(P=a[f+2|0]),E=H*(b=a[f+3|0]),X=Y,c=H;--c>-1;)X.r=y,X.g=x,X.b=P,X.a=b,X=X.n;for(c=1;c<H;c++)u=f+((G<c?G:c)<<2)|0,g+=X.r=a[u],v+=X.g=a[u+1],m+=X.b=a[u+2],E+=X.a=a[u+3],X=X.n;for(B=Y,h=0;h<D;h++)a[f++]=g*V>>>J,a[f++]=v*V>>>J,a[f++]=m*V>>>J,a[f++]=E*V>>>J,u=_+((u=h+t+1)<G?u:G)<<2,g-=B.r-(B.r=a[u]),v-=B.g-(B.g=a[u+1]),m-=B.b-(B.b=a[u+2]),E-=B.a-(B.a=a[u+3]),B=B.n;_+=D}for(V=oe,J=he,h=0;h<D;h++){for(f=h<<2|0,g=j*(y=a[f])|0,v=j*(x=a[f+1|0])|0,m=j*(P=a[f+2|0])|0,E=j*(b=a[f+3|0])|0,Q=te,c=0;c<j;c++)Q.r=y,Q.g=x,Q.b=P,Q.a=b,Q=Q.n;for(d=D,c=1;c<=i;c++)f=d+h<<2,g+=Q.r=a[f],v+=Q.g=a[f+1],m+=Q.b=a[f+2],E+=Q.a=a[f+3],Q=Q.n,c<$&&(d+=D);if(f=h,B=te,n>0)for(l=0;l<F;l++)u=f<<2,a[u+3]=b=E*V>>>J,b>0?(a[u]=g*V>>>J,a[u+1]=v*V>>>J,a[u+2]=m*V>>>J):a[u]=a[u+1]=a[u+2]=0,u=h+((u=l+j)<$?u:$)*D<<2,g-=B.r-(B.r=a[u]),v-=B.g-(B.g=a[u+1]),m-=B.b-(B.b=a[u+2]),E-=B.a-(B.a=a[u+3]),B=B.n,f+=D;else for(l=0;l<F;l++)u=f<<2,a[u+3]=b=E*V>>>J,b>0?(b=255/b,a[u]=(g*V>>>J)*b,a[u+1]=(v*V>>>J)*b,a[u+2]=(m*V>>>J)*b):a[u]=a[u+1]=a[u+2]=0,u=h+((u=l+j)<$?u:$)*D<<2,g-=B.r-(B.r=a[u]),v-=B.g-(B.g=a[u+1]),m-=B.b-(B.b=a[u+2]),E-=B.a-(B.a=a[u+3]),B=B.n,f+=D}}return!0},createjs.BlurFilter=createjs.promote(o,"Filter")})();(function(){function o(e){this.Filter_constructor(),this.alphaMap=e,this._alphaMap=null,this._mapData=null,this._mapTexture=null,this.FRAG_SHADER_BODY="uniform sampler2D uAlphaSampler;void main(void) {vec4 color = texture2D(uSampler, vRenderCoord);vec4 alphaMap = texture2D(uAlphaSampler, vTextureCoord);gl_FragColor = vec4(color.rgb, color.a * (alphaMap.r * ceil(alphaMap.a)));}"}var r=createjs.extend(o,createjs.Filter);r.shaderParamSetup=function(e,t,i){this._mapTexture||(this._mapTexture=e.createTexture()),e.activeTexture(e.TEXTURE1),e.bindTexture(e.TEXTURE_2D,this._mapTexture),t.setTextureParams(e),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,this.alphaMap),e.uniform1i(e.getUniformLocation(i,"uAlphaSampler"),1)},r.clone=function(){var e=new o(this.alphaMap);return e._alphaMap=this._alphaMap,e._mapData=this._mapData,e},r.toString=function(){return"[AlphaMapFilter]"},r._applyFilter=function(e){if(!this.alphaMap)return!0;if(!this._prepAlphaMap())return!1;for(var t=e.data,i=this._mapData,n=0,a=t.length;n<a;n+=4)t[n+3]=i[n]||0;return!0},r._prepAlphaMap=function(){if(!this.alphaMap)return!1;if(this.alphaMap==this._alphaMap&&this._mapData)return!0;this._mapData=null;var e=this._alphaMap=this.alphaMap,t=e,i;e instanceof HTMLCanvasElement?i=t.getContext("2d"):(t=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas"),t.width=e.width,t.height=e.height,i=t.getContext("2d"),i.drawImage(e,0,0));try{var n=i.getImageData(0,0,e.width,e.height)}catch{return!1}return this._mapData=n.data,!0},createjs.AlphaMapFilter=createjs.promote(o,"Filter")})();(function(){function o(e){this.Filter_constructor(),this.mask=e,this.usesContext=!0,this.FRAG_SHADER_BODY="uniform sampler2D uAlphaSampler;void main(void) {vec4 color = texture2D(uSampler, vRenderCoord);vec4 alphaMap = texture2D(uAlphaSampler, vTextureCoord);gl_FragColor = vec4(color.rgb, color.a * alphaMap.a);}"}var r=createjs.extend(o,createjs.Filter);r.shaderParamSetup=function(e,t,i){this._mapTexture||(this._mapTexture=e.createTexture()),e.activeTexture(e.TEXTURE1),e.bindTexture(e.TEXTURE_2D,this._mapTexture),t.setTextureParams(e),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,this.mask),e.uniform1i(e.getUniformLocation(i,"uAlphaSampler"),1)},r.applyFilter=function(e,t,i,n,a,h,l,c){return this.mask?(h=h||e,l==null&&(l=t),c==null&&(c=i),h.save(),e!=h?!1:(h.globalCompositeOperation="destination-in",h.drawImage(this.mask,l,c),h.restore(),!0)):!0},r.clone=function(){return new o(this.mask)},r.toString=function(){return"[AlphaMaskFilter]"},createjs.AlphaMaskFilter=createjs.promote(o,"Filter")})();(function(){function o(e,t,i,n,a,h,l,c){this.Filter_constructor(),this.redMultiplier=e!=null?e:1,this.greenMultiplier=t!=null?t:1,this.blueMultiplier=i!=null?i:1,this.alphaMultiplier=n!=null?n:1,this.redOffset=a||0,this.greenOffset=h||0,this.blueOffset=l||0,this.alphaOffset=c||0,this.FRAG_SHADER_BODY="uniform vec4 uColorMultiplier;uniform vec4 uColorOffset;void main(void) {vec4 color = texture2D(uSampler, vRenderCoord);gl_FragColor = (color * uColorMultiplier) + uColorOffset;}"}var r=createjs.extend(o,createjs.Filter);r.shaderParamSetup=function(e,t,i){e.uniform4f(e.getUniformLocation(i,"uColorMultiplier"),this.redMultiplier,this.greenMultiplier,this.blueMultiplier,this.alphaMultiplier),e.uniform4f(e.getUniformLocation(i,"uColorOffset"),this.redOffset/255,this.greenOffset/255,this.blueOffset/255,this.alphaOffset/255)},r.toString=function(){return"[ColorFilter]"},r.clone=function(){return new o(this.redMultiplier,this.greenMultiplier,this.blueMultiplier,this.alphaMultiplier,this.redOffset,this.greenOffset,this.blueOffset,this.alphaOffset)},r._applyFilter=function(e){for(var t=e.data,i=t.length,n=0;n<i;n+=4)t[n]=t[n]*this.redMultiplier+this.redOffset,t[n+1]=t[n+1]*this.greenMultiplier+this.greenOffset,t[n+2]=t[n+2]*this.blueMultiplier+this.blueOffset,t[n+3]=t[n+3]*this.alphaMultiplier+this.alphaOffset;return!0},createjs.ColorFilter=createjs.promote(o,"Filter")})();(function(){function o(e,t,i,n){this.setColor(e,t,i,n)}var r=o.prototype;o.DELTA_INDEX=[0,.01,.02,.04,.05,.06,.07,.08,.1,.11,.12,.14,.15,.16,.17,.18,.2,.21,.22,.24,.25,.27,.28,.3,.32,.34,.36,.38,.4,.42,.44,.46,.48,.5,.53,.56,.59,.62,.65,.68,.71,.74,.77,.8,.83,.86,.89,.92,.95,.98,1,1.06,1.12,1.18,1.24,1.3,1.36,1.42,1.48,1.54,1.6,1.66,1.72,1.78,1.84,1.9,1.96,2,2.12,2.25,2.37,2.5,2.62,2.75,2.87,3,3.2,3.4,3.6,3.8,4,4.3,4.7,4.9,5,5.5,6,6.5,6.8,7,7.3,7.5,7.8,8,8.4,8.7,9,9.4,9.6,9.8,10],o.IDENTITY_MATRIX=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1],o.LENGTH=o.IDENTITY_MATRIX.length,r.setColor=function(e,t,i,n){return this.reset().adjustColor(e,t,i,n)},r.reset=function(){return this.copy(o.IDENTITY_MATRIX)},r.adjustColor=function(e,t,i,n){return this.adjustHue(n),this.adjustContrast(t),this.adjustBrightness(e),this.adjustSaturation(i)},r.adjustBrightness=function(e){return e==0||isNaN(e)?this:(e=this._cleanValue(e,255),this._multiplyMatrix([1,0,0,0,e,0,1,0,0,e,0,0,1,0,e,0,0,0,1,0,0,0,0,0,1]),this)},r.adjustContrast=function(e){if(e==0||isNaN(e))return this;e=this._cleanValue(e,100);var t;return e<0?t=127+e/100*127:(t=e%1,t==0?t=o.DELTA_INDEX[e]:t=o.DELTA_INDEX[e<<0]*(1-t)+o.DELTA_INDEX[(e<<0)+1]*t,t=t*127+127),this._multiplyMatrix([t/127,0,0,0,.5*(127-t),0,t/127,0,0,.5*(127-t),0,0,t/127,0,.5*(127-t),0,0,0,1,0,0,0,0,0,1]),this},r.adjustSaturation=function(e){if(e==0||isNaN(e))return this;e=this._cleanValue(e,100);var t=1+(e>0?3*e/100:e/100),i=.3086,n=.6094,a=.082;return this._multiplyMatrix([i*(1-t)+t,n*(1-t),a*(1-t),0,0,i*(1-t),n*(1-t)+t,a*(1-t),0,0,i*(1-t),n*(1-t),a*(1-t)+t,0,0,0,0,0,1,0,0,0,0,0,1]),this},r.adjustHue=function(e){if(e==0||isNaN(e))return this;e=this._cleanValue(e,180)/180*Math.PI;var t=Math.cos(e),i=Math.sin(e),n=.213,a=.715,h=.072;return this._multiplyMatrix([n+t*(1-n)+i*-n,a+t*-a+i*-a,h+t*-h+i*(1-h),0,0,n+t*-n+i*.143,a+t*(1-a)+i*.14,h+t*-h+i*-.283,0,0,n+t*-n+i*-(1-n),a+t*-a+i*a,h+t*(1-h)+i*h,0,0,0,0,0,1,0,0,0,0,0,1]),this},r.concat=function(e){return e=this._fixMatrix(e),e.length!=o.LENGTH?this:(this._multiplyMatrix(e),this)},r.clone=function(){return new o().copy(this)},r.toArray=function(){for(var e=[],t=0,i=o.LENGTH;t<i;t++)e[t]=this[t];return e},r.copy=function(e){for(var t=o.LENGTH,i=0;i<t;i++)this[i]=e[i];return this},r.toString=function(){return"[ColorMatrix]"},r._multiplyMatrix=function(e){var t,i,n,a=[];for(t=0;t<5;t++){for(i=0;i<5;i++)a[i]=this[i+t*5];for(i=0;i<5;i++){var h=0;for(n=0;n<5;n++)h+=e[i+n*5]*a[n];this[i+t*5]=h}}},r._cleanValue=function(e,t){return Math.min(t,Math.max(-t,e))},r._fixMatrix=function(e){return e instanceof o&&(e=e.toArray()),e.length<o.LENGTH?e=e.slice(0,e.length).concat(o.IDENTITY_MATRIX.slice(e.length,o.LENGTH)):e.length>o.LENGTH&&(e=e.slice(0,o.LENGTH)),e},createjs.ColorMatrix=o})();(function(){function o(e){this.Filter_constructor(),this.matrix=e,this.FRAG_SHADER_BODY="uniform mat4 uColorMatrix;uniform vec4 uColorMatrixOffset;void main(void) {vec4 color = texture2D(uSampler, vRenderCoord);mat4 m = uColorMatrix;vec4 newColor = vec4(0,0,0,0);newColor.r = color.r*m[0][0] + color.g*m[0][1] + color.b*m[0][2] + color.a*m[0][3];newColor.g = color.r*m[1][0] + color.g*m[1][1] + color.b*m[1][2] + color.a*m[1][3];newColor.b = color.r*m[2][0] + color.g*m[2][1] + color.b*m[2][2] + color.a*m[2][3];newColor.a = color.r*m[3][0] + color.g*m[3][1] + color.b*m[3][2] + color.a*m[3][3];gl_FragColor = newColor + uColorMatrixOffset;}"}var r=createjs.extend(o,createjs.Filter);r.shaderParamSetup=function(e,t,i){var n=this.matrix,a=new Float32Array([n[0],n[1],n[2],n[3],n[5],n[6],n[7],n[8],n[10],n[11],n[12],n[13],n[15],n[16],n[17],n[18]]);e.uniformMatrix4fv(e.getUniformLocation(i,"uColorMatrix"),!1,a),e.uniform4f(e.getUniformLocation(i,"uColorMatrixOffset"),n[4]/255,n[9]/255,n[14]/255,n[19]/255)},r.toString=function(){return"[ColorMatrixFilter]"},r.clone=function(){return new o(this.matrix)},r._applyFilter=function(e){for(var t=e.data,i=t.length,n,a,h,l,c=this.matrix,u=c[0],d=c[1],f=c[2],_=c[3],g=c[4],v=c[5],m=c[6],E=c[7],y=c[8],x=c[9],P=c[10],b=c[11],k=c[12],M=c[13],D=c[14],F=c[15],G=c[16],$=c[17],H=c[18],j=c[19],Y=0;Y<i;Y+=4)n=t[Y],a=t[Y+1],h=t[Y+2],l=t[Y+3],t[Y]=n*u+a*d+h*f+l*_+g,t[Y+1]=n*v+a*m+h*E+l*y+x,t[Y+2]=n*P+a*b+h*k+l*M+D,t[Y+3]=n*F+a*G+h*$+l*H+j;return!0},createjs.ColorMatrixFilter=createjs.promote(o,"Filter")})();(function(){function o(){throw"Touch cannot be instantiated"}o.isSupported=function(){return!!("ontouchstart"in window||window.navigator.msPointerEnabled&&window.navigator.msMaxTouchPoints>0||window.navigator.pointerEnabled&&window.navigator.maxTouchPoints>0)},o.enable=function(r,e,t){return!r||!r.canvas||!o.isSupported()?!1:(r.__touch||(r.__touch={pointers:{},multitouch:!e,preventDefault:!t,count:0},"ontouchstart"in window?o._IOS_enable(r):(window.navigator.msPointerEnabled||window.navigator.pointerEnabled)&&o._IE_enable(r)),!0)},o.disable=function(r){!r||("ontouchstart"in window?o._IOS_disable(r):(window.navigator.msPointerEnabled||window.navigator.pointerEnabled)&&o._IE_disable(r),delete r.__touch)},o._IOS_enable=function(r){var e=r.canvas,t=r.__touch.f=function(i){o._IOS_handleEvent(r,i)};e.addEventListener("touchstart",t,!1),e.addEventListener("touchmove",t,!1),e.addEventListener("touchend",t,!1),e.addEventListener("touchcancel",t,!1)},o._IOS_disable=function(r){var e=r.canvas;if(!!e){var t=r.__touch.f;e.removeEventListener("touchstart",t,!1),e.removeEventListener("touchmove",t,!1),e.removeEventListener("touchend",t,!1),e.removeEventListener("touchcancel",t,!1)}},o._IOS_handleEvent=function(r,e){if(!!r){r.__touch.preventDefault&&e.preventDefault&&e.preventDefault();for(var t=e.changedTouches,i=e.type,n=0,a=t.length;n<a;n++){var h=t[n],l=h.identifier;h.target==r.canvas&&(i=="touchstart"?this._handleStart(r,l,e,h.pageX,h.pageY):i=="touchmove"?this._handleMove(r,l,e,h.pageX,h.pageY):(i=="touchend"||i=="touchcancel")&&this._handleEnd(r,l,e))}}},o._IE_enable=function(r){var e=r.canvas,t=r.__touch.f=function(i){o._IE_handleEvent(r,i)};window.navigator.pointerEnabled===void 0?(e.addEventListener("MSPointerDown",t,!1),window.addEventListener("MSPointerMove",t,!1),window.addEventListener("MSPointerUp",t,!1),window.addEventListener("MSPointerCancel",t,!1),r.__touch.preventDefault&&(e.style.msTouchAction="none")):(e.addEventListener("pointerdown",t,!1),window.addEventListener("pointermove",t,!1),window.addEventListener("pointerup",t,!1),window.addEventListener("pointercancel",t,!1),r.__touch.preventDefault&&(e.style.touchAction="none")),r.__touch.activeIDs={}},o._IE_disable=function(r){var e=r.__touch.f;window.navigator.pointerEnabled===void 0?(window.removeEventListener("MSPointerMove",e,!1),window.removeEventListener("MSPointerUp",e,!1),window.removeEventListener("MSPointerCancel",e,!1),r.canvas&&r.canvas.removeEventListener("MSPointerDown",e,!1)):(window.removeEventListener("pointermove",e,!1),window.removeEventListener("pointerup",e,!1),window.removeEventListener("pointercancel",e,!1),r.canvas&&r.canvas.removeEventListener("pointerdown",e,!1))},o._IE_handleEvent=function(r,e){if(!!r){r.__touch.preventDefault&&e.preventDefault&&e.preventDefault();var t=e.type,i=e.pointerId,n=r.__touch.activeIDs;if(t=="MSPointerDown"||t=="pointerdown"){if(e.srcElement!=r.canvas)return;n[i]=!0,this._handleStart(r,i,e,e.pageX,e.pageY)}else n[i]&&(t=="MSPointerMove"||t=="pointermove"?this._handleMove(r,i,e,e.pageX,e.pageY):(t=="MSPointerUp"||t=="MSPointerCancel"||t=="pointerup"||t=="pointercancel")&&(delete n[i],this._handleEnd(r,i,e)))}},o._handleStart=function(r,e,t,i,n){var a=r.__touch;if(!(!a.multitouch&&a.count)){var h=a.pointers;h[e]||(h[e]=!0,a.count++,r._handlePointerDown(e,t,i,n))}},o._handleMove=function(r,e,t,i,n){!r.__touch.pointers[e]||r._handlePointerMove(e,t,i,n)},o._handleEnd=function(r,e,t){var i=r.__touch,n=i.pointers;!n[e]||(i.count--,r._handlePointerUp(e,t,!0),delete n[e])},createjs.Touch=o})();(function(){var o=createjs.EaselJS=createjs.EaselJS||{};o.version="NEXT",o.buildDate="Thu, 14 Sep 2017 22:19:48 GMT"})();(function(){var o=createjs.PreloadJS=createjs.PreloadJS||{};o.version="NEXT",o.buildDate="Thu, 14 Sep 2017 22:19:45 GMT"})();(function(){createjs.proxy=function(o,r){var e=Array.prototype.slice.call(arguments,2);return function(){return o.apply(r,Array.prototype.slice.call(arguments,0).concat(e))}}})();(function(){function o(e,t,i){this.Event_constructor("error"),this.title=e,this.message=t,this.data=i}var r=createjs.extend(o,createjs.Event);r.clone=function(){return new createjs.ErrorEvent(this.title,this.message,this.data)},createjs.ErrorEvent=createjs.promote(o,"Event")})();(function(o){function r(t,i){this.Event_constructor("progress"),this.loaded=t,this.total=i==null?1:i,this.progress=i==0?0:this.loaded/this.total}var e=createjs.extend(r,createjs.Event);e.clone=function(){return new createjs.ProgressEvent(this.loaded,this.total)},createjs.ProgressEvent=createjs.promote(r,"Event")})();(function(){var o=typeof define=="function"&&define.amd,r={function:!0,object:!0},e=r[typeof exports]&&exports&&!exports.nodeType&&exports,t=r[typeof window]&&window||this,i=e&&r[typeof module]&&module&&!module.nodeType&&typeof global=="object"&&global;i&&(i.global===i||i.window===i||i.self===i)&&(t=i);function n(u,d){u||(u=t.Object()),d||(d=t.Object());var f=u.Number||t.Number,_=u.String||t.String,g=u.Object||t.Object,v=u.Date||t.Date,m=u.SyntaxError||t.SyntaxError,E=u.TypeError||t.TypeError,y=u.Math||t.Math,x=u.JSON||t.JSON;typeof x=="object"&&x&&(d.stringify=x.stringify,d.parse=x.parse);var P=g.prototype,b=P.toString,k,M,D,F=new v(-0xc782b5b800cec);try{F=F.getUTCFullYear()==-109252&&F.getUTCMonth()===0&&F.getUTCDate()===1&&F.getUTCHours()==10&&F.getUTCMinutes()==37&&F.getUTCSeconds()==6&&F.getUTCMilliseconds()==708}catch{}function G(A){if(G[A]!==D)return G[A];var L;if(A=="bug-string-char-index")L="a"[0]!="a";else if(A=="json")L=G("json-stringify")&&G("json-parse");else{var w,I='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if(A=="json-stringify"){var S=d.stringify,O=typeof S=="function"&&F;if(O){(w=function(){return 1}).toJSON=w;try{O=S(0)==="0"&&S(new f)==="0"&&S(new _)=='""'&&S(b)===D&&S(D)===D&&S()===D&&S(w)==="1"&&S([w])=="[1]"&&S([D])=="[null]"&&S(null)=="null"&&S([D,b,null])=="[null,null,null]"&&S({a:[w,!0,!1,null,`\0\b
\f\r	`]})==I&&S(null,w)==="1"&&S([1,2],null,1)==`[
 1,
 2
]`&&S(new v(-864e13))=='"-271821-04-20T00:00:00.000Z"'&&S(new v(864e13))=='"+275760-09-13T00:00:00.000Z"'&&S(new v(-621987552e5))=='"-000001-01-01T00:00:00.000Z"'&&S(new v(-1))=='"1969-12-31T23:59:59.999Z"'}catch{O=!1}}L=O}if(A=="json-parse"){var T=d.parse;if(typeof T=="function")try{if(T("0")===0&&!T(!1)){w=T(I);var C=w.a.length==5&&w.a[0]===1;if(C){try{C=!T('"	"')}catch{}if(C)try{C=T("01")!==1}catch{}if(C)try{C=T("1.")!==1}catch{}}}}catch{C=!1}L=C}}return G[A]=!!L}if(!G("json")){var $="[object Function]",H="[object Date]",j="[object Number]",Y="[object String]",X="[object Array]",te="[object Boolean]",Q=G("bug-string-char-index");if(!F)var B=y.floor,ae=[0,31,59,90,120,151,181,212,243,273,304,334],ee=function(A,L){return ae[L]+365*(A-1970)+B((A-1969+(L=+(L>1)))/4)-B((A-1901+L)/100)+B((A-1601+L)/400)};if((k=P.hasOwnProperty)||(k=function(A){var L={},w;return(L.__proto__=null,L.__proto__={toString:1},L).toString!=b?k=function(I){var S=this.__proto__,O=I in(this.__proto__=null,this);return this.__proto__=S,O}:(w=L.constructor,k=function(I){var S=(this.constructor||w).prototype;return I in this&&!(I in S&&this[I]===S[I])}),L=null,k.call(this,A)}),M=function(A,L){var w=0,I,S,O;(I=function(){this.valueOf=0}).prototype.valueOf=0,S=new I;for(O in S)k.call(S,O)&&w++;return I=S=null,w?w==2?M=function(T,C){var U={},N=b.call(T)==$,W;for(W in T)!(N&&W=="prototype")&&!k.call(U,W)&&(U[W]=1)&&k.call(T,W)&&C(W)}:M=function(T,C){var U=b.call(T)==$,N,W;for(N in T)!(U&&N=="prototype")&&k.call(T,N)&&!(W=N==="constructor")&&C(N);(W||k.call(T,N="constructor"))&&C(N)}:(S=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],M=function(T,C){var U=b.call(T)==$,N,W,z=!U&&typeof T.constructor!="function"&&r[typeof T.hasOwnProperty]&&T.hasOwnProperty||k;for(N in T)!(U&&N=="prototype")&&z.call(T,N)&&C(N);for(W=S.length;N=S[--W];z.call(T,N)&&C(N));}),M(A,L)},!G("json-stringify")){var oe={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},he="000000",V=function(A,L){return(he+(L||0)).slice(-A)},J="\\u00",Ae=function(A){for(var L='"',w=0,I=A.length,S=!Q||I>10,O=S&&(Q?A.split(""):A);w<I;w++){var T=A.charCodeAt(w);switch(T){case 8:case 9:case 10:case 12:case 13:case 34:case 92:L+=oe[T];break;default:if(T<32){L+=J+V(2,T.toString(16));break}L+=S?O[w]:A.charAt(w)}}return L+'"'},le=function(A,L,w,I,S,O,T){var C,U,N,W,z,ie,ue,de,_e,fe,K,pe,ne,re,ge,ve;try{C=L[A]}catch{}if(typeof C=="object"&&C)if(U=b.call(C),U==H&&!k.call(C,"toJSON"))if(C>-1/0&&C<1/0){if(ee){for(z=B(C/864e5),N=B(z/365.2425)+1970-1;ee(N+1,0)<=z;N++);for(W=B((z-ee(N,0))/30.42);ee(N,W+1)<=z;W++);z=1+z-ee(N,W),ie=(C%864e5+864e5)%864e5,ue=B(ie/36e5)%24,de=B(ie/6e4)%60,_e=B(ie/1e3)%60,fe=ie%1e3}else N=C.getUTCFullYear(),W=C.getUTCMonth(),z=C.getUTCDate(),ue=C.getUTCHours(),de=C.getUTCMinutes(),_e=C.getUTCSeconds(),fe=C.getUTCMilliseconds();C=(N<=0||N>=1e4?(N<0?"-":"+")+V(6,N<0?-N:N):V(4,N))+"-"+V(2,W+1)+"-"+V(2,z)+"T"+V(2,ue)+":"+V(2,de)+":"+V(2,_e)+"."+V(3,fe)+"Z"}else C=null;else typeof C.toJSON=="function"&&(U!=j&&U!=Y&&U!=X||k.call(C,"toJSON"))&&(C=C.toJSON(A));if(w&&(C=w.call(L,A,C)),C===null)return"null";if(U=b.call(C),U==te)return""+C;if(U==j)return C>-1/0&&C<1/0?""+C:"null";if(U==Y)return Ae(""+C);if(typeof C=="object"){for(re=T.length;re--;)if(T[re]===C)throw E();if(T.push(C),K=[],ge=O,O+=S,U==X){for(ne=0,re=C.length;ne<re;ne++)pe=le(ne,C,w,I,S,O,T),K.push(pe===D?"null":pe);ve=K.length?S?`[
`+O+K.join(`,
`+O)+`
`+ge+"]":"["+K.join(",")+"]":"[]"}else M(I||C,function(me){var ye=le(me,C,w,I,S,O,T);ye!==D&&K.push(Ae(me)+":"+(S?" ":"")+ye)}),ve=K.length?S?`{
`+O+K.join(`,
`+O)+`
`+ge+"}":"{"+K.join(",")+"}":"{}";return T.pop(),ve}};d.stringify=function(A,L,w){var I,S,O,T;if(r[typeof L]&&L){if((T=b.call(L))==$)S=L;else if(T==X){O={};for(var C=0,U=L.length,N;C<U;N=L[C++],T=b.call(N),(T==Y||T==j)&&(O[N]=1));}}if(w)if((T=b.call(w))==j){if((w-=w%1)>0)for(I="",w>10&&(w=10);I.length<w;I+=" ");}else T==Y&&(I=w.length<=10?w:w.slice(0,10));return le("",(N={},N[""]=A,N),S,O,I,"",[])}}if(!G("json-parse")){var be=_.fromCharCode,Se={92:"\\",34:'"',47:"/",98:"\b",116:"	",110:`
`,102:"\f",114:"\r"},R,se,q=function(){throw R=se=null,m()},Z=function(){for(var A=se,L=A.length,w,I,S,O,T;R<L;)switch(T=A.charCodeAt(R),T){case 9:case 10:case 13:case 32:R++;break;case 123:case 125:case 91:case 93:case 58:case 44:return w=Q?A.charAt(R):A[R],R++,w;case 34:for(w="@",R++;R<L;)if(T=A.charCodeAt(R),T<32)q();else if(T==92)switch(T=A.charCodeAt(++R),T){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:w+=Se[T],R++;break;case 117:for(I=++R,S=R+4;R<S;R++)T=A.charCodeAt(R),T>=48&&T<=57||T>=97&&T<=102||T>=65&&T<=70||q();w+=be("0x"+A.slice(I,R));break;default:q()}else{if(T==34)break;for(T=A.charCodeAt(R),I=R;T>=32&&T!=92&&T!=34;)T=A.charCodeAt(++R);w+=A.slice(I,R)}if(A.charCodeAt(R)==34)return R++,w;q();default:if(I=R,T==45&&(O=!0,T=A.charCodeAt(++R)),T>=48&&T<=57){for(T==48&&(T=A.charCodeAt(R+1),T>=48&&T<=57)&&q(),O=!1;R<L&&(T=A.charCodeAt(R),T>=48&&T<=57);R++);if(A.charCodeAt(R)==46){for(S=++R;S<L&&(T=A.charCodeAt(S),T>=48&&T<=57);S++);S==R&&q(),R=S}if(T=A.charCodeAt(R),T==101||T==69){for(T=A.charCodeAt(++R),(T==43||T==45)&&R++,S=R;S<L&&(T=A.charCodeAt(S),T>=48&&T<=57);S++);S==R&&q(),R=S}return+A.slice(I,R)}if(O&&q(),A.slice(R,R+4)=="true")return R+=4,!0;if(A.slice(R,R+5)=="false")return R+=5,!1;if(A.slice(R,R+4)=="null")return R+=4,null;q()}return"$"},ce=function(A){var L,w;if(A=="$"&&q(),typeof A=="string"){if((Q?A.charAt(0):A[0])=="@")return A.slice(1);if(A=="["){for(L=[];A=Z(),A!="]";w||(w=!0))w&&(A==","?(A=Z(),A=="]"&&q()):q()),A==","&&q(),L.push(ce(A));return L}else if(A=="{"){for(L={};A=Z(),A!="}";w||(w=!0))w&&(A==","?(A=Z(),A=="}"&&q()):q()),(A==","||typeof A!="string"||(Q?A.charAt(0):A[0])!="@"||Z()!=":")&&q(),L[A.slice(1)]=ce(Z());return L}q()}return A},Te=function(A,L,w){var I=Ee(A,L,w);I===D?delete A[L]:A[L]=I},Ee=function(A,L,w){var I=A[L],S;if(typeof I=="object"&&I)if(b.call(I)==X)for(S=I.length;S--;)Te(I,S,w);else M(I,function(O){Te(I,O,w)});return w.call(A,L,I)};d.parse=function(A,L){var w,I;return R=0,se=""+A,w=ce(Z()),Z()!="$"&&q(),R=se=null,L&&b.call(L)==$?Ee((I={},I[""]=w,I),"",L):w}}}return d.runInContext=n,d}if(e&&!o)n(t,e);else{var a=t.JSON,h=t.JSON3,l=!1,c=n(t,t.JSON3={noConflict:function(){return l||(l=!0,t.JSON=a,t.JSON3=h,a=h=null),c}});t.JSON={parse:c.parse,stringify:c.stringify}}o&&define(function(){return c})}).call(globalThis);(function(){var o={};o.a=function(){return o.el("a")},o.svg=function(){return o.el("svg")},o.object=function(){return o.el("object")},o.image=function(){return o.el("image")},o.img=function(){return o.el("img")},o.style=function(){return o.el("style")},o.link=function(){return o.el("link")},o.script=function(){return o.el("script")},o.audio=function(){return o.el("audio")},o.video=function(){return o.el("video")},o.text=function(r){return document.createTextNode(r)},o.el=function(r){return document.createElement(r)},createjs.Elements=o})();(function(){var o={};o.ABSOLUTE_PATT=/^(?:\w+:)?\/{2}/i,o.RELATIVE_PATT=/^[./]*?\//i,o.EXTENSION_PATT=/\/?[^/]+\.(\w{1,5})$/i,o.parseURI=function(r){var e={absolute:!1,relative:!1,protocol:null,hostname:null,port:null,pathname:null,search:null,hash:null,host:null};if(r==null)return e;var t=createjs.Elements.a();t.href=r;for(var i in e)i in t&&(e[i]=t[i]);var n=r.indexOf("?");n>-1&&(r=r.substr(0,n));var a;return o.ABSOLUTE_PATT.test(r)?e.absolute=!0:o.RELATIVE_PATT.test(r)&&(e.relative=!0),(a=r.match(o.EXTENSION_PATT))&&(e.extension=a[1].toLowerCase()),e},o.formatQueryString=function(r,e){if(r==null)throw new Error("You must specify data.");var t=[];for(var i in r)t.push(i+"="+escape(r[i]));return e&&(t=t.concat(e)),t.join("&")},o.buildURI=function(r,e){if(e==null)return r;var t=[],i=r.indexOf("?");if(i!=-1){var n=r.slice(i+1);t=t.concat(n.split("&"))}return i!=-1?r.slice(0,i)+"?"+this.formatQueryString(e,t):r+"?"+this.formatQueryString(e,t)},o.isCrossDomain=function(r){var e=createjs.Elements.a();e.href=r.src;var t=createjs.Elements.a();t.href=location.href;var i=e.hostname!=""&&(e.port!=t.port||e.protocol!=t.protocol||e.hostname!=t.hostname);return i},o.isLocal=function(r){var e=createjs.Elements.a();return e.href=r.src,e.hostname==""&&e.protocol=="file:"},createjs.URLUtils=o})();(function(){var o={container:null};o.appendToHead=function(r){o.getHead().appendChild(r)},o.appendToBody=function(r){if(o.container==null){o.container=document.createElement("div"),o.container.id="preloadjs-container";var e=o.container.style;e.visibility="hidden",e.position="absolute",e.width=o.container.style.height="10px",e.overflow="hidden",e.transform=e.msTransform=e.webkitTransform=e.oTransform="translate(-10px, -10px)",o.getBody().appendChild(o.container)}o.container.appendChild(r)},o.getHead=function(){return document.head||document.getElementsByTagName("head")[0]},o.getBody=function(){return document.body||document.getElementsByTagName("body")[0]},o.removeChild=function(r){r.parent&&r.parent.removeChild(r)},o.isImageTag=function(r){return r instanceof HTMLImageElement},o.isAudioTag=function(r){return window.HTMLAudioElement?r instanceof HTMLAudioElement:!1},o.isVideoTag=function(r){return window.HTMLVideoElement?r instanceof HTMLVideoElement:!1},createjs.DomUtils=o})();(function(){var o={};o.parseXML=function(r){var e=null;try{if(window.DOMParser){var t=new DOMParser;e=t.parseFromString(r,"text/xml")}}catch{}if(!e)try{e=new ActiveXObject("Microsoft.XMLDOM"),e.async=!1,e.loadXML(r)}catch{e=null}return e},o.parseJSON=function(r){if(r==null)return null;try{return JSON.parse(r)}catch(e){throw e}},createjs.DataUtils=o})();(function(){var o={};o.BINARY="binary",o.CSS="css",o.FONT="font",o.FONTCSS="fontcss",o.IMAGE="image",o.JAVASCRIPT="javascript",o.JSON="json",o.JSONP="jsonp",o.MANIFEST="manifest",o.SOUND="sound",o.VIDEO="video",o.SPRITESHEET="spritesheet",o.SVG="svg",o.TEXT="text",o.XML="xml",createjs.Types=o})();(function(){var o={};o.POST="POST",o.GET="GET",createjs.Methods=o})();(function(){function o(){this.src=null,this.type=null,this.id=null,this.maintainOrder=!1,this.callback=null,this.data=null,this.method=createjs.Methods.GET,this.values=null,this.headers=null,this.withCredentials=!1,this.mimeType=null,this.crossOrigin=null,this.loadTimeout=e.LOAD_TIMEOUT_DEFAULT}var r=o.prototype={},e=o;e.LOAD_TIMEOUT_DEFAULT=8e3,e.create=function(t){if(typeof t=="string"){var i=new o;return i.src=t,i}else{if(t instanceof e)return t;if(t instanceof Object&&t.src)return t.loadTimeout==null&&(t.loadTimeout=e.LOAD_TIMEOUT_DEFAULT),t;throw new Error("Type not recognized.")}},r.set=function(t){for(var i in t)this[i]=t[i];return this},createjs.LoadItem=e})();(function(){var o={};o.isBinary=function(r){switch(r){case createjs.Types.IMAGE:case createjs.Types.BINARY:return!0;default:return!1}},o.isText=function(r){switch(r){case createjs.Types.TEXT:case createjs.Types.JSON:case createjs.Types.MANIFEST:case createjs.Types.XML:case createjs.Types.CSS:case createjs.Types.SVG:case createjs.Types.JAVASCRIPT:case createjs.Types.SPRITESHEET:return!0;default:return!1}},o.getTypeByExtension=function(r){if(r==null)return createjs.Types.TEXT;switch(r.toLowerCase()){case"jpeg":case"jpg":case"gif":case"png":case"webp":case"bmp":return createjs.Types.IMAGE;case"ogg":case"mp3":case"webm":return createjs.Types.SOUND;case"mp4":case"webm":case"ts":return createjs.Types.VIDEO;case"json":return createjs.Types.JSON;case"xml":return createjs.Types.XML;case"css":return createjs.Types.CSS;case"js":return createjs.Types.JAVASCRIPT;case"svg":return createjs.Types.SVG;default:return createjs.Types.TEXT}},createjs.RequestUtils=o})();(function(){function o(t,i,n){this.EventDispatcher_constructor(),this.loaded=!1,this.canceled=!1,this.progress=0,this.type=n,this.resultFormatter=null,t?this._item=createjs.LoadItem.create(t):this._item=null,this._preferXHR=i,this._result=null,this._rawResult=null,this._loadedItems=null,this._tagSrcAttribute=null,this._tag=null}var r=createjs.extend(o,createjs.EventDispatcher),e=o;try{Object.defineProperties(e,{POST:{get:createjs.deprecate(function(){return createjs.Methods.POST},"AbstractLoader.POST")},GET:{get:createjs.deprecate(function(){return createjs.Methods.GET},"AbstractLoader.GET")},BINARY:{get:createjs.deprecate(function(){return createjs.Types.BINARY},"AbstractLoader.BINARY")},CSS:{get:createjs.deprecate(function(){return createjs.Types.CSS},"AbstractLoader.CSS")},FONT:{get:createjs.deprecate(function(){return createjs.Types.FONT},"AbstractLoader.FONT")},FONTCSS:{get:createjs.deprecate(function(){return createjs.Types.FONTCSS},"AbstractLoader.FONTCSS")},IMAGE:{get:createjs.deprecate(function(){return createjs.Types.IMAGE},"AbstractLoader.IMAGE")},JAVASCRIPT:{get:createjs.deprecate(function(){return createjs.Types.JAVASCRIPT},"AbstractLoader.JAVASCRIPT")},JSON:{get:createjs.deprecate(function(){return createjs.Types.JSON},"AbstractLoader.JSON")},JSONP:{get:createjs.deprecate(function(){return createjs.Types.JSONP},"AbstractLoader.JSONP")},MANIFEST:{get:createjs.deprecate(function(){return createjs.Types.MANIFEST},"AbstractLoader.MANIFEST")},SOUND:{get:createjs.deprecate(function(){return createjs.Types.SOUND},"AbstractLoader.SOUND")},VIDEO:{get:createjs.deprecate(function(){return createjs.Types.VIDEO},"AbstractLoader.VIDEO")},SPRITESHEET:{get:createjs.deprecate(function(){return createjs.Types.SPRITESHEET},"AbstractLoader.SPRITESHEET")},SVG:{get:createjs.deprecate(function(){return createjs.Types.SVG},"AbstractLoader.SVG")},TEXT:{get:createjs.deprecate(function(){return createjs.Types.TEXT},"AbstractLoader.TEXT")},XML:{get:createjs.deprecate(function(){return createjs.Types.XML},"AbstractLoader.XML")}})}catch{}r.getItem=function(){return this._item},r.getResult=function(t){return t?this._rawResult:this._result},r.getTag=function(){return this._tag},r.setTag=function(t){this._tag=t},r.load=function(){this._createRequest(),this._request.on("complete",this,this),this._request.on("progress",this,this),this._request.on("loadStart",this,this),this._request.on("abort",this,this),this._request.on("timeout",this,this),this._request.on("error",this,this);var t=new createjs.Event("initialize");t.loader=this._request,this.dispatchEvent(t),this._request.load()},r.cancel=function(){this.canceled=!0,this.destroy()},r.destroy=function(){this._request&&(this._request.removeAllEventListeners(),this._request.destroy()),this._request=null,this._item=null,this._rawResult=null,this._result=null,this._loadItems=null,this.removeAllEventListeners()},r.getLoadedItems=function(){return this._loadedItems},r._createRequest=function(){this._preferXHR?this._request=new createjs.XHRRequest(this._item):this._request=new createjs.TagRequest(this._item,this._tag||this._createTag(),this._tagSrcAttribute)},r._createTag=function(t){return null},r._sendLoadStart=function(){this._isCanceled()||this.dispatchEvent("loadstart")},r._sendProgress=function(t){if(!this._isCanceled()){var i=null;typeof t=="number"?(this.progress=t,i=new createjs.ProgressEvent(this.progress)):(i=t,this.progress=t.loaded/t.total,i.progress=this.progress,(isNaN(this.progress)||this.progress==1/0)&&(this.progress=0)),this.hasEventListener("progress")&&this.dispatchEvent(i)}},r._sendComplete=function(){if(!this._isCanceled()){this.loaded=!0;var t=new createjs.Event("complete");t.rawResult=this._rawResult,this._result!=null&&(t.result=this._result),this.dispatchEvent(t)}},r._sendError=function(t){this._isCanceled()||!this.hasEventListener("error")||(t==null&&(t=new createjs.ErrorEvent("PRELOAD_ERROR_EMPTY")),this.dispatchEvent(t))},r._isCanceled=function(){return!!(window.createjs==null||this.canceled)},r.resultFormatter=null,r.handleEvent=function(t){switch(t.type){case"complete":this._rawResult=t.target._response;var i=this.resultFormatter&&this.resultFormatter(this);i instanceof Function?i.call(this,createjs.proxy(this._resultFormatSuccess,this),createjs.proxy(this._resultFormatFailed,this)):(this._result=i||this._rawResult,this._sendComplete());break;case"progress":this._sendProgress(t);break;case"error":this._sendError(t);break;case"loadstart":this._sendLoadStart();break;case"abort":case"timeout":this._isCanceled()||this.dispatchEvent(new createjs.ErrorEvent("PRELOAD_"+t.type.toUpperCase()+"_ERROR"));break}},r._resultFormatSuccess=function(t){this._result=t,this._sendComplete()},r._resultFormatFailed=function(t){this._sendError(t)},r.toString=function(){return"[PreloadJS AbstractLoader]"},createjs.AbstractLoader=createjs.promote(o,"EventDispatcher")})();(function(){function o(e,t,i){this.AbstractLoader_constructor(e,t,i),this.resultFormatter=this._formatResult,this._tagSrcAttribute="src",this.on("initialize",this._updateXHR,this)}var r=createjs.extend(o,createjs.AbstractLoader);r.load=function(){this._tag||(this._tag=this._createTag(this._item.src)),this._tag.preload="auto",this._tag.load(),this.AbstractLoader_load()},r._createTag=function(){},r._createRequest=function(){this._preferXHR?this._request=new createjs.XHRRequest(this._item):this._request=new createjs.MediaTagRequest(this._item,this._tag||this._createTag(),this._tagSrcAttribute)},r._updateXHR=function(e){e.loader.setResponseType&&e.loader.setResponseType("blob")},r._formatResult=function(e){if(this._tag.removeEventListener&&this._tag.removeEventListener("canplaythrough",this._loadedHandler),this._tag.onstalled=null,this._preferXHR){var t=window.URL||window.webkitURL,i=e.getResult(!0);e.getTag().src=t.createObjectURL(i)}return e.getTag()},createjs.AbstractMediaLoader=createjs.promote(o,"AbstractLoader")})();(function(){var o=function(e){this._item=e},r=createjs.extend(o,createjs.EventDispatcher);r.load=function(){},r.destroy=function(){},r.cancel=function(){},createjs.AbstractRequest=createjs.promote(o,"EventDispatcher")})();(function(){function o(e,t,i){this.AbstractRequest_constructor(e),this._tag=t,this._tagSrcAttribute=i,this._loadedHandler=createjs.proxy(this._handleTagComplete,this),this._addedToDOM=!1}var r=createjs.extend(o,createjs.AbstractRequest);r.load=function(){this._tag.onload=createjs.proxy(this._handleTagComplete,this),this._tag.onreadystatechange=createjs.proxy(this._handleReadyStateChange,this),this._tag.onerror=createjs.proxy(this._handleError,this);var e=new createjs.Event("initialize");e.loader=this._tag,this.dispatchEvent(e),this._loadTimeout=setTimeout(createjs.proxy(this._handleTimeout,this),this._item.loadTimeout),this._tag[this._tagSrcAttribute]=this._item.src,this._tag.parentNode==null&&(createjs.DomUtils.appendToBody(this._tag),this._addedToDOM=!0)},r.destroy=function(){this._clean(),this._tag=null,this.AbstractRequest_destroy()},r._handleReadyStateChange=function(){clearTimeout(this._loadTimeout);var e=this._tag;(e.readyState=="loaded"||e.readyState=="complete")&&this._handleTagComplete()},r._handleError=function(){this._clean(),this.dispatchEvent("error")},r._handleTagComplete=function(){this._rawResult=this._tag,this._result=this.resultFormatter&&this.resultFormatter(this)||this._rawResult,this._clean(),this.dispatchEvent("complete")},r._handleTimeout=function(){this._clean(),this.dispatchEvent(new createjs.Event("timeout"))},r._clean=function(){this._tag.onload=null,this._tag.onreadystatechange=null,this._tag.onerror=null,this._addedToDOM&&this._tag.parentNode!=null&&this._tag.parentNode.removeChild(this._tag),clearTimeout(this._loadTimeout)},r._handleStalled=function(){},createjs.TagRequest=createjs.promote(o,"AbstractRequest")})();(function(){function o(e,t,i){this.AbstractRequest_constructor(e),this._tag=t,this._tagSrcAttribute=i,this._loadedHandler=createjs.proxy(this._handleTagComplete,this)}var r=createjs.extend(o,createjs.TagRequest);r.load=function(){var e=createjs.proxy(this._handleStalled,this);this._stalledCallback=e;var t=createjs.proxy(this._handleProgress,this);this._handleProgress=t,this._tag.addEventListener("stalled",e),this._tag.addEventListener("progress",t),this._tag.addEventListener&&this._tag.addEventListener("canplaythrough",this._loadedHandler,!1),this.TagRequest_load()},r._handleReadyStateChange=function(){clearTimeout(this._loadTimeout);var e=this._tag;(e.readyState=="loaded"||e.readyState=="complete")&&this._handleTagComplete()},r._handleStalled=function(){},r._handleProgress=function(e){if(!(!e||e.loaded>0&&e.total==0)){var t=new createjs.ProgressEvent(e.loaded,e.total);this.dispatchEvent(t)}},r._clean=function(){this._tag.removeEventListener&&this._tag.removeEventListener("canplaythrough",this._loadedHandler),this._tag.removeEventListener("stalled",this._stalledCallback),this._tag.removeEventListener("progress",this._progressCallback),this.TagRequest__clean()},createjs.MediaTagRequest=createjs.promote(o,"TagRequest")})();(function(){function o(e){this.AbstractRequest_constructor(e),this._request=null,this._loadTimeout=null,this._xhrLevel=1,this._response=null,this._rawResponse=null,this._canceled=!1,this._handleLoadStartProxy=createjs.proxy(this._handleLoadStart,this),this._handleProgressProxy=createjs.proxy(this._handleProgress,this),this._handleAbortProxy=createjs.proxy(this._handleAbort,this),this._handleErrorProxy=createjs.proxy(this._handleError,this),this._handleTimeoutProxy=createjs.proxy(this._handleTimeout,this),this._handleLoadProxy=createjs.proxy(this._handleLoad,this),this._handleReadyStateChangeProxy=createjs.proxy(this._handleReadyStateChange,this),this._createXHR(e)}var r=createjs.extend(o,createjs.AbstractRequest);o.ACTIVEX_VERSIONS=["Msxml2.XMLHTTP.6.0","Msxml2.XMLHTTP.5.0","Msxml2.XMLHTTP.4.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],r.getResult=function(e){return e&&this._rawResponse?this._rawResponse:this._response},r.cancel=function(){this.canceled=!0,this._clean(),this._request.abort()},r.load=function(){if(this._request==null){this._handleError();return}this._request.addEventListener!=null?(this._request.addEventListener("loadstart",this._handleLoadStartProxy,!1),this._request.addEventListener("progress",this._handleProgressProxy,!1),this._request.addEventListener("abort",this._handleAbortProxy,!1),this._request.addEventListener("error",this._handleErrorProxy,!1),this._request.addEventListener("timeout",this._handleTimeoutProxy,!1),this._request.addEventListener("load",this._handleLoadProxy,!1),this._request.addEventListener("readystatechange",this._handleReadyStateChangeProxy,!1)):(this._request.onloadstart=this._handleLoadStartProxy,this._request.onprogress=this._handleProgressProxy,this._request.onabort=this._handleAbortProxy,this._request.onerror=this._handleErrorProxy,this._request.ontimeout=this._handleTimeoutProxy,this._request.onload=this._handleLoadProxy,this._request.onreadystatechange=this._handleReadyStateChangeProxy),this._xhrLevel==1&&(this._loadTimeout=setTimeout(createjs.proxy(this._handleTimeout,this),this._item.loadTimeout));try{this._item.values?this._request.send(createjs.URLUtils.formatQueryString(this._item.values)):this._request.send()}catch(e){this.dispatchEvent(new createjs.ErrorEvent("XHR_SEND",null,e))}},r.setResponseType=function(e){e==="blob"&&(e=window.URL?"blob":"arraybuffer",this._responseType=e),this._request.responseType=e},r.getAllResponseHeaders=function(){return this._request.getAllResponseHeaders instanceof Function?this._request.getAllResponseHeaders():null},r.getResponseHeader=function(e){return this._request.getResponseHeader instanceof Function?this._request.getResponseHeader(e):null},r._handleProgress=function(e){if(!(!e||e.loaded>0&&e.total==0)){var t=new createjs.ProgressEvent(e.loaded,e.total);this.dispatchEvent(t)}},r._handleLoadStart=function(e){clearTimeout(this._loadTimeout),this.dispatchEvent("loadstart")},r._handleAbort=function(e){this._clean(),this.dispatchEvent(new createjs.ErrorEvent("XHR_ABORTED",null,e))},r._handleError=function(e){this._clean(),this.dispatchEvent(new createjs.ErrorEvent(e.message))},r._handleReadyStateChange=function(e){this._request.readyState==4&&this._handleLoad()},r._handleLoad=function(e){if(!this.loaded){this.loaded=!0;var t=this._checkError();if(t){this._handleError(t);return}if(this._response=this._getResponse(),this._responseType==="arraybuffer")try{this._response=new Blob([this._response])}catch(n){if(window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,n.name==="TypeError"&&window.BlobBuilder){var i=new BlobBuilder;i.append(this._response),this._response=i.getBlob()}}this._clean(),this.dispatchEvent(new createjs.Event("complete"))}},r._handleTimeout=function(e){this._clean(),this.dispatchEvent(new createjs.ErrorEvent("PRELOAD_TIMEOUT",null,e))},r._checkError=function(){var e=parseInt(this._request.status);return e>=400&&e<=599?new Error(e):e==0&&/^https?:/.test(location.protocol)?new Error(0):null},r._getResponse=function(){if(this._response!=null)return this._response;if(this._request.response!=null)return this._request.response;try{if(this._request.responseText!=null)return this._request.responseText}catch{}try{if(this._request.responseXML!=null)return this._request.responseXML}catch{}return null},r._createXHR=function(e){var t=createjs.URLUtils.isCrossDomain(e),i={},n=null;if(window.XMLHttpRequest)n=new XMLHttpRequest,t&&n.withCredentials===void 0&&window.XDomainRequest&&(n=new XDomainRequest);else{for(var a=0,h=s.ACTIVEX_VERSIONS.length;a<h;a++){var l=s.ACTIVEX_VERSIONS[a];try{n=new ActiveXObject(l);break}catch{}}if(n==null)return!1}e.mimeType==null&&createjs.RequestUtils.isText(e.type)&&(e.mimeType="text/plain; charset=utf-8"),e.mimeType&&n.overrideMimeType&&n.overrideMimeType(e.mimeType),this._xhrLevel=typeof n.responseType=="string"?2:1;var c=null;if(e.method==createjs.Methods.GET?c=createjs.URLUtils.buildURI(e.src,e.values):c=e.src,n.open(e.method||createjs.Methods.GET,c,!0),t&&n instanceof XMLHttpRequest&&this._xhrLevel==1&&(i.Origin=location.origin),e.values&&e.method==createjs.Methods.POST&&(i["Content-Type"]="application/x-www-form-urlencoded"),!t&&!i["X-Requested-With"]&&(i["X-Requested-With"]="XMLHttpRequest"),e.headers)for(var u in e.headers)i[u]=e.headers[u];for(u in i)n.setRequestHeader(u,i[u]);return n instanceof XMLHttpRequest&&e.withCredentials!==void 0&&(n.withCredentials=e.withCredentials),this._request=n,!0},r._clean=function(){clearTimeout(this._loadTimeout),this._request.removeEventListener!=null?(this._request.removeEventListener("loadstart",this._handleLoadStartProxy),this._request.removeEventListener("progress",this._handleProgressProxy),this._request.removeEventListener("abort",this._handleAbortProxy),this._request.removeEventListener("error",this._handleErrorProxy),this._request.removeEventListener("timeout",this._handleTimeoutProxy),this._request.removeEventListener("load",this._handleLoadProxy),this._request.removeEventListener("readystatechange",this._handleReadyStateChangeProxy)):(this._request.onloadstart=null,this._request.onprogress=null,this._request.onabort=null,this._request.onerror=null,this._request.ontimeout=null,this._request.onload=null,this._request.onreadystatechange=null)},r.toString=function(){return"[PreloadJS XHRRequest]"},createjs.XHRRequest=createjs.promote(o,"AbstractRequest")})();(function(){function o(t,i,n){this.AbstractLoader_constructor(),this._plugins=[],this._typeCallbacks={},this._extensionCallbacks={},this.next=null,this.maintainScriptOrder=!0,this.stopOnError=!1,this._maxConnections=1,this._availableLoaders=[createjs.FontLoader,createjs.ImageLoader,createjs.JavaScriptLoader,createjs.CSSLoader,createjs.JSONLoader,createjs.JSONPLoader,createjs.SoundLoader,createjs.ManifestLoader,createjs.SpriteSheetLoader,createjs.XMLLoader,createjs.SVGLoader,createjs.BinaryLoader,createjs.VideoLoader,createjs.TextLoader],this._defaultLoaderLength=this._availableLoaders.length,this.init(t,i,n)}var r=createjs.extend(o,createjs.AbstractLoader),e=o;try{Object.defineProperties(e,{POST:{get:createjs.deprecate(function(){return createjs.Methods.POST},"AbstractLoader.POST")},GET:{get:createjs.deprecate(function(){return createjs.Methods.GET},"AbstractLoader.GET")},BINARY:{get:createjs.deprecate(function(){return createjs.Types.BINARY},"AbstractLoader.BINARY")},CSS:{get:createjs.deprecate(function(){return createjs.Types.CSS},"AbstractLoader.CSS")},FONT:{get:createjs.deprecate(function(){return createjs.Types.FONT},"AbstractLoader.FONT")},FONTCSS:{get:createjs.deprecate(function(){return createjs.Types.FONTCSS},"AbstractLoader.FONTCSS")},IMAGE:{get:createjs.deprecate(function(){return createjs.Types.IMAGE},"AbstractLoader.IMAGE")},JAVASCRIPT:{get:createjs.deprecate(function(){return createjs.Types.JAVASCRIPT},"AbstractLoader.JAVASCRIPT")},JSON:{get:createjs.deprecate(function(){return createjs.Types.JSON},"AbstractLoader.JSON")},JSONP:{get:createjs.deprecate(function(){return createjs.Types.JSONP},"AbstractLoader.JSONP")},MANIFEST:{get:createjs.deprecate(function(){return createjs.Types.MANIFEST},"AbstractLoader.MANIFEST")},SOUND:{get:createjs.deprecate(function(){return createjs.Types.SOUND},"AbstractLoader.SOUND")},VIDEO:{get:createjs.deprecate(function(){return createjs.Types.VIDEO},"AbstractLoader.VIDEO")},SPRITESHEET:{get:createjs.deprecate(function(){return createjs.Types.SPRITESHEET},"AbstractLoader.SPRITESHEET")},SVG:{get:createjs.deprecate(function(){return createjs.Types.SVG},"AbstractLoader.SVG")},TEXT:{get:createjs.deprecate(function(){return createjs.Types.TEXT},"AbstractLoader.TEXT")},XML:{get:createjs.deprecate(function(){return createjs.Types.XML},"AbstractLoader.XML")}})}catch{}r.init=function(t,i,n){this.preferXHR=!0,this._preferXHR=!0,this.setPreferXHR(t),this._paused=!1,this._basePath=i,this._crossOrigin=n,this._loadStartWasDispatched=!1,this._currentlyLoadingScript=null,this._currentLoads=[],this._loadQueue=[],this._loadQueueBackup=[],this._loadItemsById={},this._loadItemsBySrc={},this._loadedResults={},this._loadedRawResults={},this._numItems=0,this._numItemsLoaded=0,this._scriptOrder=[],this._loadedScripts=[],this._lastProgress=NaN},r.registerLoader=function(t){if(!t||!t.canLoadItem)throw new Error("loader is of an incorrect type.");if(this._availableLoaders.indexOf(t)!=-1)throw new Error("loader already exists.");this._availableLoaders.unshift(t)},r.unregisterLoader=function(t){var i=this._availableLoaders.indexOf(t);i!=-1&&i<this._defaultLoaderLength-1&&this._availableLoaders.splice(i,1)},r.setPreferXHR=function(t){return this.preferXHR=t!=!1&&window.XMLHttpRequest!=null,this.preferXHR},r.removeAll=function(){this.remove()},r.remove=function(t){var i=null;if(t&&!Array.isArray(t))i=[t];else if(t)i=t;else if(arguments.length>0)return;var n=!1;if(i){for(;i.length;){var h=i.pop(),l=this.getResult(h);for(c=this._loadQueue.length-1;c>=0;c--)if(u=this._loadQueue[c].getItem(),u.id==h||u.src==h){this._loadQueue.splice(c,1)[0].cancel();break}for(c=this._loadQueueBackup.length-1;c>=0;c--)if(u=this._loadQueueBackup[c].getItem(),u.id==h||u.src==h){this._loadQueueBackup.splice(c,1)[0].cancel();break}if(l)this._disposeItem(this.getItem(h));else for(var c=this._currentLoads.length-1;c>=0;c--){var u=this._currentLoads[c].getItem();if(u.id==h||u.src==h){this._currentLoads.splice(c,1)[0].cancel(),n=!0;break}}}n&&this._loadNext()}else{this.close();for(var a in this._loadItemsById)this._disposeItem(this._loadItemsById[a]);this.init(this.preferXHR,this._basePath)}},r.reset=function(){this.close();for(var t in this._loadItemsById)this._disposeItem(this._loadItemsById[t]);for(var i=[],n=0,a=this._loadQueueBackup.length;n<a;n++)i.push(this._loadQueueBackup[n].getItem());this.loadManifest(i,!1)},r.installPlugin=function(t){if(t!=null&&t.getPreloadHandlers!=null){this._plugins.push(t);var i=t.getPreloadHandlers();if(i.scope=t,i.types!=null)for(var n=0,a=i.types.length;n<a;n++)this._typeCallbacks[i.types[n]]=i;if(i.extensions!=null)for(n=0,a=i.extensions.length;n<a;n++)this._extensionCallbacks[i.extensions[n]]=i}},r.setMaxConnections=function(t){this._maxConnections=t,!this._paused&&this._loadQueue.length>0&&this._loadNext()},r.loadFile=function(t,i,n){if(t==null){var a=new createjs.ErrorEvent("PRELOAD_NO_FILE");this._sendError(a);return}this._addItem(t,null,n),i!==!1?this.setPaused(!1):this.setPaused(!0)},r.loadManifest=function(t,i,n){var a=null,h=null;if(Array.isArray(t)){if(t.length==0){var l=new createjs.ErrorEvent("PRELOAD_MANIFEST_EMPTY");this._sendError(l);return}a=t}else if(typeof t=="string")a=[{src:t,type:e.MANIFEST}];else if(typeof t=="object")if(t.src!==void 0){if(t.type==null)t.type=e.MANIFEST;else if(t.type!=e.MANIFEST){var l=new createjs.ErrorEvent("PRELOAD_MANIFEST_TYPE");this._sendError(l)}a=[t]}else t.manifest!==void 0&&(a=t.manifest,h=t.path);else{var l=new createjs.ErrorEvent("PRELOAD_MANIFEST_NULL");this._sendError(l);return}for(var c=0,u=a.length;c<u;c++)this._addItem(a[c],h,n);i!==!1?this.setPaused(!1):this.setPaused(!0)},r.load=function(){this.setPaused(!1)},r.getItem=function(t){return this._loadItemsById[t]||this._loadItemsBySrc[t]},r.getResult=function(t,i){var n=this._loadItemsById[t]||this._loadItemsBySrc[t];if(n==null)return null;var a=n.id;return i&&this._loadedRawResults[a]?this._loadedRawResults[a]:this._loadedResults[a]},r.getItems=function(t){var i=[];for(var n in this._loadItemsById){var a=this._loadItemsById[n],h=this.getResult(n);t===!0&&h==null||i.push({item:a,result:h,rawResult:this.getResult(n,!0)})}return i},r.setPaused=function(t){this._paused=t,this._paused||this._loadNext()},r.close=function(){for(;this._currentLoads.length;)this._currentLoads.pop().cancel();this._scriptOrder.length=0,this._loadedScripts.length=0,this.loadStartWasDispatched=!1,this._itemCount=0,this._lastProgress=NaN},r._addItem=function(t,i,n){var a=this._createLoadItem(t,i,n);if(a!=null){var h=this._createLoader(a);h!=null&&("plugins"in h&&(h.plugins=this._plugins),a._loader=h,this._loadQueue.push(h),this._loadQueueBackup.push(h),this._numItems++,this._updateProgress(),(this.maintainScriptOrder&&a.type==createjs.Types.JAVASCRIPT||a.maintainOrder===!0)&&(this._scriptOrder.push(a),this._loadedScripts.push(null)))}},r._createLoadItem=function(t,i,n){var a=createjs.LoadItem.create(t);if(a==null)return null;var h="",l=n||this._basePath;if(a.src instanceof Object){if(!a.type)return null;if(i){h=i;var c=createjs.URLUtils.parseURI(i);l!=null&&!c.absolute&&!c.relative&&(h=l+h)}else l!=null&&(h=l)}else{var u=createjs.URLUtils.parseURI(a.src);u.extension&&(a.ext=u.extension),a.type==null&&(a.type=createjs.RequestUtils.getTypeByExtension(a.ext));var d=a.src;if(!u.absolute&&!u.relative)if(i){h=i;var c=createjs.URLUtils.parseURI(i);d=i+d,l!=null&&!c.absolute&&!c.relative&&(h=l+h)}else l!=null&&(h=l);a.src=h+a.src}a.path=h,(a.id===void 0||a.id===null||a.id==="")&&(a.id=d);var f=this._typeCallbacks[a.type]||this._extensionCallbacks[a.ext];if(f){var _=f.callback.call(f.scope,a,this);if(_===!1)return null;_===!0||_!=null&&(a._loader=_),u=createjs.URLUtils.parseURI(a.src),u.extension!=null&&(a.ext=u.extension)}return this._loadItemsById[a.id]=a,this._loadItemsBySrc[a.src]=a,a.crossOrigin==null&&(a.crossOrigin=this._crossOrigin),a},r._createLoader=function(t){if(t._loader!=null)return t._loader;for(var i=this.preferXHR,n=0;n<this._availableLoaders.length;n++){var a=this._availableLoaders[n];if(a&&a.canLoadItem(t))return new a(t,i)}return null},r._loadNext=function(){if(!this._paused){this._loadStartWasDispatched||(this._sendLoadStart(),this._loadStartWasDispatched=!0),this._numItems==this._numItemsLoaded?(this.loaded=!0,this._sendComplete(),this.next&&this.next.load&&this.next.load()):this.loaded=!1;for(var t=0;t<this._loadQueue.length&&!(this._currentLoads.length>=this._maxConnections);t++){var i=this._loadQueue[t];!this._canStartLoad(i)||(this._loadQueue.splice(t,1),t--,this._loadItem(i))}}},r._loadItem=function(t){t.on("fileload",this._handleFileLoad,this),t.on("progress",this._handleProgress,this),t.on("complete",this._handleFileComplete,this),t.on("error",this._handleError,this),t.on("fileerror",this._handleFileError,this),this._currentLoads.push(t),this._sendFileStart(t.getItem()),t.load()},r._handleFileLoad=function(t){t.target=null,this.dispatchEvent(t)},r._handleFileError=function(t){var i=new createjs.ErrorEvent("FILE_LOAD_ERROR",null,t.item);this._sendError(i)},r._handleError=function(t){var i=t.target;this._numItemsLoaded++,this._finishOrderedItem(i,!0),this._updateProgress();var n=new createjs.ErrorEvent("FILE_LOAD_ERROR",null,i.getItem());this._sendError(n),this.stopOnError?this.setPaused(!0):(this._removeLoadItem(i),this._cleanLoadItem(i),this._loadNext())},r._handleFileComplete=function(t){var i=t.target,n=i.getItem(),a=i.getResult();this._loadedResults[n.id]=a;var h=i.getResult(!0);h!=null&&h!==a&&(this._loadedRawResults[n.id]=h),this._saveLoadedItems(i),this._removeLoadItem(i),this._finishOrderedItem(i)||this._processFinishedLoad(n,i),this._cleanLoadItem(i)},r._saveLoadedItems=function(t){var i=t.getLoadedItems();if(i!==null)for(var n=0;n<i.length;n++){var a=i[n].item;this._loadItemsBySrc[a.src]=a,this._loadItemsById[a.id]=a,this._loadedResults[a.id]=i[n].result,this._loadedRawResults[a.id]=i[n].rawResult}},r._finishOrderedItem=function(t,i){var n=t.getItem();if(this.maintainScriptOrder&&n.type==createjs.Types.JAVASCRIPT||n.maintainOrder){t instanceof createjs.JavaScriptLoader&&(this._currentlyLoadingScript=!1);var a=createjs.indexOf(this._scriptOrder,n);return a==-1?!1:(this._loadedScripts[a]=i===!0?!0:n,this._checkScriptLoadOrder(),!0)}return!1},r._checkScriptLoadOrder=function(){for(var t=this._loadedScripts.length,i=0;i<t;i++){var n=this._loadedScripts[i];if(n===null)break;if(n!==!0){var a=this._loadedResults[n.id];n.type==createjs.Types.JAVASCRIPT&&createjs.DomUtils.appendToHead(a);var h=n._loader;this._processFinishedLoad(n,h),this._loadedScripts[i]=!0}}},r._processFinishedLoad=function(t,i){if(this._numItemsLoaded++,!this.maintainScriptOrder&&t.type==createjs.Types.JAVASCRIPT){var n=i.getTag();createjs.DomUtils.appendToHead(n)}this._updateProgress(),this._sendFileComplete(t,i),this._loadNext()},r._canStartLoad=function(t){if(!this.maintainScriptOrder||t.preferXHR)return!0;var i=t.getItem();if(i.type!=createjs.Types.JAVASCRIPT)return!0;if(this._currentlyLoadingScript)return!1;for(var n=this._scriptOrder.indexOf(i),a=0;a<n;){var h=this._loadedScripts[a];if(h==null)return!1;a++}return this._currentlyLoadingScript=!0,!0},r._removeLoadItem=function(t){for(var i=this._currentLoads.length,n=0;n<i;n++)if(this._currentLoads[n]==t){this._currentLoads.splice(n,1);break}},r._cleanLoadItem=function(t){var i=t.getItem();i&&delete i._loader},r._handleProgress=function(t){var i=t.target;this._sendFileProgress(i.getItem(),i.progress),this._updateProgress()},r._updateProgress=function(){var t=this._numItemsLoaded/this._numItems,i=this._numItems-this._numItemsLoaded;if(i>0){for(var n=0,a=0,h=this._currentLoads.length;a<h;a++)n+=this._currentLoads[a].progress;t+=n/i*(i/this._numItems)}this._lastProgress!=t&&(this._sendProgress(t),this._lastProgress=t)},r._disposeItem=function(t){delete this._loadedResults[t.id],delete this._loadedRawResults[t.id],delete this._loadItemsById[t.id],delete this._loadItemsBySrc[t.src]},r._sendFileProgress=function(t,i){if(!(this._isCanceled()||this._paused)&&!!this.hasEventListener("fileprogress")){var n=new createjs.Event("fileprogress");n.progress=i,n.loaded=i,n.total=1,n.item=t,this.dispatchEvent(n)}},r._sendFileComplete=function(t,i){if(!(this._isCanceled()||this._paused)){var n=new createjs.Event("fileload");n.loader=i,n.item=t,n.result=this._loadedResults[t.id],n.rawResult=this._loadedRawResults[t.id],t.completeHandler&&t.completeHandler(n),this.hasEventListener("fileload")&&this.dispatchEvent(n)}},r._sendFileStart=function(t){var i=new createjs.Event("filestart");i.item=t,this.hasEventListener("filestart")&&this.dispatchEvent(i)},r.toString=function(){return"[PreloadJS LoadQueue]"},createjs.LoadQueue=createjs.promote(o,"AbstractLoader")})();(function(){function o(e){this.AbstractLoader_constructor(e,!0,createjs.Types.TEXT)}createjs.extend(o,createjs.AbstractLoader);var r=o;r.canLoadItem=function(e){return e.type==createjs.Types.TEXT},createjs.TextLoader=createjs.promote(o,"AbstractLoader")})();(function(){function o(t){this.AbstractLoader_constructor(t,!0,createjs.Types.BINARY),this.on("initialize",this._updateXHR,this)}var r=createjs.extend(o,createjs.AbstractLoader),e=o;e.canLoadItem=function(t){return t.type==createjs.Types.BINARY},r._updateXHR=function(t){t.loader.setResponseType("arraybuffer")},createjs.BinaryLoader=createjs.promote(o,"AbstractLoader")})();(function(){function o(t,i){this.AbstractLoader_constructor(t,i,createjs.Types.CSS),this.resultFormatter=this._formatResult,this._tagSrcAttribute="href",i?this._tag=createjs.Elements.style():this._tag=createjs.Elements.link(),this._tag.rel="stylesheet",this._tag.type="text/css"}var r=createjs.extend(o,createjs.AbstractLoader),e=o;e.canLoadItem=function(t){return t.type==createjs.Types.CSS},r._formatResult=function(t){if(this._preferXHR){var i=t.getTag();if(i.styleSheet)i.styleSheet.cssText=t.getResult(!0);else{var n=createjs.Elements.text(t.getResult(!0));i.appendChild(n)}}else i=this._tag;return createjs.DomUtils.appendToHead(i),i},createjs.CSSLoader=createjs.promote(o,"AbstractLoader")})();(function(){function o(e,t){this.AbstractLoader_constructor(e,t,e.type),this._faces={},this._watched=[],this._count=0,this._watchInterval=null,this._loadTimeout=null,this._injectCSS=e.injectCSS===void 0?!0:e.injectCSS,this.dispatchEvent("initialize")}var r=createjs.extend(o,createjs.AbstractLoader);o.canLoadItem=function(e){return e.type==createjs.Types.FONT||e.type==createjs.Types.FONTCSS},o.sampleText="abcdefghijklmnopqrstuvwxyz ABCDEFGHIJKLMNOPQRSTUVWXYZ",o._ctx=document.createElement("canvas").getContext("2d"),o._referenceFonts=["serif","monospace"],o.WEIGHT_REGEX=/[- ._]*(thin|normal|book|regular|medium|black|heavy|[1-9]00|(?:extra|ultra|semi|demi)?[- ._]*(?:light|bold))[- ._]*/ig,o.STYLE_REGEX=/[- ._]*(italic|oblique)[- ._]*/ig,o.FONT_FORMAT={woff2:"woff2",woff:"woff",ttf:"truetype",otf:"truetype"},o.FONT_WEIGHT={thin:100,extralight:200,ultralight:200,light:300,semilight:300,demilight:300,book:"normal",regular:"normal",semibold:600,demibold:600,extrabold:800,ultrabold:800,black:900,heavy:900},o.WATCH_DURATION=10,r.load=function(){if(this.type==createjs.Types.FONTCSS){var e=this._watchCSS();if(!e){this.AbstractLoader_load();return}}else if(this._item.src instanceof Array)this._watchFontArray();else{var t=this._defFromSrc(this._item.src);this._watchFont(t),this._injectStyleTag(this._cssFromDef(t))}this._loadTimeout=setTimeout(createjs.proxy(this._handleTimeout,this),this._item.loadTimeout),this.dispatchEvent("loadstart")},r._handleTimeout=function(){this._stopWatching(),this.dispatchEvent(new createjs.ErrorEvent("PRELOAD_TIMEOUT"))},r._createRequest=function(){return this._request},r.handleEvent=function(e){switch(e.type){case"complete":this._rawResult=e.target._response,this._result=!0,this._parseCSS(this._rawResult);break;case"error":this._stopWatching(),this.AbstractLoader_handleEvent(e);break}},r._watchCSS=function(){var e=this._item.src;return e instanceof HTMLStyleElement&&(this._injectCSS&&!e.parentNode&&(document.head||document.getElementsByTagName("head")[0]).appendChild(e),this._injectCSS=!1,e=`
`+e.textContent),e.search(/\n|\r|@font-face/i)!==-1?(this._parseCSS(e),!0):(this._request=new createjs.XHRRequest(this._item),!1)},r._parseCSS=function(e){for(var t=/@font-face\s*\{([^}]+)}/g;;){var i=t.exec(e);if(!i)break;this._watchFont(this._parseFontFace(i[1]))}this._injectStyleTag(e)},r._watchFontArray=function(){for(var e=this._item.src,t="",i,n=e.length-1;n>=0;n--){var a=e[n];typeof a=="string"?i=this._defFromSrc(a):i=this._defFromObj(a),this._watchFont(i),t+=this._cssFromDef(i)+`
`}this._injectStyleTag(t)},r._injectStyleTag=function(e){if(!!this._injectCSS){var t=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e)),t.appendChild(i)}},r._parseFontFace=function(e){var t=this._getCSSValue(e,"font-family"),i=this._getCSSValue(e,"src");return!t||!i?null:this._defFromObj({family:t,src:i,style:this._getCSSValue(e,"font-style"),weight:this._getCSSValue(e,"font-weight")})},r._watchFont=function(e){!e||this._faces[e.id]||(this._faces[e.id]=e,this._watched.push(e),this._count++,this._calculateReferenceSizes(e),this._startWatching())},r._startWatching=function(){this._watchInterval==null&&(this._watchInterval=setInterval(createjs.proxy(this._watch,this),o.WATCH_DURATION))},r._stopWatching=function(){clearInterval(this._watchInterval),clearTimeout(this._loadTimeout),this._watchInterval=null},r._watch=function(){for(var e=this._watched,t=o._referenceFonts,i=e.length,n=i-1;n>=0;n--)for(var a=e[n],h=a.refs,l=h.length-1;l>=0;l--){var c=this._getTextWidth(a.family+","+t[l],a.weight,a.style);if(c!=h[l]){var u=new createjs.Event("fileload");a.type="font-family",u.item=a,this.dispatchEvent(u),e.splice(n,1);break}}if(i!==e.length){var u=new createjs.ProgressEvent(this._count-e.length,this._count);this.dispatchEvent(u)}i===0&&(this._stopWatching(),this._sendComplete())},r._calculateReferenceSizes=function(e){for(var t=o._referenceFonts,i=e.refs=[],n=0;n<t.length;n++)i[n]=this._getTextWidth(t[n],e.weight,e.style)},r._defFromSrc=function(e){var t=/[- ._]+/g,i=e,n=null,a;a=i.search(/[?#]/),a!==-1&&(i=i.substr(0,a)),a=i.lastIndexOf("."),a!==-1&&(n=i.substr(a+1),i=i.substr(0,a)),a=i.lastIndexOf("/"),a!==-1&&(i=i.substr(a+1));var h=i,l=h.match(o.WEIGHT_REGEX);l&&(l=l[0],h=h.replace(l,""),l=l.replace(t,"").toLowerCase());var c=i.match(o.STYLE_REGEX);c&&(h=h.replace(c[0],""),c="italic"),h=h.replace(t,"");var u="local('"+i.replace(t," ")+"'), url('"+e+"')",d=o.FONT_FORMAT[n];return d&&(u+=" format('"+d+"')"),this._defFromObj({family:h,weight:o.FONT_WEIGHT[l]||l,style:c,src:u})},r._defFromObj=function(e){var t={family:e.family,src:e.src,style:e.style||"normal",weight:e.weight||"normal"};return t.id=t.family+";"+t.style+";"+t.weight,t},r._cssFromDef=function(e){return`@font-face {
	font-family: '`+e.family+`';
	font-style: `+e.style+`;
	font-weight: `+e.weight+`;
	src: `+e.src+`;
}`},r._getTextWidth=function(e,t,i){var n=o._ctx;return n.font=i+" "+t+" 72px "+e,n.measureText(o.sampleText).width},r._getCSSValue=function(e,t){var i=new RegExp(t+":s*([^;}]+?)s*[;}]"),n=i.exec(e);return!n||!n[1]?null:n[1]},createjs.FontLoader=createjs.promote(o,"AbstractLoader")})();(function(){function o(t,i){this.AbstractLoader_constructor(t,i,createjs.Types.IMAGE),this.resultFormatter=this._formatResult,this._tagSrcAttribute="src",createjs.DomUtils.isImageTag(t)?this._tag=t:createjs.DomUtils.isImageTag(t.src)?this._tag=t.src:createjs.DomUtils.isImageTag(t.tag)&&(this._tag=t.tag),this._tag!=null?this._preferXHR=!1:this._tag=createjs.Elements.img(),this.on("initialize",this._updateXHR,this)}var r=createjs.extend(o,createjs.AbstractLoader),e=o;e.canLoadItem=function(t){return t.type==createjs.Types.IMAGE},r.load=function(){if(this._tag.src!=""&&this._tag.complete){this._sendComplete();return}var t=this._item.crossOrigin;t==!0&&(t="Anonymous"),t!=null&&!createjs.URLUtils.isLocal(this._item)&&(this._tag.crossOrigin=t),this.AbstractLoader_load()},r._updateXHR=function(t){t.loader.mimeType="text/plain; charset=x-user-defined-binary",t.loader.setResponseType&&t.loader.setResponseType("blob")},r._formatResult=function(t){return this._formatImage},r._formatImage=function(t,i){var n=this._tag,a=window.URL||window.webkitURL;if(this._preferXHR)if(a){var h=a.createObjectURL(this.getResult(!0));n.src=h,n.addEventListener("load",this._cleanUpURL,!1),n.addEventListener("error",this._cleanUpURL,!1)}else n.src=this._item.src;n.complete?t(n):(n.onload=createjs.proxy(function(){t(this._tag),n.onload=n.onerror=null},this),n.onerror=createjs.proxy(function(l){i(new createjs.ErrorEvent("IMAGE_FORMAT",null,l)),n.onload=n.onerror=null},this))},r._cleanUpURL=function(t){var i=window.URL||window.webkitURL;i.revokeObjectURL(t.target.src)},createjs.ImageLoader=createjs.promote(o,"AbstractLoader")})();(function(){function o(t,i){this.AbstractLoader_constructor(t,i,createjs.Types.JAVASCRIPT),this.resultFormatter=this._formatResult,this._tagSrcAttribute="src",this.setTag(createjs.Elements.script())}var r=createjs.extend(o,createjs.AbstractLoader),e=o;e.canLoadItem=function(t){return t.type==createjs.Types.JAVASCRIPT},r._formatResult=function(t){var i=t.getTag();return this._preferXHR&&(i.text=t.getResult(!0)),i},createjs.JavaScriptLoader=createjs.promote(o,"AbstractLoader")})();(function(){function o(t){this.AbstractLoader_constructor(t,!0,createjs.Types.JSON),this.resultFormatter=this._formatResult}var r=createjs.extend(o,createjs.AbstractLoader),e=o;e.canLoadItem=function(t){return t.type==createjs.Types.JSON},r._formatResult=function(t){var i=null;try{i=createjs.DataUtils.parseJSON(t.getResult(!0))}catch(a){var n=new createjs.ErrorEvent("JSON_FORMAT",null,a);return this._sendError(n),a}return i},createjs.JSONLoader=createjs.promote(o,"AbstractLoader")})();(function(){function o(t){this.AbstractLoader_constructor(t,!1,createjs.Types.JSONP),this.setTag(createjs.Elements.script()),this.getTag().type="text/javascript"}var r=createjs.extend(o,createjs.AbstractLoader),e=o;e.canLoadItem=function(t){return t.type==createjs.Types.JSONP},r.cancel=function(){this.AbstractLoader_cancel(),this._dispose()},r.load=function(){if(this._item.callback==null)throw new Error("callback is required for loading JSONP requests.");if(window[this._item.callback]!=null)throw new Error("JSONP callback '"+this._item.callback+"' already exists on window. You need to specify a different callback or re-name the current one.");window[this._item.callback]=createjs.proxy(this._handleLoad,this),createjs.DomUtils.appendToBody(this._tag),this._loadTimeout=setTimeout(createjs.proxy(this._handleTimeout,this),this._item.loadTimeout),this._tag.src=this._item.src},r._handleLoad=function(t){this._result=this._rawResult=t,this._sendComplete(),this._dispose()},r._handleTimeout=function(){this._dispose(),this.dispatchEvent(new createjs.ErrorEvent("timeout"))},r._dispose=function(){createjs.DomUtils.removeChild(this._tag),delete window[this._item.callback],clearTimeout(this._loadTimeout)},createjs.JSONPLoader=createjs.promote(o,"AbstractLoader")})();(function(){function o(t,i){this.AbstractLoader_constructor(t,i,createjs.Types.MANIFEST),this.plugins=null,this._manifestQueue=null}var r=createjs.extend(o,createjs.AbstractLoader),e=o;e.MANIFEST_PROGRESS=.25,e.canLoadItem=function(t){return t.type==createjs.Types.MANIFEST},r.load=function(){this.AbstractLoader_load()},r._createRequest=function(){var t=this._item.callback;t!=null?this._request=new createjs.JSONPLoader(this._item):this._request=new createjs.JSONLoader(this._item)},r.handleEvent=function(t){switch(t.type){case"complete":this._rawResult=t.target.getResult(!0),this._result=t.target.getResult(),this._sendProgress(e.MANIFEST_PROGRESS),this._loadManifest(this._result);return;case"progress":t.loaded*=e.MANIFEST_PROGRESS,this.progress=t.loaded/t.total,(isNaN(this.progress)||this.progress==1/0)&&(this.progress=0),this._sendProgress(t);return}this.AbstractLoader_handleEvent(t)},r.destroy=function(){this.AbstractLoader_destroy(),this._manifestQueue.close()},r._loadManifest=function(t){if(t&&t.manifest){var i=this._manifestQueue=new createjs.LoadQueue(this._preferXHR);i.on("fileload",this._handleManifestFileLoad,this),i.on("progress",this._handleManifestProgress,this),i.on("complete",this._handleManifestComplete,this,!0),i.on("error",this._handleManifestError,this,!0);for(var n=0,a=this.plugins.length;n<a;n++)i.installPlugin(this.plugins[n]);i.loadManifest(t)}else this._sendComplete()},r._handleManifestFileLoad=function(t){t.target=null,this.dispatchEvent(t)},r._handleManifestComplete=function(t){this._loadedItems=this._manifestQueue.getItems(!0),this._sendComplete()},r._handleManifestProgress=function(t){this.progress=t.progress*(1-e.MANIFEST_PROGRESS)+e.MANIFEST_PROGRESS,this._sendProgress(this.progress)},r._handleManifestError=function(t){var i=new createjs.Event("fileerror");i.item=t.data,this.dispatchEvent(i)},createjs.ManifestLoader=createjs.promote(o,"AbstractLoader")})();(function(){function o(t,i){this.AbstractMediaLoader_constructor(t,i,createjs.Types.SOUND),createjs.DomUtils.isAudioTag(t)?this._tag=t:createjs.DomUtils.isAudioTag(t.src)?this._tag=t:createjs.DomUtils.isAudioTag(t.tag)&&(this._tag=createjs.DomUtils.isAudioTag(t)?t:t.src),this._tag!=null&&(this._preferXHR=!1)}var r=createjs.extend(o,createjs.AbstractMediaLoader),e=o;e.canLoadItem=function(t){return t.type==createjs.Types.SOUND},r._createTag=function(t){var i=createjs.Elements.audio();return i.autoplay=!1,i.preload="none",i.src=t,i},createjs.SoundLoader=createjs.promote(o,"AbstractMediaLoader")})();(function(){function o(t,i){this.AbstractMediaLoader_constructor(t,i,createjs.Types.VIDEO),createjs.DomUtils.isVideoTag(t)||createjs.DomUtils.isVideoTag(t.src)?(this.setTag(createjs.DomUtils.isVideoTag(t)?t:t.src),this._preferXHR=!1):this.setTag(this._createTag())}var r=createjs.extend(o,createjs.AbstractMediaLoader),e=o;r._createTag=function(){return createjs.Elements.video()},e.canLoadItem=function(t){return t.type==createjs.Types.VIDEO},createjs.VideoLoader=createjs.promote(o,"AbstractMediaLoader")})();(function(){function o(t,i){this.AbstractLoader_constructor(t,i,createjs.Types.SPRITESHEET),this._manifestQueue=null}var r=createjs.extend(o,createjs.AbstractLoader),e=o;e.SPRITESHEET_PROGRESS=.25,e.canLoadItem=function(t){return t.type==createjs.Types.SPRITESHEET},r.destroy=function(){this.AbstractLoader_destroy(),this._manifestQueue.close()},r._createRequest=function(){var t=this._item.callback;t!=null?this._request=new createjs.JSONPLoader(this._item):this._request=new createjs.JSONLoader(this._item)},r.handleEvent=function(t){switch(t.type){case"complete":this._rawResult=t.target.getResult(!0),this._result=t.target.getResult(),this._sendProgress(e.SPRITESHEET_PROGRESS),this._loadManifest(this._result);return;case"progress":t.loaded*=e.SPRITESHEET_PROGRESS,this.progress=t.loaded/t.total,(isNaN(this.progress)||this.progress==1/0)&&(this.progress=0),this._sendProgress(t);return}this.AbstractLoader_handleEvent(t)},r._loadManifest=function(t){if(t&&t.images){var i=this._manifestQueue=new createjs.LoadQueue(this._preferXHR,this._item.path,this._item.crossOrigin);i.on("complete",this._handleManifestComplete,this,!0),i.on("fileload",this._handleManifestFileLoad,this),i.on("progress",this._handleManifestProgress,this),i.on("error",this._handleManifestError,this,!0),i.loadManifest(t.images)}},r._handleManifestFileLoad=function(t){var i=t.result;if(i!=null){var n=this.getResult().images,a=n.indexOf(t.item.src);n[a]=i}},r._handleManifestComplete=function(t){this._result=new createjs.SpriteSheet(this._result),this._loadedItems=this._manifestQueue.getItems(!0),this._sendComplete()},r._handleManifestProgress=function(t){this.progress=t.progress*(1-e.SPRITESHEET_PROGRESS)+e.SPRITESHEET_PROGRESS,this._sendProgress(this.progress)},r._handleManifestError=function(t){var i=new createjs.Event("fileerror");i.item=t.data,this.dispatchEvent(i)},createjs.SpriteSheetLoader=createjs.promote(o,"AbstractLoader")})();(function(){function o(t,i){this.AbstractLoader_constructor(t,i,createjs.Types.SVG),this.resultFormatter=this._formatResult,this._tagSrcAttribute="data",i?this.setTag(createjs.Elements.svg()):(this.setTag(createjs.Elements.object()),this.getTag().type="image/svg+xml")}var r=createjs.extend(o,createjs.AbstractLoader),e=o;e.canLoadItem=function(t){return t.type==createjs.Types.SVG},r._formatResult=function(t){var i=createjs.DataUtils.parseXML(t.getResult(!0)),n=t.getTag();if(!this._preferXHR&&document.body.contains(n)&&document.body.removeChild(n),i.documentElement!=null){var a=i.documentElement;return document.importNode&&(a=document.importNode(a,!0)),n.appendChild(a),n}else return i},createjs.SVGLoader=createjs.promote(o,"AbstractLoader")})();(function(){function o(t){this.AbstractLoader_constructor(t,!0,createjs.Types.XML),this.resultFormatter=this._formatResult}var r=createjs.extend(o,createjs.AbstractLoader),e=o;e.canLoadItem=function(t){return t.type==createjs.Types.XML},r._formatResult=function(t){return createjs.DataUtils.parseXML(t.getResult(!0))},createjs.XMLLoader=createjs.promote(o,"AbstractLoader")})();(function(){var o=createjs.SoundJS=createjs.SoundJS||{};o.version="NEXT",o.buildDate="Thu, 14 Sep 2017 22:19:45 GMT"})();(function(){function o(){throw"BrowserDetect cannot be instantiated"}var r=o.agent=window.navigator.userAgent;o.isWindowPhone=r.indexOf("IEMobile")>-1||r.indexOf("Windows Phone")>-1,o.isFirefox=r.indexOf("Firefox")>-1,o.isOpera=window.opera!=null,o.isChrome=r.indexOf("Chrome")>-1,o.isIOS=(r.indexOf("iPod")>-1||r.indexOf("iPhone")>-1||r.indexOf("iPad")>-1)&&!o.isWindowPhone,o.isAndroid=r.indexOf("Android")>-1&&!o.isWindowPhone,o.isBlackberry=r.indexOf("Blackberry")>-1,createjs.BrowserDetect=o})();(function(){var o=function(){this.interrupt=null,this.delay=null,this.offset=null,this.loop=null,this.volume=null,this.pan=null,this.startTime=null,this.duration=null},r=o.prototype={},e=o;e.create=function(t){if(typeof t=="string")return console&&(console.warn||console.log)("Deprecated behaviour. Sound.play takes a configuration object instead of individual arguments. See docs for info."),new createjs.PlayPropsConfig().set({interrupt:t});if(t==null||t instanceof e||t instanceof Object)return new createjs.PlayPropsConfig().set(t);if(t==null)throw new Error("PlayProps configuration not recognized.")},r.set=function(t){if(t!=null)for(var i in t)this[i]=t[i];return this},r.toString=function(){return"[PlayPropsConfig]"},createjs.PlayPropsConfig=e})();(function(){function o(){throw"Sound cannot be instantiated"}var r=o;r.INTERRUPT_ANY="any",r.INTERRUPT_EARLY="early",r.INTERRUPT_LATE="late",r.INTERRUPT_NONE="none",r.PLAY_INITED="playInited",r.PLAY_SUCCEEDED="playSucceeded",r.PLAY_INTERRUPTED="playInterrupted",r.PLAY_FINISHED="playFinished",r.PLAY_FAILED="playFailed",r.SUPPORTED_EXTENSIONS=["mp3","ogg","opus","mpeg","wav","m4a","mp4","aiff","wma","mid"],r.EXTENSION_MAP={m4a:"mp4"},r.FILE_PATTERN=/^(?:(\w+:)\/{2}(\w+(?:\.\w+)*\/?))?([/.]*?(?:[^?]+)?\/)?((?:[^/?]+)\.(\w+))(?:\?(\S+)?)?$/,r.defaultInterruptBehavior=r.INTERRUPT_NONE,r.alternateExtensions=[],r.activePlugin=null,r._masterVolume=1,r._getMasterVolume=function(){return this._masterVolume},r.getVolume=createjs.deprecate(r._getMasterVolume,"Sound.getVolume"),r._setMasterVolume=function(i){if(Number(i)!=null&&(i=Math.max(0,Math.min(1,i)),r._masterVolume=i,!this.activePlugin||!this.activePlugin.setVolume||!this.activePlugin.setVolume(i)))for(var n=this._instances,a=0,h=n.length;a<h;a++)n[a].setMasterVolume(i)},r.setVolume=createjs.deprecate(r._setMasterVolume,"Sound.setVolume"),r._masterMute=!1,r._getMute=function(){return this._masterMute},r.getMute=createjs.deprecate(r._getMute,"Sound.getMute"),r._setMute=function(i){if(i!=null&&(this._masterMute=i,!this.activePlugin||!this.activePlugin.setMute||!this.activePlugin.setMute(i)))for(var n=this._instances,a=0,h=n.length;a<h;a++)n[a].setMasterMute(i)},r.setMute=createjs.deprecate(r._setMute,"Sound.setMute"),r._getCapabilities=function(){return r.activePlugin==null?null:r.activePlugin._capabilities},r.getCapabilities=createjs.deprecate(r._getCapabilities,"Sound.getCapabilities"),Object.defineProperties(r,{volume:{get:r._getMasterVolume,set:r._setMasterVolume},muted:{get:r._getMute,set:r._setMute},capabilities:{get:r._getCapabilities}}),r._pluginsRegistered=!1,r._lastID=0,r._instances=[],r._idHash={},r._preloadHash={},r._defaultPlayPropsHash={},r.addEventListener=null,r.removeEventListener=null,r.removeAllEventListeners=null,r.dispatchEvent=null,r.hasEventListener=null,r._listeners=null,createjs.EventDispatcher.initialize(r),r.getPreloadHandlers=function(){return{callback:createjs.proxy(r.initLoad,r),types:["sound"],extensions:r.SUPPORTED_EXTENSIONS}},r._handleLoadComplete=function(i){var n=i.target.getItem().src;if(!!r._preloadHash[n])for(var a=0,h=r._preloadHash[n].length;a<h;a++){var l=r._preloadHash[n][a];if(r._preloadHash[n][a]=!0,!!r.hasEventListener("fileload")){var i=new createjs.Event("fileload");i.src=l.src,i.id=l.id,i.data=l.data,i.sprite=l.sprite,r.dispatchEvent(i)}}},r._handleLoadError=function(i){var n=i.target.getItem().src;if(!!r._preloadHash[n])for(var a=0,h=r._preloadHash[n].length;a<h;a++){var l=r._preloadHash[n][a];if(r._preloadHash[n][a]=!1,!!r.hasEventListener("fileerror")){var i=new createjs.Event("fileerror");i.src=l.src,i.id=l.id,i.data=l.data,i.sprite=l.sprite,r.dispatchEvent(i)}}},r._registerPlugin=function(i){return i.isSupported()?(r.activePlugin=new i,!0):!1},r.registerPlugins=function(i){r._pluginsRegistered=!0;for(var n=0,a=i.length;n<a;n++)if(r._registerPlugin(i[n]))return!0;return!1},r.initializeDefaultPlugins=function(){return r.activePlugin!=null?!0:r._pluginsRegistered?!1:!!r.registerPlugins([createjs.WebAudioPlugin,createjs.HTMLAudioPlugin])},r.isReady=function(){return r.activePlugin!=null},r.initLoad=function(i){return i.type=="video"?!0:r._registerSound(i)},r._registerSound=function(i){if(!r.initializeDefaultPlugins())return!1;var n;if(i.src instanceof Object?(n=r._parseSrc(i.src),n.src=i.path+n.src):n=r._parsePath(i.src),n==null)return!1;i.src=n.src,i.type="sound";var a=i.data,h=null;if(a!=null&&(isNaN(a.channels)?isNaN(a)||(h=parseInt(a)):h=parseInt(a.channels),a.audioSprite))for(var l,c=a.audioSprite.length;c--;)l=a.audioSprite[c],r._idHash[l.id]={src:i.src,startTime:parseInt(l.startTime),duration:parseInt(l.duration)},l.defaultPlayProps&&(r._defaultPlayPropsHash[l.id]=createjs.PlayPropsConfig.create(l.defaultPlayProps));i.id!=null&&(r._idHash[i.id]={src:i.src});var u=r.activePlugin.register(i);return e.create(i.src,h),a==null||!isNaN(a)?i.data=h||e.maxPerChannel():i.data.channels=h||e.maxPerChannel(),u.type&&(i.type=u.type),i.defaultPlayProps&&(r._defaultPlayPropsHash[i.src]=createjs.PlayPropsConfig.create(i.defaultPlayProps)),u},r.registerSound=function(i,n,a,h,l){var c={src:i,id:n,data:a,defaultPlayProps:l};i instanceof Object&&i.src&&(h=n,c=i),c=createjs.LoadItem.create(c),c.path=h,h!=null&&!(c.src instanceof Object)&&(c.src=h+c.src);var u=r._registerSound(c);if(!u)return!1;if(r._preloadHash[c.src]||(r._preloadHash[c.src]=[]),r._preloadHash[c.src].push(c),r._preloadHash[c.src].length==1)u.on("complete",this._handleLoadComplete,this),u.on("error",this._handleLoadError,this),r.activePlugin.preload(u);else if(r._preloadHash[c.src][0]==!0)return!0;return c},r.registerSounds=function(i,n){var a=[];i.path&&(n?n=n+i.path:n=i.path,i=i.manifest);for(var h=0,l=i.length;h<l;h++)a[h]=createjs.Sound.registerSound(i[h].src,i[h].id,i[h].data,n,i[h].defaultPlayProps);return a},r.removeSound=function(i,n){if(r.activePlugin==null)return!1;i instanceof Object&&i.src&&(i=i.src);var a;if(i instanceof Object?a=r._parseSrc(i):(i=r._getSrcById(i).src,a=r._parsePath(i)),a==null)return!1;i=a.src,n!=null&&(i=n+i);for(var h in r._idHash)r._idHash[h].src==i&&delete r._idHash[h];return e.removeSrc(i),delete r._preloadHash[i],r.activePlugin.removeSound(i),!0},r.removeSounds=function(i,n){var a=[];i.path&&(n?n=n+i.path:n=i.path,i=i.manifest);for(var h=0,l=i.length;h<l;h++)a[h]=createjs.Sound.removeSound(i[h].src,n);return a},r.removeAllSounds=function(){r._idHash={},r._preloadHash={},e.removeAll(),r.activePlugin&&r.activePlugin.removeAllSounds()},r.loadComplete=function(i){if(!r.isReady())return!1;var n=r._parsePath(i);return n?i=r._getSrcById(n.src).src:i=r._getSrcById(i).src,r._preloadHash[i]==null?!1:r._preloadHash[i][0]==!0},r._parsePath=function(i){typeof i!="string"&&(i=i.toString());var n=i.match(r.FILE_PATTERN);if(n==null)return!1;for(var a=n[4],h=n[5],l=r.capabilities,c=0;!l[h];)if(h=r.alternateExtensions[c++],c>r.alternateExtensions.length)return null;i=i.replace("."+n[5],"."+h);var u={name:a,src:i,extension:h};return u},r._parseSrc=function(i){var n={name:void 0,src:void 0,extension:void 0},a=r.capabilities;for(var h in i)if(i.hasOwnProperty(h)&&a[h]){n.src=i[h],n.extension=h;break}if(!n.src)return!1;var l=n.src.lastIndexOf("/");return l!=-1?n.name=n.src.slice(l+1):n.name=n.src,n},r.play=function(i,n){var a=createjs.PlayPropsConfig.create(n),h=r.createInstance(i,a.startTime,a.duration),l=r._playInstance(h,a);return l||h._playFailed(),h},r.createInstance=function(i,n,a){if(!r.initializeDefaultPlugins())return new createjs.DefaultSoundInstance(i,n,a);var h=r._defaultPlayPropsHash[i];i=r._getSrcById(i);var l=r._parsePath(i.src),c=null;return l!=null&&l.src!=null?(e.create(l.src),n==null&&(n=i.startTime),c=r.activePlugin.create(l.src,n,a||i.duration),h=h||r._defaultPlayPropsHash[l.src],h&&c.applyPlayProps(h)):c=new createjs.DefaultSoundInstance(i,n,a),c.uniqueId=r._lastID++,c},r.stop=function(){for(var i=this._instances,n=i.length;n--;)i[n].stop()},r.setDefaultPlayProps=function(i,n){i=r._getSrcById(i),r._defaultPlayPropsHash[r._parsePath(i.src).src]=createjs.PlayPropsConfig.create(n)},r.getDefaultPlayProps=function(i){return i=r._getSrcById(i),r._defaultPlayPropsHash[r._parsePath(i.src).src]},r._playInstance=function(i,n){var a=r._defaultPlayPropsHash[i.src]||{};if(n.interrupt==null&&(n.interrupt=a.interrupt||r.defaultInterruptBehavior),n.delay==null&&(n.delay=a.delay||0),n.offset==null&&(n.offset=i.position),n.loop==null&&(n.loop=i.loop),n.volume==null&&(n.volume=i.volume),n.pan==null&&(n.pan=i.pan),n.delay==0){var h=r._beginPlaying(i,n);if(!h)return!1}else{var l=setTimeout(function(){r._beginPlaying(i,n)},n.delay);i.delayTimeoutId=l}return this._instances.push(i),!0},r._beginPlaying=function(i,n){if(!e.add(i,n.interrupt))return!1;var a=i._beginPlaying(n);if(!a){var h=createjs.indexOf(this._instances,i);return h>-1&&this._instances.splice(h,1),!1}return!0},r._getSrcById=function(i){return r._idHash[i]||{src:i}},r._playFinished=function(i){e.remove(i);var n=createjs.indexOf(this._instances,i);n>-1&&this._instances.splice(n,1)},createjs.Sound=o;function e(i,n){this.init(i,n)}e.channels={},e.create=function(i,n){var a=e.get(i);return a==null?(e.channels[i]=new e(i,n),!0):!1},e.removeSrc=function(i){var n=e.get(i);return n==null?!1:(n._removeAll(),delete e.channels[i],!0)},e.removeAll=function(){for(var i in e.channels)e.channels[i]._removeAll();e.channels={}},e.add=function(i,n){var a=e.get(i.src);return a==null?!1:a._add(i,n)},e.remove=function(i){var n=e.get(i.src);return n==null?!1:(n._remove(i),!0)},e.maxPerChannel=function(){return t.maxDefault},e.get=function(i){return e.channels[i]};var t=e.prototype;t.constructor=e,t.src=null,t.max=null,t.maxDefault=100,t.length=0,t.init=function(i,n){this.src=i,this.max=n||this.maxDefault,this.max==-1&&(this.max=this.maxDefault),this._instances=[]},t._get=function(i){return this._instances[i]},t._add=function(i,n){return this._getSlot(n,i)?(this._instances.push(i),this.length++,!0):!1},t._remove=function(i){var n=createjs.indexOf(this._instances,i);return n==-1?!1:(this._instances.splice(n,1),this.length--,!0)},t._removeAll=function(){for(var i=this.length-1;i>=0;i--)this._instances[i].stop()},t._getSlot=function(i,n){var a,h;if(i!=o.INTERRUPT_NONE&&(h=this._get(0),h==null))return!0;for(var l=0,c=this.max;l<c;l++){if(a=this._get(l),a==null)return!0;if(a.playState==o.PLAY_FINISHED||a.playState==o.PLAY_INTERRUPTED||a.playState==o.PLAY_FAILED){h=a;break}i!=o.INTERRUPT_NONE&&(i==o.INTERRUPT_EARLY&&a.position<h.position||i==o.INTERRUPT_LATE&&a.position>h.position)&&(h=a)}return h!=null?(h._interrupt(),this._remove(h),!0):!1},t.toString=function(){return"[Sound SoundChannel]"}})();(function(){var o=function(e,t,i,n){this.EventDispatcher_constructor(),this.src=e,this.uniqueId=-1,this.playState=null,this.delayTimeoutId=null,this._volume=1,Object.defineProperty(this,"volume",{get:this._getVolume,set:this._setVolume}),this._pan=0,Object.defineProperty(this,"pan",{get:this._getPan,set:this._setPan}),this._startTime=Math.max(0,t||0),Object.defineProperty(this,"startTime",{get:this._getStartTime,set:this._setStartTime}),this._duration=Math.max(0,i||0),Object.defineProperty(this,"duration",{get:this._getDuration,set:this._setDuration}),this._playbackResource=null,Object.defineProperty(this,"playbackResource",{get:this._getPlaybackResource,set:this._setPlaybackResource}),n!==!1&&n!==!0&&this._setPlaybackResource(n),this._position=0,Object.defineProperty(this,"position",{get:this._getPosition,set:this._setPosition}),this._loop=0,Object.defineProperty(this,"loop",{get:this._getLoop,set:this._setLoop}),this._muted=!1,Object.defineProperty(this,"muted",{get:this._getMuted,set:this._setMuted}),this._paused=!1,Object.defineProperty(this,"paused",{get:this._getPaused,set:this._setPaused})},r=createjs.extend(o,createjs.EventDispatcher);r.play=function(e){var t=createjs.PlayPropsConfig.create(e);if(this.playState==createjs.Sound.PLAY_SUCCEEDED){this.applyPlayProps(t),this._paused&&this._setPaused(!1);return}return this._cleanUp(),createjs.Sound._playInstance(this,t),this},r.stop=function(){return this._position=0,this._paused=!1,this._handleStop(),this._cleanUp(),this.playState=createjs.Sound.PLAY_FINISHED,this},r.destroy=function(){this._cleanUp(),this.src=null,this.playbackResource=null,this.removeAllEventListeners()},r.applyPlayProps=function(e){return e.offset!=null&&this._setPosition(e.offset),e.loop!=null&&this._setLoop(e.loop),e.volume!=null&&this._setVolume(e.volume),e.pan!=null&&this._setPan(e.pan),e.startTime!=null&&(this._setStartTime(e.startTime),this._setDuration(e.duration)),this},r.toString=function(){return"[AbstractSoundInstance]"},r._getPaused=function(){return this._paused},r._setPaused=function(e){if(!(e!==!0&&e!==!1||this._paused==e)&&!(e==!0&&this.playState!=createjs.Sound.PLAY_SUCCEEDED))return this._paused=e,e?this._pause():this._resume(),clearTimeout(this.delayTimeoutId),this},r._setVolume=function(e){return e==this._volume?this:(this._volume=Math.max(0,Math.min(1,e)),this._muted||this._updateVolume(),this)},r._getVolume=function(){return this._volume},r._setMuted=function(e){if(!(e!==!0&&e!==!1))return this._muted=e,this._updateVolume(),this},r._getMuted=function(){return this._muted},r._setPan=function(e){return e==this._pan?this:(this._pan=Math.max(-1,Math.min(1,e)),this._updatePan(),this)},r._getPan=function(){return this._pan},r._getPosition=function(){return!this._paused&&this.playState==createjs.Sound.PLAY_SUCCEEDED&&(this._position=this._calculateCurrentPosition()),this._position},r._setPosition=function(e){return this._position=Math.max(0,e),this.playState==createjs.Sound.PLAY_SUCCEEDED&&this._updatePosition(),this},r._getStartTime=function(){return this._startTime},r._setStartTime=function(e){return e==this._startTime?this:(this._startTime=Math.max(0,e||0),this._updateStartTime(),this)},r._getDuration=function(){return this._duration},r._setDuration=function(e){return e==this._duration?this:(this._duration=Math.max(0,e||0),this._updateDuration(),this)},r._setPlaybackResource=function(e){return this._playbackResource=e,this._duration==0&&this._playbackResource&&this._setDurationFromSource(),this},r._getPlaybackResource=function(){return this._playbackResource},r._getLoop=function(){return this._loop},r._setLoop=function(e){this._playbackResource!=null&&(this._loop!=0&&e==0?this._removeLooping(e):this._loop==0&&e!=0&&this._addLooping(e)),this._loop=e},r._sendEvent=function(e){var t=new createjs.Event(e);this.dispatchEvent(t)},r._cleanUp=function(){clearTimeout(this.delayTimeoutId),this._handleCleanUp(),this._paused=!1,createjs.Sound._playFinished(this)},r._interrupt=function(){this._cleanUp(),this.playState=createjs.Sound.PLAY_INTERRUPTED,this._sendEvent("interrupted")},r._beginPlaying=function(e){return this._setPosition(e.offset),this._setLoop(e.loop),this._setVolume(e.volume),this._setPan(e.pan),e.startTime!=null&&(this._setStartTime(e.startTime),this._setDuration(e.duration)),this._playbackResource!=null&&this._position<this._duration?(this._paused=!1,this._handleSoundReady(),this.playState=createjs.Sound.PLAY_SUCCEEDED,this._sendEvent("succeeded"),!0):(this._playFailed(),!1)},r._playFailed=function(){this._cleanUp(),this.playState=createjs.Sound.PLAY_FAILED,this._sendEvent("failed")},r._handleSoundComplete=function(e){if(this._position=0,this._loop!=0){this._loop--,this._handleLoop(),this._sendEvent("loop");return}this._cleanUp(),this.playState=createjs.Sound.PLAY_FINISHED,this._sendEvent("complete")},r._handleSoundReady=function(){},r._updateVolume=function(){},r._updatePan=function(){},r._updateStartTime=function(){},r._updateDuration=function(){},r._setDurationFromSource=function(){},r._calculateCurrentPosition=function(){},r._updatePosition=function(){},r._removeLooping=function(e){},r._addLooping=function(e){},r._pause=function(){},r._resume=function(){},r._handleStop=function(){},r._handleCleanUp=function(){},r._handleLoop=function(){},createjs.AbstractSoundInstance=createjs.promote(o,"EventDispatcher"),createjs.DefaultSoundInstance=createjs.AbstractSoundInstance})();(function(){var o=function(){this._capabilities=null,this._loaders={},this._audioSources={},this._soundInstances={},this._volume=1,this._loaderClass,this._soundInstanceClass},r=o.prototype;o._capabilities=null,o.isSupported=function(){return!0},r.register=function(e){var t=this._loaders[e.src];return t&&!t.canceled?this._loaders[e.src]:(this._audioSources[e.src]=!0,this._soundInstances[e.src]=[],t=new this._loaderClass(e),t.on("complete",this._handlePreloadComplete,this),this._loaders[e.src]=t,t)},r.preload=function(e){e.on("error",this._handlePreloadError,this),e.load()},r.isPreloadStarted=function(e){return this._audioSources[e]!=null},r.isPreloadComplete=function(e){return!(this._audioSources[e]==null||this._audioSources[e]==!0)},r.removeSound=function(e){if(!!this._soundInstances[e]){for(var t=this._soundInstances[e].length;t--;){var i=this._soundInstances[e][t];i.destroy()}delete this._soundInstances[e],delete this._audioSources[e],this._loaders[e]&&this._loaders[e].destroy(),delete this._loaders[e]}},r.removeAllSounds=function(){for(var e in this._audioSources)this.removeSound(e)},r.create=function(e,t,i){this.isPreloadStarted(e)||this.preload(this.register(e));var n=new this._soundInstanceClass(e,t,i,this._audioSources[e]);return this._soundInstances[e]&&this._soundInstances[e].push(n),n.setMasterVolume&&n.setMasterVolume(createjs.Sound.volume),n.setMasterMute&&n.setMasterMute(createjs.Sound.muted),n},r.setVolume=function(e){return this._volume=e,this._updateVolume(),!0},r.getVolume=function(){return this._volume},r.setMute=function(e){return this._updateVolume(),!0},r.toString=function(){return"[AbstractPlugin]"},r._handlePreloadComplete=function(e){var t=e.target.getItem().src;this._audioSources[t]=e.result;for(var i=0,n=this._soundInstances[t].length;i<n;i++){var a=this._soundInstances[t][i];a.setPlaybackResource(this._audioSources[t]),this._soundInstances[t]=null}},r._handlePreloadError=function(e){},r._updateVolume=function(){},createjs.AbstractPlugin=o})();(function(){function o(e){this.AbstractLoader_constructor(e,!0,createjs.Types.SOUND)}var r=createjs.extend(o,createjs.AbstractLoader);o.context=null,r.toString=function(){return"[WebAudioLoader]"},r._createRequest=function(){this._request=new createjs.XHRRequest(this._item,!1),this._request.setResponseType("arraybuffer")},r._sendComplete=function(e){o.context.decodeAudioData(this._rawResult,createjs.proxy(this._handleAudioDecoded,this),createjs.proxy(this._sendError,this))},r._handleAudioDecoded=function(e){this._result=e,this.AbstractLoader__sendComplete()},createjs.WebAudioLoader=createjs.promote(o,"AbstractLoader")})();(function(){function o(t,i,n,a){this.AbstractSoundInstance_constructor(t,i,n,a),this.gainNode=e.context.createGain(),this.panNode=e.context.createPanner(),this.panNode.panningModel=e._panningModel,this.panNode.connect(this.gainNode),this._updatePan(),this.sourceNode=null,this._soundCompleteTimeout=null,this._sourceNodeNext=null,this._playbackStartTime=0,this._endedHandler=createjs.proxy(this._handleSoundComplete,this)}var r=createjs.extend(o,createjs.AbstractSoundInstance),e=o;e.context=null,e._scratchBuffer=null,e.destinationNode=null,e._panningModel="equalpower",r.destroy=function(){this.AbstractSoundInstance_destroy(),this.panNode.disconnect(0),this.panNode=null,this.gainNode.disconnect(0),this.gainNode=null},r.toString=function(){return"[WebAudioSoundInstance]"},r._updatePan=function(){this.panNode.setPosition(this._pan,0,-.5)},r._removeLooping=function(t){this._sourceNodeNext=this._cleanUpAudioNode(this._sourceNodeNext)},r._addLooping=function(t){this.playState==createjs.Sound.PLAY_SUCCEEDED&&(this._sourceNodeNext=this._createAndPlayAudioNode(this._playbackStartTime,0))},r._setDurationFromSource=function(){this._duration=this.playbackResource.duration*1e3},r._handleCleanUp=function(){this.sourceNode&&this.playState==createjs.Sound.PLAY_SUCCEEDED&&(this.sourceNode=this._cleanUpAudioNode(this.sourceNode),this._sourceNodeNext=this._cleanUpAudioNode(this._sourceNodeNext)),this.gainNode.numberOfOutputs!=0&&this.gainNode.disconnect(0),clearTimeout(this._soundCompleteTimeout),this._playbackStartTime=0},r._cleanUpAudioNode=function(t){if(t){if(t.stop(0),t.disconnect(0),createjs.BrowserDetect.isIOS)try{t.buffer=e._scratchBuffer}catch{}t=null}return t},r._handleSoundReady=function(t){this.gainNode.connect(e.destinationNode);var i=this._duration*.001,n=Math.min(Math.max(0,this._position)*.001,i);this.sourceNode=this._createAndPlayAudioNode(e.context.currentTime-i,n),this._playbackStartTime=this.sourceNode.startTime-n,this._soundCompleteTimeout=setTimeout(this._endedHandler,(i-n)*1e3),this._loop!=0&&(this._sourceNodeNext=this._createAndPlayAudioNode(this._playbackStartTime,0))},r._createAndPlayAudioNode=function(t,i){var n=e.context.createBufferSource();n.buffer=this.playbackResource,n.connect(this.panNode);var a=this._duration*.001;return n.startTime=t+a,n.start(n.startTime,i+this._startTime*.001,a-i),n},r._pause=function(){this._position=(e.context.currentTime-this._playbackStartTime)*1e3,this.sourceNode=this._cleanUpAudioNode(this.sourceNode),this._sourceNodeNext=this._cleanUpAudioNode(this._sourceNodeNext),this.gainNode.numberOfOutputs!=0&&this.gainNode.disconnect(0),clearTimeout(this._soundCompleteTimeout)},r._resume=function(){this._handleSoundReady()},r._updateVolume=function(){var t=this._muted?0:this._volume;t!=this.gainNode.gain.value&&(this.gainNode.gain.value=t)},r._calculateCurrentPosition=function(){return(e.context.currentTime-this._playbackStartTime)*1e3},r._updatePosition=function(){this.sourceNode=this._cleanUpAudioNode(this.sourceNode),this._sourceNodeNext=this._cleanUpAudioNode(this._sourceNodeNext),clearTimeout(this._soundCompleteTimeout),this._paused||this._handleSoundReady()},r._handleLoop=function(){this._cleanUpAudioNode(this.sourceNode),this.sourceNode=this._sourceNodeNext,this._playbackStartTime=this.sourceNode.startTime,this._sourceNodeNext=this._createAndPlayAudioNode(this._playbackStartTime,0),this._soundCompleteTimeout=setTimeout(this._endedHandler,this._duration)},r._updateDuration=function(){this.playState==createjs.Sound.PLAY_SUCCEEDED&&(this._pause(),this._resume())},createjs.WebAudioSoundInstance=createjs.promote(o,"AbstractSoundInstance")})();(function(){function o(){this.AbstractPlugin_constructor(),this._panningModel=e._panningModel,this.context=e.context,this.dynamicsCompressorNode=this.context.createDynamicsCompressor(),this.dynamicsCompressorNode.connect(this.context.destination),this.gainNode=this.context.createGain(),this.gainNode.connect(this.dynamicsCompressorNode),createjs.WebAudioSoundInstance.destinationNode=this.gainNode,this._capabilities=e._capabilities,this._loaderClass=createjs.WebAudioLoader,this._soundInstanceClass=createjs.WebAudioSoundInstance,this._addPropsToClasses()}var r=createjs.extend(o,createjs.AbstractPlugin),e=o;e._capabilities=null,e._panningModel="equalpower",e.context=null,e._scratchBuffer=null,e._unlocked=!1,e.DEFAULT_SAMPLE_RATE=44100,e.isSupported=function(){var t=createjs.BrowserDetect.isIOS||createjs.BrowserDetect.isAndroid||createjs.BrowserDetect.isBlackberry;return!(location.protocol=="file:"&&!t&&!this._isFileXHRSupported()||(e._generateCapabilities(),e.context==null))},e.playEmptySound=function(){if(e.context!=null){var t=e.context.createBufferSource();t.buffer=e._scratchBuffer,t.connect(e.context.destination),t.start(0,0,0)}},e._isFileXHRSupported=function(){var t=!0,i=new XMLHttpRequest;try{i.open("GET","WebAudioPluginTest.fail",!1)}catch{return t=!1,t}i.onerror=function(){t=!1},i.onload=function(){t=this.status==404||this.status==200||this.status==0&&this.response!=""};try{i.send()}catch{t=!1}return t},e._generateCapabilities=function(){if(e._capabilities==null){var t=document.createElement("audio");if(t.canPlayType==null||e.context==null&&(e.context=e._createAudioContext(),e.context==null))return null;e._scratchBuffer==null&&(e._scratchBuffer=e.context.createBuffer(1,1,22050)),e._compatibilitySetUp(),"ontouchstart"in window&&e.context.state!="running"&&(e._unlock(),document.addEventListener("mousedown",e._unlock,!0),document.addEventListener("touchstart",e._unlock,!0),document.addEventListener("touchend",e._unlock,!0)),e._capabilities={panning:!0,volume:!0,tracks:-1};for(var i=createjs.Sound.SUPPORTED_EXTENSIONS,n=createjs.Sound.EXTENSION_MAP,a=0,h=i.length;a<h;a++){var l=i[a],c=n[l]||l;e._capabilities[l]=t.canPlayType("audio/"+l)!="no"&&t.canPlayType("audio/"+l)!=""||t.canPlayType("audio/"+c)!="no"&&t.canPlayType("audio/"+c)!=""}e.context.destination.numberOfChannels<2&&(e._capabilities.panning=!1)}},e._createAudioContext=function(){var t=window.AudioContext||window.webkitAudioContext;if(t==null)return null;var i=new t;if(/(iPhone|iPad)/i.test(navigator.userAgent)&&i.sampleRate!==e.DEFAULT_SAMPLE_RATE){var n=i.createBuffer(1,1,e.DEFAULT_SAMPLE_RATE),a=i.createBufferSource();a.buffer=n,a.connect(i.destination),a.start(0),a.disconnect(),i.close(),i=new t}return i},e._compatibilitySetUp=function(){if(e._panningModel="equalpower",!e.context.createGain){e.context.createGain=e.context.createGainNode;var t=e.context.createBufferSource();t.__proto__.start=t.__proto__.noteGrainOn,t.__proto__.stop=t.__proto__.noteOff,e._panningModel=0}},e._unlock=function(){e._unlocked||(e.playEmptySound(),e.context.state=="running"&&(document.removeEventListener("mousedown",e._unlock,!0),document.removeEventListener("touchend",e._unlock,!0),document.removeEventListener("touchstart",e._unlock,!0),e._unlocked=!0))},r.toString=function(){return"[WebAudioPlugin]"},r._addPropsToClasses=function(){var t=this._soundInstanceClass;t.context=this.context,t._scratchBuffer=e._scratchBuffer,t.destinationNode=this.gainNode,t._panningModel=this._panningModel,this._loaderClass.context=this.context},r._updateVolume=function(){var t=createjs.Sound._masterMute?0:this._volume;t!=this.gainNode.gain.value&&(this.gainNode.gain.value=t)},createjs.WebAudioPlugin=createjs.promote(o,"AbstractPlugin")})();(function(){function o(){throw"HTMLAudioTagPool cannot be instantiated"}var r=o;r._tags={},r._tagPool=new e,r._tagUsed={},r.get=function(i){var n=r._tags[i];return n==null?(n=r._tags[i]=r._tagPool.get(),n.src=i):r._tagUsed[i]?(n=r._tagPool.get(),n.src=i):r._tagUsed[i]=!0,n},r.set=function(i,n){n==r._tags[i]?r._tagUsed[i]=!1:r._tagPool.set(n)},r.remove=function(i){var n=r._tags[i];return n==null?!1:(r._tagPool.set(n),delete r._tags[i],delete r._tagUsed[i],!0)},r.getDuration=function(i){var n=r._tags[i];return n==null||!n.duration?0:n.duration*1e3},createjs.HTMLAudioTagPool=o;function e(i){this._tags=[]}var t=e.prototype;t.constructor=e,t.get=function(){var i;return this._tags.length==0?i=this._createTag():i=this._tags.pop(),i.parentNode==null&&document.body.appendChild(i),i},t.set=function(i){var n=createjs.indexOf(this._tags,i);n==-1&&(this._tags.src=null,this._tags.push(i))},t.toString=function(){return"[TagPool]"},t._createTag=function(){var i=document.createElement("audio");return i.autoplay=!1,i.preload="none",i}})();(function(){function o(e,t,i,n){this.AbstractSoundInstance_constructor(e,t,i,n),this._audioSpriteStopTime=null,this._delayTimeoutId=null,this._endedHandler=createjs.proxy(this._handleSoundComplete,this),this._readyHandler=createjs.proxy(this._handleTagReady,this),this._stalledHandler=createjs.proxy(this._playFailed,this),this._audioSpriteEndHandler=createjs.proxy(this._handleAudioSpriteLoop,this),this._loopHandler=createjs.proxy(this._handleSoundComplete,this),i?this._audioSpriteStopTime=(t+i)*.001:this._duration=createjs.HTMLAudioTagPool.getDuration(this.src)}var r=createjs.extend(o,createjs.AbstractSoundInstance);r.setMasterVolume=function(e){this._updateVolume()},r.setMasterMute=function(e){this._updateVolume()},r.toString=function(){return"[HTMLAudioSoundInstance]"},r._removeLooping=function(){this._playbackResource!=null&&(this._playbackResource.loop=!1,this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1))},r._addLooping=function(){this._playbackResource==null||this._audioSpriteStopTime||(this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1),this._playbackResource.loop=!0)},r._handleCleanUp=function(){var e=this._playbackResource;if(e!=null){e.pause(),e.loop=!1,e.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_ENDED,this._endedHandler,!1),e.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_READY,this._readyHandler,!1),e.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_STALLED,this._stalledHandler,!1),e.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1),e.removeEventListener(createjs.HTMLAudioPlugin._TIME_UPDATE,this._audioSpriteEndHandler,!1);try{e.currentTime=this._startTime}catch{}createjs.HTMLAudioTagPool.set(this.src,e),this._playbackResource=null}},r._beginPlaying=function(e){return this._playbackResource=createjs.HTMLAudioTagPool.get(this.src),this.AbstractSoundInstance__beginPlaying(e)},r._handleSoundReady=function(e){if(this._playbackResource.readyState!==4){var t=this._playbackResource;t.addEventListener(createjs.HTMLAudioPlugin._AUDIO_READY,this._readyHandler,!1),t.addEventListener(createjs.HTMLAudioPlugin._AUDIO_STALLED,this._stalledHandler,!1),t.preload="auto",t.load();return}this._updateVolume(),this._playbackResource.currentTime=(this._startTime+this._position)*.001,this._audioSpriteStopTime?this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._TIME_UPDATE,this._audioSpriteEndHandler,!1):(this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_ENDED,this._endedHandler,!1),this._loop!=0&&(this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1),this._playbackResource.loop=!0)),this._playbackResource.play()},r._handleTagReady=function(e){this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_READY,this._readyHandler,!1),this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_STALLED,this._stalledHandler,!1),this._handleSoundReady()},r._pause=function(){this._playbackResource.pause()},r._resume=function(){this._playbackResource.play()},r._updateVolume=function(){if(this._playbackResource!=null){var e=this._muted||createjs.Sound._masterMute?0:this._volume*createjs.Sound._masterVolume;e!=this._playbackResource.volume&&(this._playbackResource.volume=e)}},r._calculateCurrentPosition=function(){return this._playbackResource.currentTime*1e3-this._startTime},r._updatePosition=function(){this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1),this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._handleSetPositionSeek,!1);try{this._playbackResource.currentTime=(this._position+this._startTime)*.001}catch{this._handleSetPositionSeek(null)}},r._handleSetPositionSeek=function(e){this._playbackResource!=null&&(this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._handleSetPositionSeek,!1),this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1))},r._handleAudioSpriteLoop=function(e){this._playbackResource.currentTime<=this._audioSpriteStopTime||(this._playbackResource.pause(),this._loop==0?this._handleSoundComplete(null):(this._position=0,this._loop--,this._playbackResource.currentTime=this._startTime*.001,this._paused||this._playbackResource.play(),this._sendEvent("loop")))},r._handleLoop=function(e){this._loop==0&&(this._playbackResource.loop=!1,this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1))},r._updateStartTime=function(){this._audioSpriteStopTime=(this._startTime+this._duration)*.001,this.playState==createjs.Sound.PLAY_SUCCEEDED&&(this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_ENDED,this._endedHandler,!1),this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._TIME_UPDATE,this._audioSpriteEndHandler,!1))},r._updateDuration=function(){this._audioSpriteStopTime=(this._startTime+this._duration)*.001,this.playState==createjs.Sound.PLAY_SUCCEEDED&&(this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_ENDED,this._endedHandler,!1),this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._TIME_UPDATE,this._audioSpriteEndHandler,!1))},r._setDurationFromSource=function(){this._duration=createjs.HTMLAudioTagPool.getDuration(this.src),this._playbackResource=null},createjs.HTMLAudioSoundInstance=createjs.promote(o,"AbstractSoundInstance")})();(function(){function o(){this.AbstractPlugin_constructor(),this._capabilities=e._capabilities,this._loaderClass=createjs.SoundLoader,this._soundInstanceClass=createjs.HTMLAudioSoundInstance}var r=createjs.extend(o,createjs.AbstractPlugin),e=o;e.MAX_INSTANCES=30,e._AUDIO_READY="canplaythrough",e._AUDIO_ENDED="ended",e._AUDIO_SEEKED="seeked",e._AUDIO_STALLED="stalled",e._TIME_UPDATE="timeupdate",e._capabilities=null,e.isSupported=function(){return e._generateCapabilities(),e._capabilities!=null},e._generateCapabilities=function(){if(e._capabilities==null){var t=document.createElement("audio");if(t.canPlayType==null)return null;e._capabilities={panning:!1,volume:!0,tracks:-1};for(var i=createjs.Sound.SUPPORTED_EXTENSIONS,n=createjs.Sound.EXTENSION_MAP,a=0,h=i.length;a<h;a++){var l=i[a],c=n[l]||l;e._capabilities[l]=t.canPlayType("audio/"+l)!="no"&&t.canPlayType("audio/"+l)!=""||t.canPlayType("audio/"+c)!="no"&&t.canPlayType("audio/"+c)!=""}}},r.register=function(t){var i=createjs.HTMLAudioTagPool.get(t.src),n=this.AbstractPlugin_register(t);return n.setTag(i),n},r.removeSound=function(t){this.AbstractPlugin_removeSound(t),createjs.HTMLAudioTagPool.remove(t)},r.create=function(t,i,n){var a=this.AbstractPlugin_create(t,i,n);return a.playbackResource=null,a},r.toString=function(){return"[HTMLAudioPlugin]"},r.setVolume=r.getVolume=r.setMute=null,createjs.HTMLAudioPlugin=createjs.promote(o,"AbstractPlugin")})();(function(){function o(e){this.EventDispatcher_constructor(),this.ignoreGlobalPause=!1,this.loop=0,this.useTicks=!1,this.reversed=!1,this.bounce=!1,this.timeScale=1,this.duration=0,this.position=0,this.rawPosition=-1,this._paused=!0,this._next=null,this._prev=null,this._parent=null,this._labels=null,this._labelList=null,e&&(this.useTicks=!!e.useTicks,this.ignoreGlobalPause=!!e.ignoreGlobalPause,this.loop=e.loop===!0?-1:e.loop||0,this.reversed=!!e.reversed,this.bounce=!!e.bounce,this.timeScale=e.timeScale||1,e.onChange&&this.addEventListener("change",e.onChange),e.onComplete&&this.addEventListener("complete",e.onComplete))}var r=createjs.extend(o,createjs.EventDispatcher);r._setPaused=function(e){return createjs.Tween._register(this,e),this},r.setPaused=createjs.deprecate(r._setPaused,"AbstractTween.setPaused"),r._getPaused=function(){return this._paused},r.getPaused=createjs.deprecate(r._getPaused,"AbstactTween.getPaused"),r._getCurrentLabel=function(e){var t=this.getLabels();e==null&&(e=this.position);for(var i=0,n=t.length;i<n&&!(e<t[i].position);i++);return i===0?null:t[i-1].label},r.getCurrentLabel=createjs.deprecate(r._getCurrentLabel,"AbstractTween.getCurrentLabel");try{Object.defineProperties(r,{paused:{set:r._setPaused,get:r._getPaused},currentLabel:{get:r._getCurrentLabel}})}catch{}r.advance=function(e,t){this.setPosition(this.rawPosition+e*this.timeScale,t)},r.setPosition=function(e,t,i,n){var a=this.duration,h=this.loop,l=this.rawPosition,c=0,u=0,d=!1;if(e<0&&(e=0),a===0){if(d=!0,l!==-1)return d}else{if(c=e/a|0,u=e-c*a,d=h!==-1&&e>=h*a+a,d&&(e=(u=a)*(c=h)+a),e===l)return d;var f=!this.reversed!=!(this.bounce&&c%2);f&&(u=a-u)}this.position=u,this.rawPosition=e,this._updatePosition(i,d),d&&(this.paused=!0),n&&n(this),t||this._runActions(l,e,i,!i&&l===-1),this.dispatchEvent("change"),d&&this.dispatchEvent("complete")},r.calculatePosition=function(e){var t=this.duration,i=this.loop,n=0,a=0;if(t===0)return 0;i!==-1&&e>=i*t+t?(a=t,n=i):e<0?a=0:(n=e/t|0,a=e-n*t);var h=!this.reversed!=!(this.bounce&&n%2);return h?t-a:a},r.getLabels=function(){var e=this._labelList;if(!e){e=this._labelList=[];var t=this._labels;for(var i in t)e.push({label:i,position:t[i]});e.sort(function(n,a){return n.position-a.position})}return e},r.setLabels=function(e){this._labels=e,this._labelList=null},r.addLabel=function(e,t){this._labels||(this._labels={}),this._labels[e]=t;var i=this._labelList;if(i){for(var n=0,a=i.length;n<a&&!(t<i[n].position);n++);i.splice(n,0,{label:e,position:t})}},r.gotoAndPlay=function(e){this.paused=!1,this._goto(e)},r.gotoAndStop=function(e){this.paused=!0,this._goto(e)},r.resolve=function(e){var t=Number(e);return isNaN(t)&&(t=this._labels&&this._labels[e]),t},r.toString=function(){return"[AbstractTween]"},r.clone=function(){throw"AbstractTween can not be cloned."},r._init=function(e){(!e||!e.paused)&&(this.paused=!1),e&&e.position!=null&&this.setPosition(e.position)},r._updatePosition=function(e,t){},r._goto=function(e){var t=this.resolve(e);t!=null&&this.setPosition(t,!1,!0)},r._runActions=function(e,t,i,n){if(!(!this._actionHead&&!this.tweens)){var a=this.duration,h=this.reversed,l=this.bounce,c=this.loop,u,d,f,_;if(a===0?(u=d=f=_=0,h=l=!1):(u=e/a|0,d=t/a|0,f=e-u*a,_=t-d*a),c!==-1&&(d>c&&(_=a,d=c),u>c&&(f=a,u=c)),i)return this._runActionsRange(_,_,i,n);if(u===d&&f===_&&!i&&!n)return;u===-1&&(u=f=0);var g=e<=t,v=u;do{var m=!h!=!(l&&v%2),E=v===u?f:g?0:a,y=v===d?_:g?a:0;if(m&&(E=a-E,y=a-y),!(l&&v!==u&&E===y)){if(this._runActionsRange(E,y,i,n||v!==u&&!l))return!0}n=!1}while(g&&++v<=d||!g&&--v>=d)}},r._runActionsRange=function(e,t,i,n){},createjs.AbstractTween=createjs.promote(o,"EventDispatcher")})();(function(){function o(i,n){this.AbstractTween_constructor(n),this.pluginData=null,this.target=i,this.passive=!1,this._stepHead=new e(null,0,0,{},null,!0),this._stepTail=this._stepHead,this._stepPosition=0,this._actionHead=null,this._actionTail=null,this._plugins=null,this._pluginIds=null,this._injected=null,n&&(this.pluginData=n.pluginData,n.override&&o.removeTweens(i)),this.pluginData||(this.pluginData={}),this._init(n)}var r=createjs.extend(o,createjs.AbstractTween);o.IGNORE={},o._tweens=[],o._plugins=null,o._tweenHead=null,o._tweenTail=null,o.get=function(i,n){return new o(i,n)},o.tick=function(i,n){for(var a=o._tweenHead;a;){var h=a._next;n&&!a.ignoreGlobalPause||a._paused||a.advance(a.useTicks?1:i),a=h}},o.handleEvent=function(i){i.type==="tick"&&this.tick(i.delta,i.paused)},o.removeTweens=function(i){if(!!i.tweenjs_count){for(var n=o._tweenHead;n;){var a=n._next;n.target===i&&o._register(n,!0),n=a}i.tweenjs_count=0}},o.removeAllTweens=function(){for(var i=o._tweenHead;i;){var n=i._next;i._paused=!0,i.target&&(i.target.tweenjs_count=0),i._next=i._prev=null,i=n}o._tweenHead=o._tweenTail=null},o.hasActiveTweens=function(i){return i?!!i.tweenjs_count:!!o._tweenHead},o._installPlugin=function(i){for(var n=i.priority=i.priority||0,a=o._plugins=o._plugins||[],h=0,l=a.length;h<l&&!(n<a[h].priority);h++);a.splice(h,0,i)},o._register=function(i,n){var a=i.target;if(!n&&i._paused){a&&(a.tweenjs_count=a.tweenjs_count?a.tweenjs_count+1:1);var h=o._tweenTail;h?(o._tweenTail=h._next=i,i._prev=h):o._tweenHead=o._tweenTail=i,!o._inited&&createjs.Ticker&&(createjs.Ticker.addEventListener("tick",o),o._inited=!0)}else if(n&&!i._paused){a&&a.tweenjs_count--;var l=i._next,c=i._prev;l?l._prev=c:o._tweenTail=c,c?c._next=l:o._tweenHead=l,i._next=i._prev=null}i._paused=n},r.wait=function(i,n){return i>0&&this._addStep(+i,this._stepTail.props,null,n),this},r.to=function(i,n,a){(n==null||n<0)&&(n=0);var h=this._addStep(+n,null,a);return this._appendProps(i,h),this},r.label=function(i){return this.addLabel(i,this.duration),this},r.call=function(i,n,a){return this._addAction(a||this.target,i,n||[this])},r.set=function(i,n){return this._addAction(n||this.target,this._set,[i])},r.play=function(i){return this._addAction(i||this,this._set,[{paused:!1}])},r.pause=function(i){return this._addAction(i||this,this._set,[{paused:!0}])},r.w=r.wait,r.t=r.to,r.c=r.call,r.s=r.set,r.toString=function(){return"[Tween]"},r.clone=function(){throw"Tween can not be cloned."},r._addPlugin=function(i){var n=this._pluginIds||(this._pluginIds={}),a=i.ID;if(!(!a||n[a])){n[a]=!0;for(var h=this._plugins||(this._plugins=[]),l=i.priority||0,c=0,u=h.length;c<u;c++)if(l<h[c].priority){h.splice(c,0,i);return}h.push(i)}},r._updatePosition=function(i,n){var a=this._stepHead.next,h=this.position,l=this.duration;if(this.target&&a){for(var c=a.next;c&&c.t<=h;)a=a.next,c=a.next;var u=n?l===0?1:h/l:(h-a.t)/a.d;this._updateTargetProps(a,u,n)}this._stepPosition=a?h-a.t:0},r._updateTargetProps=function(i,n,a){if(this.passive=!!i.passive)return;var h,l,c,u,d=i.prev.props,f=i.props;(u=i.ease)&&(n=u(n,0,1,1));var _=this._plugins;e:for(var g in d){if(l=d[g],c=f[g],l!==c&&typeof l=="number"?h=l+(c-l)*n:h=n>=1?c:l,_)for(var v=0,m=_.length;v<m;v++){var E=_[v].change(this,i,g,h,n,a);if(E===o.IGNORE)continue e;E!==void 0&&(h=E)}this.target[g]=h}},r._runActionsRange=function(i,n,a,h){var l=i>n,c=l?this._actionTail:this._actionHead,u=n,d=i;l&&(u=i,d=n);for(var f=this.position;c;){var _=c.t;if((_===n||_>d&&_<u||h&&_===i)&&(c.funct.apply(c.scope,c.params),f!==this.position))return!0;c=l?c.prev:c.next}},r._appendProps=function(i,n,a){var h=this._stepHead.props,l=this.target,c=o._plugins,u,d,f,_,g,v=n.prev,m=v.props,E=n.props||(n.props=this._cloneProps(m)),y={};for(u in i)if(!!i.hasOwnProperty(u)&&(y[u]=E[u]=i[u],h[u]===void 0)){if(_=void 0,c){for(d=c.length-1;d>=0;d--)if(f=c[d].init(this,u,_),f!==void 0&&(_=f),_===o.IGNORE){delete E[u],delete y[u];break}}_!==o.IGNORE&&(_===void 0&&(_=l[u]),m[u]=_===void 0?null:_)}for(u in y){f=i[u];for(var x,P=v;(x=P)&&(P=x.prev);)if(P.props!==x.props){if(P.props[u]!==void 0)break;P.props[u]=m[u]}}if(a!==!1&&(c=this._plugins))for(d=c.length-1;d>=0;d--)c[d].step(this,n,y);(g=this._injected)&&(this._injected=null,this._appendProps(g,n,!1))},r._injectProp=function(i,n){var a=this._injected||(this._injected={});a[i]=n},r._addStep=function(i,n,a,h){var l=new e(this._stepTail,this.duration,i,n,a,h||!1);return this.duration+=i,this._stepTail=this._stepTail.next=l},r._addAction=function(i,n,a){var h=new t(this._actionTail,this.duration,i,n,a);return this._actionTail?this._actionTail.next=h:this._actionHead=h,this._actionTail=h,this},r._set=function(i){for(var n in i)this[n]=i[n]},r._cloneProps=function(i){var n={};for(var a in i)n[a]=i[a];return n},createjs.Tween=createjs.promote(o,"AbstractTween");function e(i,n,a,h,l,c){this.next=null,this.prev=i,this.t=n,this.d=a,this.props=h,this.ease=l,this.passive=c,this.index=i?i.index+1:0}function t(i,n,a,h,l){this.next=null,this.prev=i,this.t=n,this.d=0,this.scope=a,this.funct=h,this.params=l}})();(function(){function o(e){var t,i;e instanceof Array||e==null&&arguments.length>1?(t=e,i=arguments[1],e=arguments[2]):e&&(t=e.tweens,i=e.labels),this.AbstractTween_constructor(e),this.tweens=[],t&&this.addTween.apply(this,t),this.setLabels(i),this._init(e)}var r=createjs.extend(o,createjs.AbstractTween);r.addTween=function(e){e._parent&&e._parent.removeTween(e);var t=arguments.length;if(t>1){for(var i=0;i<t;i++)this.addTween(arguments[i]);return arguments[t-1]}else if(t===0)return null;this.tweens.push(e),e._parent=this,e.paused=!0;var n=e.duration;return e.loop>0&&(n*=e.loop+1),n>this.duration&&(this.duration=n),this.rawPosition>=0&&e.setPosition(this.rawPosition),e},r.removeTween=function(e){var t=arguments.length;if(t>1){for(var i=!0,a=0;a<t;a++)i=i&&this.removeTween(arguments[a]);return i}else if(t===0)return!0;for(var n=this.tweens,a=n.length;a--;)if(n[a]===e)return n.splice(a,1),e._parent=null,e.duration>=this.duration&&this.updateDuration(),!0;return!1},r.updateDuration=function(){this.duration=0;for(var e=0,t=this.tweens.length;e<t;e++){var i=this.tweens[e],n=i.duration;i.loop>0&&(n*=i.loop+1),n>this.duration&&(this.duration=n)}},r.toString=function(){return"[Timeline]"},r.clone=function(){throw"Timeline can not be cloned."},r._updatePosition=function(e,t){for(var i=this.position,n=0,a=this.tweens.length;n<a;n++)this.tweens[n].setPosition(i,!0,e)},r._runActionsRange=function(e,t,i,n){for(var a=this.position,h=0,l=this.tweens.length;h<l;h++)if(this.tweens[h]._runActions(e,t,i,n),a!==this.position)return!0},createjs.Timeline=createjs.promote(o,"AbstractTween")})();(function(){function o(){throw"Ease cannot be instantiated."}o.linear=function(r){return r},o.none=o.linear,o.get=function(r){return r<-1?r=-1:r>1&&(r=1),function(e){return r==0?e:r<0?e*(e*-r+1+r):e*((2-e)*r+(1-r))}},o.getPowIn=function(r){return function(e){return Math.pow(e,r)}},o.getPowOut=function(r){return function(e){return 1-Math.pow(1-e,r)}},o.getPowInOut=function(r){return function(e){return(e*=2)<1?.5*Math.pow(e,r):1-.5*Math.abs(Math.pow(2-e,r))}},o.quadIn=o.getPowIn(2),o.quadOut=o.getPowOut(2),o.quadInOut=o.getPowInOut(2),o.cubicIn=o.getPowIn(3),o.cubicOut=o.getPowOut(3),o.cubicInOut=o.getPowInOut(3),o.quartIn=o.getPowIn(4),o.quartOut=o.getPowOut(4),o.quartInOut=o.getPowInOut(4),o.quintIn=o.getPowIn(5),o.quintOut=o.getPowOut(5),o.quintInOut=o.getPowInOut(5),o.sineIn=function(r){return 1-Math.cos(r*Math.PI/2)},o.sineOut=function(r){return Math.sin(r*Math.PI/2)},o.sineInOut=function(r){return-.5*(Math.cos(Math.PI*r)-1)},o.getBackIn=function(r){return function(e){return e*e*((r+1)*e-r)}},o.backIn=o.getBackIn(1.7),o.getBackOut=function(r){return function(e){return--e*e*((r+1)*e+r)+1}},o.backOut=o.getBackOut(1.7),o.getBackInOut=function(r){return r*=1.525,function(e){return(e*=2)<1?.5*(e*e*((r+1)*e-r)):.5*((e-=2)*e*((r+1)*e+r)+2)}},o.backInOut=o.getBackInOut(1.7),o.circIn=function(r){return-(Math.sqrt(1-r*r)-1)},o.circOut=function(r){return Math.sqrt(1- --r*r)},o.circInOut=function(r){return(r*=2)<1?-.5*(Math.sqrt(1-r*r)-1):.5*(Math.sqrt(1-(r-=2)*r)+1)},o.bounceIn=function(r){return 1-o.bounceOut(1-r)},o.bounceOut=function(r){return r<1/2.75?7.5625*r*r:r<2/2.75?7.5625*(r-=1.5/2.75)*r+.75:r<2.5/2.75?7.5625*(r-=2.25/2.75)*r+.9375:7.5625*(r-=2.625/2.75)*r+.984375},o.bounceInOut=function(r){return r<.5?o.bounceIn(r*2)*.5:o.bounceOut(r*2-1)*.5+.5},o.getElasticIn=function(r,e){var t=Math.PI*2;return function(i){if(i==0||i==1)return i;var n=e/t*Math.asin(1/r);return-(r*Math.pow(2,10*(i-=1))*Math.sin((i-n)*t/e))}},o.elasticIn=o.getElasticIn(1,.3),o.getElasticOut=function(r,e){var t=Math.PI*2;return function(i){if(i==0||i==1)return i;var n=e/t*Math.asin(1/r);return r*Math.pow(2,-10*i)*Math.sin((i-n)*t/e)+1}},o.elasticOut=o.getElasticOut(1,.3),o.getElasticInOut=function(r,e){var t=Math.PI*2;return function(i){var n=e/t*Math.asin(1/r);return(i*=2)<1?-.5*(r*Math.pow(2,10*(i-=1))*Math.sin((i-n)*t/e)):r*Math.pow(2,-10*(i-=1))*Math.sin((i-n)*t/e)*.5+1}},o.elasticInOut=o.getElasticInOut(1,.3*1.5),createjs.Ease=o})();(function(){function o(){throw"MotionGuidePlugin cannot be instantiated."}var r=o;r.priority=0,r.ID="MotionGuide",r.install=function(){return createjs.Tween._installPlugin(o),createjs.Tween.IGNORE},r.init=function(e,t,i){t=="guide"&&e._addPlugin(r)},r.step=function(e,t,i){for(var n in i)if(n==="guide"){var a=t.props.guide,h=r._solveGuideData(i.guide,a);a.valid=!h;var l=a.endData;if(e._injectProp("x",l.x),e._injectProp("y",l.y),h||!a.orient)break;var c=t.prev.props.rotation===void 0?e.target.rotation||0:t.prev.props.rotation;if(a.startOffsetRot=c-a.startData.rotation,a.orient=="fixed")a.endAbsRot=l.rotation+a.startOffsetRot,a.deltaRotation=0;else{var u=i.rotation===void 0?e.target.rotation||0:i.rotation,d=u-a.endData.rotation-a.startOffsetRot,f=d%360;switch(a.endAbsRot=u,a.orient){case"auto":a.deltaRotation=d;break;case"cw":a.deltaRotation=(f+360)%360+360*Math.abs(d/360|0);break;case"ccw":a.deltaRotation=(f-360)%360+-360*Math.abs(d/360|0);break}}e._injectProp("rotation",a.endAbsRot)}},r.change=function(e,t,i,n,a,h){var l=t.props.guide;if(!(!l||t.props===t.prev.props||l===t.prev.props.guide)){if(i==="guide"&&!l.valid||i=="x"||i=="y"||i==="rotation"&&l.orient)return createjs.Tween.IGNORE;r._ratioToPositionData(a,l,e.target)}},r.debug=function(e,t,i){e=e.guide||e;var n=r._findPathProblems(e);if(n&&console.error(`MotionGuidePlugin Error found: 
`+n),!t)return n;var a,h=e.path,l=h.length,c=3,u=9;for(t.save(),t.lineCap="round",t.lineJoin="miter",t.beginPath(),t.moveTo(h[0],h[1]),a=2;a<l;a+=4)t.quadraticCurveTo(h[a],h[a+1],h[a+2],h[a+3]);t.strokeStyle="black",t.lineWidth=c*1.5,t.stroke(),t.strokeStyle="white",t.lineWidth=c,t.stroke(),t.closePath();var d=i.length;if(i&&d){var f={},_={};r._solveGuideData(e,f);for(var a=0;a<d;a++)f.orient="fixed",r._ratioToPositionData(i[a],f,_),t.beginPath(),t.moveTo(_.x,_.y),t.lineTo(_.x+Math.cos(_.rotation*.0174533)*u,_.y+Math.sin(_.rotation*.0174533)*u),t.strokeStyle="black",t.lineWidth=c*1.5,t.stroke(),t.strokeStyle="red",t.lineWidth=c,t.stroke(),t.closePath()}return t.restore(),n},r._solveGuideData=function(e,t){var i=void 0;if(i=r.debug(e))return i;var n=t.path=e.path;t.orient=e.orient,t.subLines=[],t.totalLength=0,t.startOffsetRot=0,t.deltaRotation=0,t.startData={ratio:0},t.endData={ratio:1},t.animSpan=1;var a=n.length,h=10,l,c,u,d,f,_,g,v,m,E={};for(l=n[0],c=n[1],g=2;g<a;g+=4){u=n[g],d=n[g+1],f=n[g+2],_=n[g+3];var y={weightings:[],estLength:0,portion:0},x=l,P=c;for(v=1;v<=h;v++){r._getParamsForCurve(l,c,u,d,f,_,v/h,!1,E);var b=E.x-x,k=E.y-P;m=Math.sqrt(b*b+k*k),y.weightings.push(m),y.estLength+=m,x=E.x,P=E.y}for(t.totalLength+=y.estLength,v=0;v<h;v++)m=y.estLength,y.weightings[v]=y.weightings[v]/m;t.subLines.push(y),l=f,c=_}m=t.totalLength;var M=t.subLines.length;for(g=0;g<M;g++)t.subLines[g].portion=t.subLines[g].estLength/m;var D=isNaN(e.start)?0:e.start,F=isNaN(e.end)?1:e.end;r._ratioToPositionData(D,t,t.startData),r._ratioToPositionData(F,t,t.endData),t.startData.ratio=D,t.endData.ratio=F,t.animSpan=t.endData.ratio-t.startData.ratio},r._ratioToPositionData=function(e,t,i){var n=t.subLines,a,h,l,c,u,d=0,f=10,_=e*t.animSpan+t.startData.ratio;for(h=n.length,a=0;a<h;a++){if(c=n[a].portion,d+c>=_){u=a;break}d+=c}u===void 0&&(u=h-1,d-=c);var g=n[u].weightings,v=c;for(h=g.length,a=0;a<h&&(c=g[a]*v,!(d+c>=_));a++)d+=c;u=u*4+2,l=a/f+(_-d)/c*(1/f);var m=t.path;return r._getParamsForCurve(m[u-2],m[u-1],m[u],m[u+1],m[u+2],m[u+3],l,t.orient,i),t.orient&&(e>=.99999&&e<=1.00001&&t.endAbsRot!==void 0?i.rotation=t.endAbsRot:i.rotation+=t.startOffsetRot+e*t.deltaRotation),i},r._getParamsForCurve=function(e,t,i,n,a,h,l,c,u){var d=1-l;u.x=d*d*e+2*d*l*i+l*l*a,u.y=d*d*t+2*d*l*n+l*l*h,c&&(u.rotation=57.2957795*Math.atan2((n-t)*d+(h-n)*l,(i-e)*d+(a-i)*l))},r._findPathProblems=function(e){var t=e.path,i=t&&t.length||0;if(i<6||(i-2)%4){var n="	Cannot parse 'path' array due to invalid number of entries in path. ";return n+="There should be an odd number of points, at least 3 points, and 2 entries per point (x & y). ",n+=`See 'CanvasRenderingContext2D.quadraticCurveTo' for details as 'path' models a quadratic bezier.

`,n+="Only [ "+i+" ] values found. Expected: "+Math.max(Math.ceil((i-2)/4)*4+2,6),n}for(var a=0;a<i;a++)if(isNaN(t[a]))return"All data in path array must be numeric";var h=e.start;if(isNaN(h)&&h!==void 0)return"'start' out of bounds. Expected 0 to 1, got: "+h;var l=e.end;if(isNaN(l)&&l!==void 0)return"'end' out of bounds. Expected 0 to 1, got: "+l;var c=e.orient;if(c&&c!="fixed"&&c!="auto"&&c!="cw"&&c!="ccw")return'Invalid orientation value. Expected ["fixed", "auto", "cw", "ccw", undefined], got: '+c},createjs.MotionGuidePlugin=o})();(function(){var o=createjs.TweenJS=createjs.TweenJS||{};o.version="NEXT",o.buildDate="Thu, 14 Sep 2017 22:19:45 GMT"})();var stage$1={},AdobeAn={};(function(o,r){var e,t={},i={},n={};t.ssMetadata=[],(t.AnMovieClip=function(){this.actionFrames=[],this.ignorePause=!1,this.gotoAndPlay=function(a){o.MovieClip.prototype.gotoAndPlay.call(this,a)},this.play=function(){o.MovieClip.prototype.play.call(this)},this.gotoAndStop=function(a){o.MovieClip.prototype.gotoAndStop.call(this,a)},this.stop=function(){o.MovieClip.prototype.stop.call(this)}}).prototype=e=new o.MovieClip,(t.rabbit=function(a,h,l,c){l==null&&(l=!0),c==null&&(c=!1);var u=new Object;u.mode=a,u.startPosition=h,u.labels={},u.loop=l,u.reversed=c,o.MovieClip.apply(this,[u]),this.shape=new o.Shape,this.shape.graphics.f("#58C1E0").s().p("AiKDoQgbgNgPgOQgPAHgNABQgSADgEgIQgDgGAFgKIAEgFIADgEQgKABgJgBQgPgCgCgJQgDgJAMgKQAKgHAPgGIgCgCQADiPBkg/IgRgiQgegxgegKIgXAgQgcAdgbgNQgcgNAEgiQADgTARgiQALgWAVgPQAXgQAXADQAcAEAfATQAjAYASAjQAQAhANAjIAFAQQAdgIAcAAQAdAAAcAIIAGgQQAMgjARghQASgjAkgYQAegTAcgEQAXgDAWAQQAWAPALAWQARAiACATQAGAigdANQgbANgdgdIgWggQgeAKgeAxIgSAiQBmA/ACCPIgBACQAOAGAKAHQAMAKgDAJQgCAJgPACQgJABgLgBIAEAEIADAFQAGAKgEAGQgDAIgSgDQgNgBgPgHQgQAOgbANQg+AghMAAQhLAAg/ggg"),this.shape.setTransform(31.25,20.9763),this.timeline.addTween(o.Tween.get(this.shape).wait(1)),this.shape_1=new o.Shape,this.shape_1.graphics.f("#FFFFFF").s().p("ADZA5IghgHIgchNIB2geIASAOQATAQgBAOQgCANgTAKIgTAIIAEAFQADAIgFALQgPAQgcAAIgMgBgAkPAqQgFgLADgIIAEgFIgTgIQgTgKgCgNQgBgOATgQIASgOIB2AeIgcBNIghAHIgMABQgcAAgPgQg"),this.shape_1.setTransform(31.025,39.8278),this.timeline.addTween(o.Tween.get(this.shape_1).wait(1)),this.shape_2=new o.Shape,this.shape_2.graphics.f("#FFFFFF").s().p("AAHEhIgBAAIgGAAQhXAAhJglQgSgJgOgJQgvgnAAgLIAAgaIgBAAQgPgCgCgJQgDgJAMgKIAJgGIAAhdQAAgUAPgOQANgNASgCQAagsAtgdIgRgiQgegxgegKIgXAgQgcAdgbgNQgcgNAEgiQADgTARgiQALgWAVgPQAXgQAXADQAcAEAfATQAjAYASAjQAQAhANAjIAFAQQAdgIAcAAQAdAAAcAIIAGgQQAMgjARghQASgjAkgYQAegTAcgEQAXgDAWAQQAWAPALAWQARAiACATQAGAigdANQgbANgdgdIgWggQgeAKgeAxIgSAiQAuAdAaAtQAPACAMAMQAPAOAAAUIAABbIANAIQAMAKgDAJQgCAJgPACIgFABIAAAXQAAAHgTAWIgUAUQgQALgTAKIgBAAQg2Acg/AHIAAAAIgiACIgDAAg"),this.shape_2.setTransform(31.25,23.4763),this.timeline.addTween(o.Tween.get(this.shape_2).wait(1)),this.shape_3=new o.Shape,this.shape_3.graphics.f("#FFFFFF").s().p("AiKEBQgbgNgPgOQgPAHgNABQgSADgEgIQgDgGAFgKIAEgFIADgEQgKABgJgBQgPgCgCgJQgBgDABgDQgHgGgFgIQgHgMABgOQAGiIBThIIgFgHQg1Azg2gdQg/gbALhJQACgZAWgrIAAAAQARgiAggWIgBABQAogdApAHQAnAEApAaIAAABQAvAfAXAvQANAYAKAaQAMgCAMAAQAMAAANACQAKgaAMgYQAYgvAvgfIAAgBQAogaAngEQApgHAoAdIAAgBQAfAWARAiIABAAQAVArADAZQAKBJg+AbQg2Adg1gzIgFAHQBTBIAGCIQAAAOgGAMQgFAIgHAGIAAAGQgDAJgOACQgJABgLgBIAEAEIADAFQAGAKgEAGQgEAIgRgDQgNgBgPgHQgQAOgbANQg+AghMAAQhLAAg/ggg"),this.shape_3.setTransform(31.2505,18.4646),this.timeline.addTween(o.Tween.get(this.shape_3).wait(1)),this._renderFirstFrame()}).prototype=e=new o.MovieClip,e.nominalBounds=new o.Rectangle(-4,-10.4,70.5,62.8),(t.dog=function(a,h,l,c){l==null&&(l=!0),c==null&&(c=!1);var u=new Object;u.mode=a,u.startPosition=h,u.labels={},u.loop=l,u.reversed=c,o.MovieClip.apply(this,[u]),this.shape=new o.Shape,this.shape.graphics.f("#F1C66B").s().p("AAKDuIgDABIAAgBIgCAAIhAgEQhOgMgaglIgHAGIgBACIgOAAQgFgPAGgPIgHgFQgHgDgHAKQgDgGgBgIQgCgQAJgKIgYACQANggATgMIAAgFIAAgFIABgKIABgOQAFgmALgTQgUgUgMgoQgXhOAnhcQATACAdAPQA6AdArBAIArgCIAAAAIArACQAshAA5gdQAdgPAVgCQAmBcgYBOQgLAogUAUQAMATAEAmIACAOIAAAKIAAAFIAAAFQASAMAPAgIgYgCQAIAKgCAQQgCAIgDAGQgGgKgHADIgGAFQAFAPgFAPIgOAAIgCgCIgHgGQgYAkhFAMIg3AFIgCAAIAAABg"),this.shape.setTransform(31.3,21.45),this.timeline.addTween(o.Tween.get(this.shape).wait(1)),this.shape_1=new o.Shape,this.shape_1.graphics.f("#FFFFFF").s().p("AAKEHIgDABIAAgBIgCAAIhBgEQhOgMgZglIgHAGIgBACIgOAAQgGgPAGgPIgGgFQgHgDgHAKQgDgGgBgIQgCgQAIgKIgYACQAEgJAEgHIgCgBQgMgIgGgMQgHgNACgOIABgFIABgPQADgZAGgTQgOgXgJgdIABAAQgeheAuhuQAGgQAPgIQAOgJAQACQAcACAnAUQA5AdAuA5IASAAIAAAAIAAAAIABAAIASAAQAtg5A6gdIgBAAQAogUAbgCQARgCAOAJQAOAIAHAQQAuBugeBeQgJAdgNAXQAFATAEAZIgBgBIACAQIAAABIABAEQABAOgGANQgHAMgMAIIgBABIAHAQIgYgCQAJAKgDAQQgBAIgDAGQgGgKgIADIgGAFQAGAPgFAPIgOAAIgCgCIgHgGQgZAkhEAMIg4AFIgCAAIAAABg"),this.shape_1.setTransform(31.325,18.956),this.timeline.addTween(o.Tween.get(this.shape_1).wait(1)),this.shape_2=new o.Shape,this.shape_2.graphics.f("#FFFFFF").s().p("AAMBpIgDAAIAAAAQgQgChCgDQhggPgfgtIgJAHQgJAKgCAHQgFgGgDgJQgHgTAIgSIgIgGQgJgDgIALQgEgGgBgKQgDgTALgMIgeACQARgnAWgPIABgPIAAgEIHfAAIAAAEIAAAPQAXAPARAnIgegCQALAMgDATQgCAKgDAGQgIgLgJADIgIAGQAIASgHATQgDAJgFAGQgCgHgJgKIgJgHQgfArhTAQQg4AEgQACIAAAAg"),this.shape_2.setTransform(31.275,38.8),this.timeline.addTween(o.Tween.get(this.shape_2).wait(1)),this._renderFirstFrame()}).prototype=e=new o.MovieClip,e.nominalBounds=new o.Rectangle(3.3,-7.4,56,56.8),(t.cat=function(a,h,l,c){l==null&&(l=!0),c==null&&(c=!1);var u=new Object;u.mode=a,u.startPosition=h,u.labels={},u.loop=l,u.reversed=c,o.MovieClip.apply(this,[u]),this.shape=new o.Shape,this.shape.graphics.f("#71C99C").s().p("AgCDMIgCAAQiWgEhJhLQgYgXgNgdQgHgOgBgJIgNgUIAOgFQAHgZAignQgRg1ABg8QAAgeAEgTIAHAAIAAgCQA0gCA2ATQAaAJAQALQANgFAPgDQAYgFAcgCIAAgBIALABIAKgBIAAABQAsACAhAMQAPgJAYgJQAVgHAUgEQAkgJAjACQAFAUABAeQAAA8gRA0QAhApAIAYIAOAEIgMAVQgDAJgGAOQgNAcgXAYQgnAng8AUIg7AOQgiAGgmABIgBAAg"),this.shape.setTransform(31.2,22.106),this.timeline.addTween(o.Tween.get(this.shape).wait(1)),this.shape_1=new o.Shape,this.shape_1.graphics.f("#FFFFFF").s().p("AAAD6IgCAAIgCAAIgBAAQiqgEhVhYIAAAAQgegegQgkQgGgOgDgKIgJgOQgHgMAAgPQABgOAJgLQAGgHAJgFQAJgRARgWQgNgxABg2QAAgkAFgWQAEgQAMgKQAKgJANgCIAKgCQA+gDA/AXIABAAIAeANIANgDQAXgFAcgCIAMgBIAKAAIAKAAIAMABQAhACAcAIIAbgLIABgBQAXgJAYgEIgBAAQArgKApACQAQABAMAKQAMALADAPQAFAXAAAjQABA3gMAxQAQAVAJASQAJAEAHAIQAIALABAOQAAAOgHANIgIANQgDALgHAOQgQAjgeAeIAAABQguAvhHAWIgDABIg7APIgDABQglAGgqABIAAAAg"),this.shape_1.setTransform(31.1751,22.1074),this.timeline.addTween(o.Tween.get(this.shape_1).wait(1)),this._renderFirstFrame()}).prototype=e=new o.MovieClip,e.nominalBounds=new o.Rectangle(-2,-2.9,66.4,50),(t.loading=function(a,h,l,c){l==null&&(l=!0),c==null&&(c=!1);var u=new Object;u.mode=a,u.startPosition=h,u.labels={},u.loop=l,u.reversed=c,o.MovieClip.apply(this,[u]),this.instance=new t.dog("synched",0),this.instance.setTransform(166.2,45,.6978,.6978,0,0,0,31.3,20.9),this.timeline.addTween(o.Tween.get(this.instance).to({startPosition:0},14).to({startPosition:0},15).to({y:23},15).to({y:45},15).to({y:67},16).to({y:45},15).to({startPosition:0},10).wait(1)),this.instance_1=new t.rabbit("synched",0),this.instance_1.setTransform(103.5,45.05,.6978,.6978,0,0,0,31.2,21),this.timeline.addTween(o.Tween.get(this.instance_1).to({startPosition:0},14).to({y:24.05},15).to({y:45.05},15).to({y:66.05},15).to({y:45.05},16).to({startPosition:0},15).to({startPosition:0},10).wait(1)),this.instance_2=new t.cat("synched",0),this.instance_2.setTransform(40.15,47,.6978,.6978,0,0,0,31.2,22.1),this.timeline.addTween(o.Tween.get(this.instance_2).to({y:23},14).to({y:68},30).to({y:47},15).to({startPosition:0},31).to({startPosition:0},10).wait(1)),this._renderFirstFrame()}).prototype=e=new t.AnMovieClip,e.nominalBounds=new o.Rectangle(117,47.1,68.69999999999999,40.9),t.properties={id:"AA02CAE7823A974B8F0A7EB048F52678",width:200,height:90,fps:60,color:"#FFFFFF",opacity:1,manifest:[],preloads:[]},(t.Stage=function(a){createjs.Stage.call(this,a)}).prototype=e=new createjs.Stage,e.setAutoPlay=function(a){this.tickEnabled=a},e.play=function(){this.tickEnabled=!0,this.getChildAt(0).gotoAndPlay(this.getTimelinePosition())},e.stop=function(a){a&&this.seek(a),this.tickEnabled=!1},e.seek=function(a){this.tickEnabled=!0,this.getChildAt(0).gotoAndStop(t.properties.fps*a/1e3)},e.getDuration=function(){return this.getChildAt(0).totalFrames/t.properties.fps*1e3},e.getTimelinePosition=function(){return this.getChildAt(0).currentFrame/t.properties.fps*1e3},r.bootcompsLoaded=r.bootcompsLoaded||[],r.bootstrapListeners||(r.bootstrapListeners=[]),r.bootstrapCallback=function(a){if(r.bootstrapListeners.push(a),r.bootcompsLoaded.length>0)for(var h=0;h<r.bootcompsLoaded.length;++h)a(r.bootcompsLoaded[h])},r.compositions=r.compositions||{},r.compositions.AA02CAE7823A974B8F0A7EB048F52678={getStage:function(){return exportRoot.stage},getLibrary:function(){return t},getSpriteSheet:function(){return i},getImages:function(){return n}},r.compositionLoaded=function(a){r.bootcompsLoaded.push(a);for(var h=0;h<r.bootstrapListeners.length;h++)r.bootstrapListeners[h](a)},r.getComposition=function(a){return r.compositions[a]},r.makeResponsive=function(a,h,l,c,u,d){var f,_,g=1;window.addEventListener("resize",v),v();function v(){var m=t.properties.width,E=t.properties.height,y=window.innerWidth,x=window.innerHeight,P=window.devicePixelRatio||1,b=y/m,k=x/E,M=1;h&&(l=="width"&&f==y||l=="height"&&_==x?M=g:c?u==1?M=Math.min(b,k):u==2&&(M=Math.max(b,k)):(y<m||x<E)&&(M=Math.min(b,k))),d[0].width=m*P*M,d[0].height=E*P*M,a.scaleX=P*M,a.scaleY=P*M,f=y,_=x,g=M,a.tickOnUpdate=!1,a.update(),a.tickOnUpdate=!0}},r.handleSoundStreamOnTick=function(a){if(!a.paused){var h=stage$1.getChildAt(0);(!h.paused||h.ignorePause)&&h.syncStreamSounds()}},r.handleFilterCache=function(a){if(!a.paused){var h=a.target;if(h&&h.filterCacheList)for(var l=0;l<h.filterCacheList.length;l++){var c=h.filterCacheList[l];c.startFrame<=h.currentFrame&&h.currentFrame<=c.endFrame&&c.instance.cache(c.x,c.y,c.w,c.h)}}}})(createjs,AdobeAn);var Loading_vue_vue_type_style_index_0_scoped_true_lang="";let stage,exportRoot$1,fnStartAnimation;function initAnimate(o){var r=AdobeAn.getComposition("AA02CAE7823A974B8F0A7EB048F52678");handleComplete(o,r)}function handleComplete(o,r){var e=r.getLibrary();r.getSpriteSheet(),exportRoot$1=new e.loading,stage=new e.Stage(o),fnStartAnimation=function(){stage.addChild(exportRoot$1),createjs.Ticker.framerate=e.properties.fps,createjs.Ticker.addEventListener("tick",stage)},AdobeAn.makeResponsive(stage,!1,"both",!1,1,[o]),AdobeAn.compositionLoaded(e.properties.id),fnStartAnimation()}const _sfc_main$a={components:{},props:[],setup(){return{}},mounted(){initAnimate(this.$refs.canvas)}},_hoisted_1$9={class:"mask-bg"},_hoisted_2$9={ref:"canvas",width:"200",height:"90",style:{display:"block","background-color":"rgba(255, 255, 255, 0)"}};function _sfc_render$a(o,r,e,t,i,n){return openBlock(),createElementBlock("div",_hoisted_1$9,[createBaseVNode("canvas",_hoisted_2$9,null,512)])}var Loading=_export_sfc(_sfc_main$a,[["render",_sfc_render$a],["__scopeId","data-v-054ab90c"]]),ChoosePet_vue_vue_type_style_index_0_scoped_true_lang="";const _sfc_main$9={props:[],methods:{getMyPet(){pickPet({type:this.picked},o=>{o.code===codes.ok?reload():instance.emit("dialog/alert",`[${o.code}] ${o.err||"\u767B\u5F55\u5931\u8D25\uFF0C\u8BF7\u622A\u56FE\u8054\u7CFB vj \u5904\u7406\u3002"}`)})}},data(){return{picked:"1"}}},_withScopeId=o=>(pushScopeId("data-v-3ebd49c2"),o=o(),popScopeId(),o),_hoisted_1$8=_withScopeId(()=>createBaseVNode("div",{class:"mask-bg"},null,-1)),_hoisted_2$8={class:"choose-pet-wrap dialog-base"},_hoisted_3$6=_withScopeId(()=>createBaseVNode("h1",null,"\u8BF7\u9009\u62E9\u4F60\u7684\u5B9D\u5B9D",-1)),_hoisted_4$6=_withScopeId(()=>createBaseVNode("label",{for:"cat"},"\u732B\u54AA",-1)),_hoisted_5$6=_withScopeId(()=>createBaseVNode("label",{for:"rabbit"},"\u5154\u5B50",-1)),_hoisted_6$6=_withScopeId(()=>createBaseVNode("label",{for:"dog"},"\u67EF\u57FA",-1));function _sfc_render$9(o,r,e,t,i,n){return openBlock(),createElementBlock(Fragment,null,[_hoisted_1$8,createBaseVNode("div",_hoisted_2$8,[_hoisted_3$6,createBaseVNode("p",null,[withDirectives(createBaseVNode("input",{"onUpdate:modelValue":r[0]||(r[0]=a=>i.picked=a),type:"radio",value:"1",id:"cat"},null,512),[[vModelRadio,i.picked]]),_hoisted_4$6]),createBaseVNode("p",null,[withDirectives(createBaseVNode("input",{"onUpdate:modelValue":r[1]||(r[1]=a=>i.picked=a),type:"radio",value:"2",id:"rabbit"},null,512),[[vModelRadio,i.picked]]),_hoisted_5$6]),createBaseVNode("p",null,[withDirectives(createBaseVNode("input",{"onUpdate:modelValue":r[2]||(r[2]=a=>i.picked=a),type:"radio",value:"3",id:"dog"},null,512),[[vModelRadio,i.picked]]),_hoisted_6$6]),createBaseVNode("p",{class:"button",onClick:r[3]||(r[3]=(...a)=>n.getMyPet&&n.getMyPet(...a))},"\u83B7\u53D6\u5BA0\u7269\u86CB")])],64)}var ChoosePet=_export_sfc(_sfc_main$9,[["render",_sfc_render$9],["__scopeId","data-v-3ebd49c2"]]);const scriptRel="modulepreload",seen={},base="/petGame/",__vitePreload=function(r,e){return!e||e.length===0?r():Promise.all(e.map(t=>{if(t=`${base}${t}`,t in seen)return;seen[t]=!0;const i=t.endsWith(".css"),n=i?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${t}"]${n}`))return;const a=document.createElement("link");if(a.rel=i?"stylesheet":scriptRel,i||(a.as="script",a.crossOrigin=""),a.href=t,document.head.appendChild(a),i)return new Promise((h,l)=>{a.addEventListener("load",h),a.addEventListener("error",()=>l(new Error(`Unable to preload CSS for ${t}`)))})})).then(()=>r())};var PetCard_vue_vue_type_style_index_0_lang="";const Cat1=defineAsyncComponent(()=>__vitePreload(()=>import("./Cat1.ff0592a7.js"),["assets/Cat1.ff0592a7.js","assets/Cat1.ea479ec8.css","assets/vendor.0d55ffb7.js"])),Cat2=defineAsyncComponent(()=>__vitePreload(()=>import("./Cat2.aef602cb.js"),["assets/Cat2.aef602cb.js","assets/Cat2.40a4ccfc.css","assets/vendor.0d55ffb7.js"])),Dog1=defineAsyncComponent(()=>__vitePreload(()=>import("./Dog1.43c49547.js"),["assets/Dog1.43c49547.js","assets/Dog1.06b7443e.css","assets/vendor.0d55ffb7.js"])),Dog2=defineAsyncComponent(()=>__vitePreload(()=>import("./Dog2.60e07920.js"),["assets/Dog2.60e07920.js","assets/Dog2.331cc871.css","assets/vendor.0d55ffb7.js"])),Rabbit1=defineAsyncComponent(()=>__vitePreload(()=>import("./Rabbit1.03c23a50.js"),["assets/Rabbit1.03c23a50.js","assets/Rabbit1.6fdf2d02.css","assets/vendor.0d55ffb7.js"])),Rabbit2=defineAsyncComponent(()=>__vitePreload(()=>import("./Rabbit2.2631b7fa.js"),["assets/Rabbit2.2631b7fa.js","assets/Rabbit2.ac2d27cd.css","assets/vendor.0d55ffb7.js"])),NoPet=defineAsyncComponent(()=>__vitePreload(()=>import("./NoPet.65b54733.js"),["assets/NoPet.65b54733.js","assets/NoPet.477eea08.css","assets/vendor.0d55ffb7.js"])),Chat=defineAsyncComponent(()=>__vitePreload(()=>import("./Chat.ae71569e.js"),["assets/Chat.ae71569e.js","assets/Chat.28a57d22.css","assets/vendor.0d55ffb7.js"])),setPetComponent=(type,level)=>{let curCom,stage=getPetStage(level);switch(stage=stage>1?2:1,type){case petType.cat:curCom="Cat"+stage;break;case petType.dog:curCom="Dog"+stage;break;case petType.rabbit:curCom="Rabbit"+stage;break;default:curCom="NoPet";break}return eval(curCom)},_sfc_main$8={components:{NoPet,Cat1,Cat2,Dog1,Rabbit1,Dog2,Rabbit2,Chat},props:["pet","initData"],computed:{petComponent(){return setPetComponent(this.pet.type,this.level)}},setup(o){return{level:getLevel(o.pet.total_exp),togglePlane(r,e){instance.emit("index/toggle-plane-state",r,e)},clickPet(){instance.emit("index/click-pet",o.pet)}}}},_hoisted_1$7={key:0,class:"op-wrap"},_hoisted_2$7={key:1,class:"op-wrap op-r-wrap"};function _sfc_render$8(o,r,e,t,i,n){const a=resolveComponent("Chat");return openBlock(),createElementBlock("div",{class:normalizeClass(["pet-card-wrap",{mine:e.pet.isMine}])},[createBaseVNode("div",{class:"pet-wrap",onClick:r[0]||(r[0]=withModifiers((...h)=>t.clickPet&&t.clickPet(...h),["stop"]))},[(openBlock(),createBlock(resolveDynamicComponent(n.petComponent)))]),createBaseVNode("div",{class:"host-name",onClick:r[1]||(r[1]=withModifiers(()=>{},["stop"]))},toDisplayString(e.pet.isMine?"\u6211\u7684\u5B9D\u5B9D":e.pet.name)+" (v"+toDisplayString(t.level)+")",1),e.pet.isMine?(openBlock(),createElementBlock("div",_hoisted_1$7,[createBaseVNode("span",{title:"\u6253\u5DE5",onClick:r[2]||(r[2]=withModifiers(h=>t.togglePlane("work",!0),["stop"]))},"\uE8F4"),createBaseVNode("span",{title:"\u6D88\u606F",onClick:r[3]||(r[3]=withModifiers(h=>t.togglePlane("event",!0),["stop"]))},"\uE604"),createBaseVNode("span",{title:"\u6392\u884C",onClick:r[4]||(r[4]=withModifiers(h=>t.togglePlane("rank",!0),["stop"]))},"\uEA06")])):createCommentVNode("",!0),e.pet.isMine?(openBlock(),createElementBlock("div",_hoisted_2$7,[createBaseVNode("span",{title:"\u6211\u7684\u80CC\u5305",onClick:r[5]||(r[5]=withModifiers(h=>t.togglePlane("bag",!0),["stop"]))},"\uE769"),createBaseVNode("span",{title:"\u5546\u5E97",onClick:r[6]||(r[6]=withModifiers(h=>t.togglePlane("shop",!0),["stop"]))},"\uE697")])):createCommentVNode("",!0),e.pet.isMine&&t.level>0?(openBlock(),createBlock(a,{key:2,initData:e.initData},null,8,["initData"])):createCommentVNode("",!0)],2)}var PetCard=_export_sfc(_sfc_main$8,[["render",_sfc_render$8]]),InfoCard_vue_vue_type_style_index_0_scoped_true_lang="";const _sfc_main$7={props:["pet","axis","myLevel"],computed:{x(){var e;let o=0;const r=this.wrap;if(r&&((e=this.axis)==null?void 0:e.x)>=0){const t=r.getBoundingClientRect().width,i=window.innerWidth;t+this.axis.x>i?o=this.axis.x-t:o=this.axis.x}return o+"px"},y(){var e;let o=0;const r=this.wrap;if(r&&((e=this.axis)==null?void 0:e.y)>=0){const t=r.getBoundingClientRect().height,i=window.innerHeight;t+this.axis.y>i?o=this.axis.y-t:o=this.axis.y}return o+"px"}},setup(o){const r=ref(null);let e=0,t=0;const{force:i,defence:n,agility:a,name:h,total_exp:l=0}=o.pet;return h&&(e=Math.max(i,n,a),t=getNextLevelExp(l)),{wrap:r,getPercent(c=0){return(c/e).toFixed(2)*100+"%"},levelPercent:(l/t).toFixed(2)*100+"%",clickAttack(){if(o.myLevel<5)return instance.emit("dialog/alert","\u5B9D\u5B9D 5 \u7EA7\u540E\u624D\u80FD\u53D1\u52A8\u653B\u51FB\u54E6\u3002");if(l<levels[2].exp)return instance.emit("dialog/alert","\u8BE5\u5B9D\u5B9D\u8FD8\u5C0F\uFF0C\u5C31\u522B\u6B3A\u8D1F\u5B83\u4E86\u3002");instance.emit("dialog/confirm",`\u786E\u5B9A\u653B\u51FB${h}\u7684\u5B9D\u5B9D\u4E48\uFF1F`,()=>{attack({target:o.pet.user_id},c=>{if(c.code!==codes.ok)return instance.emit("dialog/alert",c.err);let u=c.isSuccess===0?"\u4F60\u7684\u5B9D\u5B9D\u8FD8\u4E0D\u591F\u5F3A\u5927\uFF0C\u6CA1\u6253\u8D62\u5BF9\u65B9 :(":"\u653B\u51FB\u6210\u529F\uFF0C"+(c.gainCoins>0?`\u4ECE${h}\u8EAB\u4E0A\u62A2\u8D70\u4E86 ${c.gainCoins} \u91D1\u5E01`:`\u4F46${h}\u5B9E\u5728\u592A\u7A77\u4E86\uFF0C\u4F60\u6CA1\u6709\u62A2\u5230\u91D1\u5E01`);instance.emit("request/reload"),instance.emit("dialog/alert",u)})})}}}},_hoisted_1$6=createTextVNode("\u6B66\u529B\uFF1A"),_hoisted_2$6=["title"],_hoisted_3$5=createTextVNode("\u9632\u5FA1\uFF1A"),_hoisted_4$5=["title"],_hoisted_5$5=createTextVNode("\u654F\u6377\uFF1A"),_hoisted_6$5=["title"],_hoisted_7$5=createTextVNode("\u7ECF\u9A8C\uFF1A"),_hoisted_8$5=["title"],_hoisted_9$5={key:0,class:"attack"};function _sfc_render$7(o,r,e,t,i,n){return openBlock(),createElementBlock("div",{class:normalizeClass(["pet-info-card-wrap dialog-base",{mine:e.pet.isMine}]),ref:"wrap",style:normalizeStyle({left:n.x,top:n.y})},[createBaseVNode("p",null,[_hoisted_1$6,createBaseVNode("span",{title:e.pet.force},[createBaseVNode("em",{style:normalizeStyle({width:t.getPercent(e.pet.force)})},null,4)],8,_hoisted_2$6)]),createBaseVNode("p",null,[_hoisted_3$5,createBaseVNode("span",{title:e.pet.defence},[createBaseVNode("em",{style:normalizeStyle({width:t.getPercent(e.pet.defence)})},null,4)],8,_hoisted_4$5)]),createBaseVNode("p",null,[_hoisted_5$5,createBaseVNode("span",{title:e.pet.agility},[createBaseVNode("em",{style:normalizeStyle({width:t.getPercent(e.pet.agility)})},null,4)],8,_hoisted_6$5)]),createBaseVNode("p",null,[_hoisted_7$5,createBaseVNode("span",{title:e.pet.total_exp},[createBaseVNode("em",{style:normalizeStyle({width:t.levelPercent})},null,4)],8,_hoisted_8$5)]),e.pet.isMine?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_9$5,[createBaseVNode("span",{class:"button",onClick:r[0]||(r[0]=withModifiers((...a)=>t.clickAttack&&t.clickAttack(...a),["stop"]))},"\u653B\u51FB\u8BE5\u5B9D\u5B9D")]))],6)}var InfoCard=_export_sfc(_sfc_main$7,[["render",_sfc_render$7],["__scopeId","data-v-bc69cf9e"]]),WorkPlane_vue_vue_type_style_index_0_lang="";let timeStamp=null;const _sfc_main$6={props:["myLevel"],computed:{title(){return this.isWorking?"\u6253\u5DE5\u4E2D\uFF0C\u756A\u8304\u949F\u5012\u8BA1\u65F6\uFF1A"+this.restTime:"\u756A\u8304\u949F\u70B9\u5DE5"},isShow(){return this.myLevel>=1&&!this.isDoneToday}},data(){return{isWorking:!1,restTime:"",isDoneToday:!1}},methods:{clickStartToWork(){markEvent({type:"startWorking"},o=>{o.code===codes.ok?this.startToWork():instance.emit("dialog/alert",o.err||"\u6253\u5DE5\u8BF7\u6C42\u5931\u8D25\uFF0C\u8BF7\u7A0D\u540E\u91CD\u8BD5")})},startToWork(){this.isWorking=!0;let o=hooks("010000","Hmmss");this.restTime="01:00:00",timeStamp=setInterval(()=>{o=o.subtract(1,"seconds"),this.restTime=o.format("HH:mm:ss"),this.restTime==="00:00:00"&&(endWorking(r=>{r.code===codes.ok?(localStorage.setItem("last-work-date",hooks().format("yyyy-MM-DD")),instance.emit("request/reload"),instance.emit("dialog/alert",`\u6253\u5DE5\u5B8C\u6210\uFF0C\u83B7\u5F97 ${r.coins} \u91D1\u5E01\u5956\u52B1\uFF01`)):(console.log(r.err),instance.emit("dialog/alert",r.err||"\u6253\u5DE5\u5931\u8D25\uFF0C\u8BF7\u622A\u56FE\u8054\u7CFB VJ\u3002"))}),this.closePlane())},1e3),this.workMonitor()},checkVisibility(){document.hidden&&(this.isWorking=!1,this.unmountMonitor(),this.closePlane(),setTimeout(()=>{instance.emit("dialog/alert","\u4F60\u79BB\u5F00\u4E86\u6253\u5DE5\u754C\u9762\uFF0C\u6253\u5DE5\u5931\u8D25")},10))},workMonitor(){document.addEventListener("visibilitychange",this.checkVisibility)},unmountMonitor(){document.removeEventListener("visibilitychange",this.checkVisibility)},closePlane(){clearInterval(timeStamp),timeStamp=null,instance.emit("index/toggle-plane-state","work",!1)}},created(){const o=localStorage.getItem("last-work-date"),r=hooks().format("yyyy-MM-DD");this.isDoneToday=r===o},beforeUnmount(){this.unmountMonitor()}},_hoisted_1$5={class:"mask-bg"},_hoisted_2$5={class:"work-plane-wrap dialog-base"},_hoisted_3$4={key:0},_hoisted_4$4=createTextVNode("\u6B22\u8FCE\u6765\u756A\u8304\u8D85\u5E02\u6253\u5DE5\uFF0C\u6BCF\u5929\u6253\u5DE5\u5B8C\u6BD5\u53EF\u83B7\u5F97 10 \u91D1\u5E01\u5956\u52B1\u3002"),_hoisted_5$4=createBaseVNode("br",null,null,-1),_hoisted_6$4=createTextVNode(" \u6253\u5DE5\u8FC7\u7A0B\u4E0D\u53EF\u5237\u65B0 / \u9690\u85CF\u6253\u5DE5\u754C\u9762\uFF0C\u5426\u5219\u4F1A\u5F53\u4F5C\u5077\u61D2\u884C\u4E3A\u4E2D\u65AD\u6253\u5DE5\u54E6\u3002"),_hoisted_7$4=createBaseVNode("br",null,null,-1),_hoisted_8$4={key:1},_hoisted_9$4={key:2},_hoisted_10$4=createBaseVNode("br",null,null,-1);function _sfc_render$6(o,r,e,t,i,n){return openBlock(),createElementBlock("div",_hoisted_1$5,[createBaseVNode("div",_hoisted_2$5,[createBaseVNode("h1",null,toDisplayString(n.title),1),!i.isWorking&&n.isShow?(openBlock(),createElementBlock("p",_hoisted_3$4,[_hoisted_4$4,_hoisted_5$4,_hoisted_6$4,_hoisted_7$4,createBaseVNode("span",{class:"mr-30 button",onClick:r[0]||(r[0]=withModifiers((...a)=>n.clickStartToWork&&n.clickStartToWork(...a),["stop"]))},"\u5F00\u59CB\u6253\u5DE5"),createBaseVNode("span",{class:"button button-light",onClick:r[1]||(r[1]=withModifiers((...a)=>n.closePlane&&n.closePlane(...a),["stop"]))},"\u53D6\u6D88")])):createCommentVNode("",!0),i.isWorking?(openBlock(),createElementBlock("p",_hoisted_8$4," \u6253\u5DE5\u8FC7\u7A0B\u4E0D\u53EF\u5237\u65B0 / \u9690\u85CF\u6253\u5DE5\u754C\u9762\uFF0C\u5426\u5219\u4F1A\u5F53\u4F5C\u5077\u61D2\u884C\u4E3A\u4E2D\u65AD\u6253\u5DE5\u54E6\u3002 ")):createCommentVNode("",!0),n.isShow?createCommentVNode("",!0):(openBlock(),createElementBlock("p",_hoisted_9$4,[createTextVNode(toDisplayString(i.isDoneToday?"\u4F60\u7684\u5B9D\u5B9D\u4ECA\u5929\u5DF2\u6253\u5DE5\u8FC7\u4E86\uFF0C\u8BF7\u660E\u5929\u518D\u6765\u5427\u3002":"\u4F60\u7684\u5B9D\u5B9D\u8FD8\u5C0F\uFF0C\u8BF7\u5728 1 \u7EA7\u540E\u518D\u6765\u5427\u3002"),1),_hoisted_10$4,createBaseVNode("span",{class:"button",onClick:r[2]||(r[2]=withModifiers((...a)=>n.closePlane&&n.closePlane(...a),["stop"]))},"\u6211\u77E5\u9053\u4E86")]))])])}var WorkPlane=_export_sfc(_sfc_main$6,[["render",_sfc_render$6]]),EventPlane_vue_vue_type_style_index_0_lang="";const _sfc_main$5={props:["myEvents","events","userMap"],computed:{},data(){return{}},methods:{closePlane(){instance.emit("index/toggle-plane-state","event",!1)},getTime(o={}){return hooks(o.c_time).format("MM-DD HH:mm")},getDesc(o={},r){let e="";const t=r||this.userMap.mine,{user_id:i,target_id:n,award_num:a}=o,h=i===t?"\u6211":`\u300C${this.userMap[i]||""}\u300D`,l=n===t?"\u6211":`\u300C${this.userMap[n]||""}\u300D`;switch(o.type){case eventType.attack:a>0?e=`${h}\u653B\u51FB\u5E76\u5077\u8D70\u4E86${l} ${a} \u4E2A\u91D1\u5E01\u3002`:e=`${h}\u653B\u51FB\u4E86${l}\u7684\u5B9D\u5B9D\u3002`;break;case eventType.startWorking:e=`${h}\u7684\u5B9D\u5B9D\u6253\u5DE5\u8D5A\u53D6\u4E86 ${a} \u4E2A\u91D1\u5E01\u3002`;break}return e}}},_hoisted_1$4={class:"mask-bg"},_hoisted_2$4={class:"event-plane-wrap dialog-base"},_hoisted_3$3={class:"event-wrap"},_hoisted_4$3=createBaseVNode("h2",null,[createBaseVNode("span",{class:"iconfont"},"\uEC95"),createTextVNode("\u6211\u7684\u6D88\u606F")],-1),_hoisted_5$3={key:0},_hoisted_6$3={class:"mr-10"},_hoisted_7$3={key:1,class:"none-info"},_hoisted_8$3=createBaseVNode("h2",null,[createBaseVNode("span",{class:"iconfont"},"\uE68E"),createTextVNode("\u4E16\u754C\u6D88\u606F")],-1),_hoisted_9$3={key:0},_hoisted_10$3={class:"mr-10"},_hoisted_11$3={key:1,class:"none-info"};function _sfc_render$5(o,r,e,t,i,n){return openBlock(),createElementBlock("div",_hoisted_1$4,[createBaseVNode("div",_hoisted_2$4,[createBaseVNode("div",_hoisted_3$3,[createBaseVNode("p",null,[_hoisted_4$3,e.myEvents.length?(openBlock(),createElementBlock("ul",_hoisted_5$3,[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.myEvents,a=>(openBlock(),createElementBlock("li",{key:"my-event-"+a.id},[createBaseVNode("span",_hoisted_6$3,toDisplayString(n.getTime(a)),1),createBaseVNode("span",null,toDisplayString(n.getDesc(a)),1)]))),128))])):(openBlock(),createElementBlock("div",_hoisted_7$3,"\u6682\u65E0"))]),createBaseVNode("p",null,[_hoisted_8$3,e.events.length?(openBlock(),createElementBlock("ul",_hoisted_9$3,[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.events,a=>(openBlock(),createElementBlock("li",{key:"my-event-"+a.id},[createBaseVNode("span",_hoisted_10$3,toDisplayString(n.getTime(a)),1),createBaseVNode("span",null,toDisplayString(n.getDesc(a,!0)),1)]))),128))])):(openBlock(),createElementBlock("div",_hoisted_11$3,"\u6682\u65E0"))])]),createBaseVNode("p",null,[createBaseVNode("span",{class:"button",onClick:r[0]||(r[0]=withModifiers((...a)=>n.closePlane&&n.closePlane(...a),["stop"]))},"\u8FD4\u56DE")])])])}var EventPlane=_export_sfc(_sfc_main$5,[["render",_sfc_render$5]]),RankPlane_vue_vue_type_style_index_0_lang="";const getRank=(o=[],r)=>o.map(t=>({[r]:t[r],name:t.name,id:t.user_id})).sort((t,i)=>i[r]-t[r]).slice(0,5),getAttacksList=(o,r)=>o.map(t=>({times:t.times,name:r[t.user_id]||""})),_sfc_main$4={props:["pets","userMap","attacks"],computed:{},setup(o){const{pets:r,attacks:e,userMap:t}=o;return{forceList:getRank(r,"force"),defenceList:getRank(r,"defence"),agilityList:getRank(r,"agility"),attackList:getAttacksList(e,t)}},methods:{closePlane(){instance.emit("index/toggle-plane-state","rank",!1)}}},_hoisted_1$3={class:"mask-bg"},_hoisted_2$3={class:"rank-plane-wrap dialog-base"},_hoisted_3$2={class:"rank-wrap"},_hoisted_4$2=createBaseVNode("h2",null,"\u6B66\u529B\u699C",-1),_hoisted_5$2={key:0},_hoisted_6$2={class:"rank-num"},_hoisted_7$2={class:"rank-val",title:"\u6B66\u529B\u503C"},_hoisted_8$2=createBaseVNode("h2",null,"\u9632\u5FA1\u699C",-1),_hoisted_9$2={key:0},_hoisted_10$2={class:"rank-num"},_hoisted_11$2={class:"rank-val",title:"\u9632\u5FA1\u503C"},_hoisted_12$1=createBaseVNode("h2",null,"\u654F\u6377\u699C",-1),_hoisted_13$1={key:0},_hoisted_14={class:"rank-num"},_hoisted_15={class:"rank-val",title:"\u654F\u6377\u503C"},_hoisted_16=createBaseVNode("h2",null,"\u6076\u4EBA\u699C",-1),_hoisted_17={key:0},_hoisted_18={class:"rank-num"},_hoisted_19={class:"rank-val",title:"\u8FDB\u653B\u6210\u529F\u6B21\u6570"},_hoisted_20={key:1,style:{"margin-top":".3rem"}};function _sfc_render$4(o,r,e,t,i,n){return openBlock(),createElementBlock("div",_hoisted_1$3,[createBaseVNode("div",_hoisted_2$3,[createBaseVNode("div",_hoisted_3$2,[createBaseVNode("p",null,[_hoisted_4$2,t.forceList.length?(openBlock(),createElementBlock("ul",_hoisted_5$2,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.forceList,(a,h)=>(openBlock(),createElementBlock("li",{key:"rank-force-"+a.id},[createBaseVNode("span",_hoisted_6$2,toDisplayString(h+1),1),createBaseVNode("span",null,toDisplayString(a.name),1),createBaseVNode("span",_hoisted_7$2,"\u6B66 "+toDisplayString(a.force),1)]))),128))])):createCommentVNode("",!0)]),createBaseVNode("p",null,[_hoisted_8$2,t.defenceList.length?(openBlock(),createElementBlock("ul",_hoisted_9$2,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.defenceList,(a,h)=>(openBlock(),createElementBlock("li",{key:"rank-defence-"+a.id},[createBaseVNode("span",_hoisted_10$2,toDisplayString(h+1),1),createBaseVNode("span",null,toDisplayString(a.name),1),createBaseVNode("span",_hoisted_11$2,"\u9632 "+toDisplayString(a.defence),1)]))),128))])):createCommentVNode("",!0)]),createBaseVNode("p",null,[_hoisted_12$1,t.agilityList.length?(openBlock(),createElementBlock("ul",_hoisted_13$1,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.agilityList,(a,h)=>(openBlock(),createElementBlock("li",{key:"rank-agility-"+a.id},[createBaseVNode("span",_hoisted_14,toDisplayString(h+1),1),createBaseVNode("span",null,toDisplayString(a.name),1),createBaseVNode("span",_hoisted_15,"\u654F "+toDisplayString(a.agility),1)]))),128))])):createCommentVNode("",!0)]),createBaseVNode("p",null,[_hoisted_16,t.attackList.length?(openBlock(),createElementBlock("ul",_hoisted_17,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.attackList,(a,h)=>(openBlock(),createElementBlock("li",{key:"rank-attack-"+a.id},[createBaseVNode("span",_hoisted_18,toDisplayString(h+1),1),createBaseVNode("span",null,toDisplayString(a.name),1),createBaseVNode("span",_hoisted_19,"\u653B "+toDisplayString(a.times),1)]))),128))])):(openBlock(),createElementBlock("div",_hoisted_20,"\u6682\u65E0"))])]),createBaseVNode("p",null,[createBaseVNode("span",{class:"button",onClick:r[0]||(r[0]=withModifiers((...a)=>n.closePlane&&n.closePlane(...a),["stop"]))},"\u8FD4\u56DE")])])])}var RankPlane=_export_sfc(_sfc_main$4,[["render",_sfc_render$4]]),BagPlane_vue_vue_type_style_index_0_lang="";const getEffectStr=o=>{const r={force:"\u6B66\u529B",defence:"\u9632\u5FA1",agility:"\u654F\u6377",exp:"\u7ECF\u9A8C"};let e="";for(let t in o)e+=`${r[t]} +${o[t]}\uFF0C`;return e.replace(/，$/,"")},_sfc_main$3={props:["myInfo","myProps"],data(){return{}},methods:{getPropInfo(o){return shopProps[o.type-1]},useProp(o){useProp(o,r=>{if(r.code!==codes.ok)return instance.emit("dialog/alert",r.err);instance.emit("request/reload");const e=getEffectStr(r.effect);instance.emit("dialog/alert","\u4F7F\u7528\u9053\u5177\u6210\u529F\uFF0C\u5B9D\u5B9D\u7684"+e)})},closePlane(){instance.emit("index/toggle-plane-state","bag",!1)}}},_hoisted_1$2={class:"mask-bg"},_hoisted_2$2={class:"bag-plane-wrap dialog-base"},_hoisted_3$1=createBaseVNode("h1",null,"\u6211\u7684\u80CC\u5305",-1),_hoisted_4$1={title:"\u6211\u7684\u91D1\u5E01"},_hoisted_5$1=createBaseVNode("span",{class:"iconfont"},"\uE618",-1),_hoisted_6$1={key:0},_hoisted_7$1={class:"prop-info-wrap"},_hoisted_8$1={class:"name"},_hoisted_9$1={class:"desc"},_hoisted_10$1={class:"num"},_hoisted_11$1=createTextVNode("\u6570\u91CF\uFF1A"),_hoisted_12=["onClick"],_hoisted_13={key:1,class:"none-prop"};function _sfc_render$3(o,r,e,t,i,n){return openBlock(),createElementBlock("div",_hoisted_1$2,[createBaseVNode("div",_hoisted_2$2,[_hoisted_3$1,createBaseVNode("h2",_hoisted_4$1,[_hoisted_5$1,createBaseVNode("span",null,toDisplayString(e.myInfo.coin),1)]),e.myProps.length?(openBlock(),createElementBlock("ul",_hoisted_6$1,[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.myProps,(a,h)=>(openBlock(),createElementBlock("li",null,[createBaseVNode("div",{class:normalizeClass(["prop-icon","prop-icon-"+a.type])},null,2),createBaseVNode("div",_hoisted_7$1,[createBaseVNode("p",_hoisted_8$1,toDisplayString(n.getPropInfo(a).name),1),createBaseVNode("p",_hoisted_9$1,toDisplayString(n.getPropInfo(a).desc),1),createBaseVNode("p",_hoisted_10$1,[_hoisted_11$1,createBaseVNode("span",null,toDisplayString(a.nums),1)]),createBaseVNode("p",null,[createBaseVNode("span",{class:"button",onClick:withModifiers(l=>n.useProp(a),["stop"])},"\u4F7F\u7528",8,_hoisted_12)])])]))),256))])):(openBlock(),createElementBlock("div",_hoisted_13,"\u7A7A\u7A7A\u5982\u4E5F")),createBaseVNode("p",null,[createBaseVNode("span",{class:"button",onClick:r[0]||(r[0]=withModifiers((...a)=>n.closePlane&&n.closePlane(...a),["stop"]))},"\u8FD4\u56DE")])])])}var BagPlane=_export_sfc(_sfc_main$3,[["render",_sfc_render$3]]),ShopPlane_vue_vue_type_style_index_0_lang="";const _sfc_main$2={props:["myInfo"],computed:{},data(){return{shopProps}},methods:{closePlane(){instance.emit("index/toggle-plane-state","shop",!1)},clickBuy(o){if(o.price>this.myInfo.coin)return instance.emit("dialog/alert","\u4F60\u7684\u91D1\u5E01\u4E0D\u591F\u54E6 :(");instance.emit("dialog/confirm",`\u786E\u5B9A\u82B1\u8D39 ${o.price} \u91D1\u5E01\u8D2D\u4E70\u300C${o.name}\u300D\u4E48\uFF1F`,()=>{buyProp(o,r=>{if(r.code!==codes.ok)return instance.emit("dialog/alert",r.err);instance.emit("request/reload"),instance.emit("dialog/alert","\u8D2D\u4E70\u6210\u529F\uFF0C\u5FEB\u53BB\u80CC\u5305\u4F7F\u7528\u5427")})})}}},_hoisted_1$1={class:"mask-bg"},_hoisted_2$1={class:"shop-plane-wrap dialog-base"},_hoisted_3=createBaseVNode("h1",null,"\u5546\u5E97",-1),_hoisted_4={title:"\u6211\u7684\u91D1\u5E01"},_hoisted_5=createBaseVNode("span",{class:"iconfont"},"\uE618",-1),_hoisted_6={class:"prop-info-wrap"},_hoisted_7={class:"name"},_hoisted_8={class:"desc"},_hoisted_9={class:"price"},_hoisted_10=createBaseVNode("span",{class:"iconfont"},"\uE618",-1),_hoisted_11=["onClick"];function _sfc_render$2(o,r,e,t,i,n){return openBlock(),createElementBlock("div",_hoisted_1$1,[createBaseVNode("div",_hoisted_2$1,[_hoisted_3,createBaseVNode("h2",_hoisted_4,[_hoisted_5,createBaseVNode("span",null,toDisplayString(e.myInfo.coin),1)]),createBaseVNode("ul",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(i.shopProps,(a,h)=>(openBlock(),createElementBlock("li",null,[createBaseVNode("div",{class:normalizeClass(["prop-icon","prop-icon-"+a.type])},null,2),createBaseVNode("div",_hoisted_6,[createBaseVNode("p",_hoisted_7,toDisplayString(a.name),1),createBaseVNode("p",_hoisted_8,toDisplayString(a.desc),1),createBaseVNode("p",_hoisted_9,[_hoisted_10,createTextVNode(toDisplayString(a.price),1)]),createBaseVNode("p",null,[createBaseVNode("span",{class:"button",onClick:withModifiers(l=>n.clickBuy(a),["stop"])},"\u8D2D\u4E70",8,_hoisted_11)])])]))),256))]),createBaseVNode("p",null,[createBaseVNode("span",{class:"button",onClick:r[0]||(r[0]=withModifiers((...a)=>n.closePlane&&n.closePlane(...a),["stop"]))},"\u8FD4\u56DE")])])])}var ShopPlane=_export_sfc(_sfc_main$2,[["render",_sfc_render$2]]),Dialog_vue_vue_type_style_index_0_scoped_true_lang="";const noop=()=>{},_sfc_main$1={data(){return{isShow:!1,type:1,callback:noop,msg:""}},methods:{show(o="",r=noop,e){this.msg=o,this.callback=r,this.type=e,this.isShow=!0},close(){this.isShow=!1},confirm(){this.close(),this.callback()}},mounted(){instance.on("dialog/alert",(o,r)=>{this.show(o,r,1)}),instance.on("dialog/confirm",(o,r)=>{this.show(o,r,2)})}},_hoisted_1={key:0,class:"mask-bg"},_hoisted_2={class:"dialog-wrap dialog-base"};function _sfc_render$1(o,r,e,t,i,n){return i.isShow?(openBlock(),createElementBlock("div",_hoisted_1,[createBaseVNode("div",_hoisted_2,[createBaseVNode("p",null,toDisplayString(i.msg),1),createBaseVNode("p",null,[i.type===1?(openBlock(),createElementBlock("span",{key:0,class:"button",onClick:r[0]||(r[0]=withModifiers((...a)=>n.close&&n.close(...a),["stop"]))},"\u786E\u5B9A")):createCommentVNode("",!0),i.type===2?(openBlock(),createElementBlock("span",{key:1,class:"button mr-30 button-light",onClick:r[1]||(r[1]=withModifiers((...a)=>n.close&&n.close(...a),["stop"]))},"\u53D6\u6D88")):createCommentVNode("",!0),i.type===2?(openBlock(),createElementBlock("span",{key:2,class:"button",onClick:r[2]||(r[2]=withModifiers((...a)=>n.confirm&&n.confirm(...a),["stop"]))},"\u786E\u5B9A")):createCommentVNode("",!0)])])])):createCommentVNode("",!0)}var Dialog=_export_sfc(_sfc_main$1,[["render",_sfc_render$1],["__scopeId","data-v-756a7dcc"]]),Index_vue_vue_type_style_index_0_rel_stylesheet_2Fscss_lang="";let initData=reactive({}),planeState=reactive({}),isRequesting=ref(!0),isInitRequestDone=ref(!1);const infoCard=reactive({isShow:!1,pet:{},axis:{}}),initOrResetData=o=>{getInitData(r=>{if(r.code!==codes.ok){instance.emit("dialog/alert",r.err);return}initData=Object.assign(initData,r),isInitRequestDone.value=!0},o)};instance.on("request/loading",o=>{isRequesting.value=o});instance.on("index/toggle-plane-state",(o,r)=>{infoCard.isShow=!1,planeState[o]=r});instance.on("request/reload",initOrResetData);instance.on("index/click-pet",o=>{if(infoCard.pet=o,infoCard.isShow=!infoCard.isShow,infoCard.isShow){const{pageX:r,pageY:e}=event;infoCard.axis={x:r,y:e}}});const _sfc_main={components:{PetCard,InfoCard,Login,Loading,ChoosePet,WorkPlane,EventPlane,BagPlane,ShopPlane,RankPlane,Dialog},computed:{myInfo(){return this.initData.myInfo},myProps(){return this.initData.myProps||[]},pets(){return this.initData.pets||[]},attacks(){return this.initData.attacks||[]},userMap(){const o={};return(this.initData.pets||[]).forEach(e=>{o[e.user_id]=e.name,e.isMine&&(o.mine=e.user_id)}),o},hasPet(){var o;return(o=this.initData.pets[0])==null?void 0:o.isMine},hasLogined(){return Boolean(this.initData.myInfo)},myLevel(){var r;let o=0;if((r=this.initData.pets[0])!=null&&r.isMine){const e=this.initData.pets[0];o=getLevel(e.total_exp)}return o}},setup(){return initOrResetData(),{initData,isRequesting,isInitRequestDone,planeState,infoCard,clickWrap(){infoCard.isShow=!1}}},mounted(){const o=()=>{setTimeout(()=>{initOrResetData(!0),o()},6e4)};o()}};function _sfc_render(o,r,e,t,i,n){var E;const a=resolveComponent("PetCard"),h=resolveComponent("Login"),l=resolveComponent("ChoosePet"),c=resolveComponent("WorkPlane"),u=resolveComponent("EventPlane"),d=resolveComponent("RankPlane"),f=resolveComponent("ShopPlane"),_=resolveComponent("BagPlane"),g=resolveComponent("InfoCard"),v=resolveComponent("Loading"),m=resolveComponent("Dialog");return openBlock(),createElementBlock("div",{class:"pets-wrap",onClick:r[0]||(r[0]=(...y)=>t.clickWrap&&t.clickWrap(...y))},[(openBlock(!0),createElementBlock(Fragment,null,renderList((E=t.initData)==null?void 0:E.pets,(y,x)=>(openBlock(),createBlock(a,{pet:y,key:`pet-${y.id}`,initData:t.initData},null,8,["pet","initData"]))),128)),t.isInitRequestDone&&!n.hasLogined&&!t.isRequesting?(openBlock(),createBlock(h,{key:0})):createCommentVNode("",!0),t.isInitRequestDone&&n.hasLogined&&!n.hasPet&&!t.isRequesting?(openBlock(),createBlock(l,{key:1})):createCommentVNode("",!0),t.planeState.work?(openBlock(),createBlock(c,{key:2,myLevel:n.myLevel},null,8,["myLevel"])):createCommentVNode("",!0),t.planeState.event?(openBlock(),createBlock(u,{key:3,userMap:n.userMap,events:t.initData.events,myEvents:t.initData.myEvents},null,8,["userMap","events","myEvents"])):createCommentVNode("",!0),t.planeState.rank?(openBlock(),createBlock(d,{key:4,pets:n.pets,userMap:n.userMap,attacks:n.attacks},null,8,["pets","userMap","attacks"])):createCommentVNode("",!0),t.planeState.shop?(openBlock(),createBlock(f,{key:5,myInfo:n.myInfo},null,8,["myInfo"])):createCommentVNode("",!0),t.planeState.bag?(openBlock(),createBlock(_,{key:6,myInfo:n.myInfo,myProps:n.myProps},null,8,["myInfo","myProps"])):createCommentVNode("",!0),t.infoCard.isShow?(openBlock(),createBlock(g,{key:7,pet:t.infoCard.pet,axis:t.infoCard.axis,myLevel:n.myLevel},null,8,["pet","axis","myLevel"])):createCommentVNode("",!0),t.isRequesting?(openBlock(),createBlock(v,{key:8})):createCommentVNode("",!0),createVNode(m)])}var Index=_export_sfc(_sfc_main,[["render",_sfc_render]]);(function(o,r){var e=o.documentElement,t="onorientationchange"in r?"orientationchange":"resize",i=function(){var n=e.clientWidth;!n||(e.style.fontSize=100*(n/2500)+"px",r.addEventListener(t,i,!1),o.addEventListener("DOMContentLoaded",i,!1))};i()})(document,window);createApp(Index).mount("#app");export{_export_sfc as _,createjs as c};
